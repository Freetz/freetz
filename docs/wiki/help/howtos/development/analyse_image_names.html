<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

  <head>
    <title>
      help/howtos/development/analyse_image_names – Freetz
    </title>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
      <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!--[if IE]><script type="text/javascript">
      if (/^#__msie303:/.test(window.location.hash))
        window.location.replace(window.location.hash.replace(/^#__msie303:/, '#'));
    </script><![endif]-->
        <link rel="search" href="/search" />
        <link rel="help" href="../../../TracGuide.html" />
        <link rel="alternate" href="analyse_image_names%3Fformat=txt" type="text/x-trac-wiki" title="Reiner Text" />
        <link rel="up" href="../development.html" title="Übergeordnete Wiki-Seite anzeigen" />
        <link rel="start" href="/wiki" />
        <link rel="stylesheet" href="../../../../chrome/common/css/trac.css" type="text/css" /><link rel="stylesheet" href="../../../../chrome/common/css/wiki.css" type="text/css" /><link rel="stylesheet" href="../../../../chrome/wikiextras/css/phrases.css" type="text/css" /><link rel="stylesheet" href="../../../../chrome/wikiextras/css/boxes.css" type="text/css" /><link rel="stylesheet" href="../../../../chrome/wikiextras/css/boxes-300.css" type="text/css" /><link rel="stylesheet" href="../../../../chrome/wikiextras/css/boxes-narrow-toc.css" type="text/css" /><link rel="stylesheet" href="../../../../wikicss.css" type="text/css" /><link rel="stylesheet" href="../../../../chrome/tags/css/tractags.css" type="text/css" /><link rel="stylesheet" href="../../../../chrome/wikinegotiator/css/langmenu-ctxnav.css" type="text/css" />
        <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon" />
        <link rel="icon" href="/favicon.ico" type="image/x-icon" />
      <link type="application/opensearchdescription+xml" rel="search" href="/search/opensearch" title="Freetz durchsuchen" />
      <script type="text/javascript" charset="utf-8" src="../../../../chrome/common/js/jquery.js"></script>
      <script type="text/javascript" charset="utf-8" src="../../../../chrome/common/js/babel.js"></script>
      <script type="text/javascript" charset="utf-8" src="../../../../chrome/common/js/messages/de.js"></script>
      <script type="text/javascript" charset="utf-8" src="../../../../chrome/common/js/trac.js"></script>
      <script type="text/javascript" charset="utf-8" src="../../../../chrome/common/js/search.js"></script>
      <script type="text/javascript" charset="utf-8" src="../../../../chrome/common/js/folding.js"></script>
    <script type="text/javascript">
      jQuery(document).ready(function($) {
        $("#content").find("h1,h2,h3,h4,h5,h6").addAnchor(_("Link to this section"));
        $("#content").find(".wikianchor").each(function() {
          $(this).addAnchor(babel.format(_("Link to #%(id)s"), {id: $(this).attr('id')}));
        });
        $(".foldable").enableFolding(true, true);
      });
    </script>
  </head>
  <body>
    <div id="banner">
      <div id="header">
        <a id="logo" href="/wiki"><img src="../../../../chrome/common/freetz_motd.png" alt="Freetz" /></a>
      </div>
      <form id="search" action="https://www.google.com/search" method="get" onsubmit="; this.elements.namedItem('q').value = this.elements.namedItem('oq').value + ' site:freetz.github.io'">
        <div>
          <label for="proj-search">Suche:</label>
          <input type="text" id="proj-search" name="oq" size="18" value="" />
          <input type="hidden" name="q" value="" />
          <input type="submit" value="Suche" />
        </div>
      </form>
      <div id="metanav" class="nav">
    <ul>
      <li class="first"><li class="last"><a href="../../../Impressum.html">Impressum</a></li>
    </ul>
  </div>
    </div>
    <div id="mainnav" class="nav">
    <ul>
      <li class="first active"><a href="/wiki">Wiki</a></li><li><a href="https://github.com/Freetz/freetz/commits/master">Quellen durchsehen</a></li><li class="last"><a href="/screenshots">Bildschirmfotos</a></li>
    </ul>
  </div>
    <div id="langmenu"><ul><li class="first"><span title="Select a language of wiki content">Language:</span></li><li class=" active"><a class="" href="analyse_image_names.html" title="displaying language (default)">German</a></li><li class=" last"><a class=" notexist" href="/wiki/help/howtos/development/analyse_image_names.en" title="(not available)">English</a></li></ul></div><p /><div id="main">
      <div id="pagepath" class="noprint">
  <a class="pathentry first" title="Zeige WikiStart an" href="/wiki">Wiki:</a><a class="pathentry" href="../../../help.html" title="Zeige help an">help</a><span class="pathentry sep">/</span><a class="pathentry" href="../../howtos.html" title="Zeige help/howtos an">howtos</a><span class="pathentry sep">/</span><a class="pathentry" href="../development.html" title="Zeige help/howtos/development an">development</a><span class="pathentry sep">/</span><a class="pathentry" href="analyse_image_names.html" title="Zeige help/howtos/development/analyse_image_names an">analyse_image_names</a>
</div>
    <div id="content" class="wiki">
      <div class="wikipage searchable">

          <div id="wikipage" class="trac-content"><p>
</p><div class="wiki-toc"><h4>Howtos: Entwicklung</h4><ol><li><a href="repack_fw.html#EntpackenundPackenvonFirmware-Images">Entpacken und Packen von Firmware-Images</a><ol><li><a href="repack_fw.html#ToolsundSyntax">Tools und Syntax</a></li><li><a href="repack_fw.html#Vorgehensweise">Vorgehensweise</a></li><li><a href="repack_fw.html#Verwendungvonfwmodimnofreetz-Modus">Verwendung von fwmod im "no freetz"-Modus</a></li></ol></li><li><a href="integrate_patches.html#PatchesinFreetzeinspielen">Patches in Freetz einspielen</a></li><li><a href="developer_information/package_development_start/example_3.html#Example3:NZBGet">Example 3: NZBGet</a><ol><li><a href="developer_information/package_development_start/example_3.html#Buildmanually">Build manually</a></li><li><a href="developer_information/package_development_start/example_3.html#AddpackagetoFreetz">Add package to Freetz</a></li><li><a href="developer_information/package_development_start/example_3.html#Createnewimagewithaddedpackage">Create new image with added package</a></li><li><a href="developer_information/package_development_start/example_3.html#Testing">Testing</a></li><li><a href="developer_information/package_development_start/example_3.html#PreparingNewPackageforPublicIntegrationtoFreetzTrunk">Preparing New Package for Public Integration to Freetz Trunk</a></li></ol></li><li><a href="developer_information/package_development_start/example_2.html#Example2:par2cmdline">Example 2: par2cmdline</a><ol><li><a href="developer_information/package_development_start/example_2.html#Buildmanually">Build manually</a></li><li><a href="developer_information/package_development_start/example_2.html#AddpackagetoFreetz">Add package to Freetz</a></li><li><a href="developer_information/package_development_start/example_2.html#Createnewimagewithaddedpackage">Create new image with added package</a></li><li><a href="developer_information/package_development_start/example_2.html#Testing">Testing</a></li><li><a href="developer_information/package_development_start/example_2.html#PreparingNewPackageforPublicIntegrationtoFreetzTrunk">Preparing New Package for Public Integration to Freetz Trunk</a></li></ol></li><li><a href="developer_information/package_development_start/example_1.html#Example1:Httptunnel">Example 1: Httptunnel</a><ol><li><a href="developer_information/package_development_start/example_1.html#Buildmanually">Build manually</a></li><li><a href="developer_information/package_development_start/example_1.html#AddpackagetoFreetz">Add package to Freetz</a></li><li><a href="developer_information/package_development_start/example_1.html#CallProceduresmakemenuconfigandmake">Call Procedures "make menuconfig" and "make"</a></li><li><a href="developer_information/package_development_start/example_1.html#Testing">Testing</a></li><li><a href="developer_information/package_development_start/example_1.html#PreparingNewPackageforPublicIntegrationtoFreetzTrunk">Preparing New Package for Public Integration to Freetz Trunk</a></li></ol></li><li><ol><li><a href="sign_image.html#SignierenvonFirmware">Signieren von Firmware</a></li><li><a href="sign_image.html#KonkreteAnwendunginFreetz">Konkrete Anwendung in Freetz</a></li></ol></li><li><a href="firmware_update_details.html#AblaufeinesFirmware-Updates">Ablauf eines Firmware-Updates</a></li><li><a href="compile_own_progs.html#EigeneProgrammekompilieren">Eigene Programme kompilieren</a></li><li><a href="bandwidth_svg.html#DynamischeBandbreitenanzeigeperSVG">Dynamische Bandbreitenanzeige per SVG</a><ol><li><a href="bandwidth_svg.html#AnleitungzurTest-Installation">Anleitung zur Test-Installation</a></li></ol></li><li><a href="make_room.html#PlatzsparenimDateisystemderFritzBox">Platz sparen im Dateisystem der FritzBox</a><ol><li><a href="make_room.html#VorwortundMotivation">Vorwort und Motivation</a></li><li><a href="make_room.html#Bestandsaufnahme:WosteckendiePlatzfresser">Bestandsaufnahme: Wo stecken die Platzfresser?</a></li><li><a href="make_room.html#WeitereSpartricks">Weitere Spartricks</a></li><li><a href="make_room.html#Schlußwort">Schlußwort</a></li></ol></li><li><a href="save_mtd_1.html#Flash-PartitionenimlaufendenBetriebsichern">Flash-Partitionen im laufenden Betrieb sichern</a><ol><li><a href="save_mtd_1.html#Motivation">Motivation</a></li><li><a href="save_mtd_1.html#Voraussetzungen">Voraussetzungen</a></li><li><a href="save_mtd_1.html#Lösungsweg">Lösungsweg</a></li><li><a href="save_mtd_1.html#WegesichschnelleinenÜberblickzuverschaffen">Wege, sich schnell einen Überblick zu verschaffen</a></li><li><a href="save_mtd_1.html#Zusammenfassung">Zusammenfassung</a></li></ol></li><li><a href="release_management.html#ReleaseManagement">Release Management</a><ol><li><a href="release_management.html#SubversionRepository">Subversion Repository</a></li><li><a href="release_management.html#Checklists">Checklists</a></li><li><a href="release_management.html#GIT">GIT</a></li><li><a href="release_management.html#Downloads">Downloads</a></li><li><a href="release_management.html#References">References</a></li></ol></li><li><a href="developer_information/package_development_start.html#Firststeps-Howtostartyourfirstfreetzpackage">First steps - How to start your first freetz package</a><ol><li><a href="developer_information/package_development_start.html#Info">Info</a></li><li><a href="developer_information/package_development_start.html#BuildEnvironment">Build Environment</a></li><li><a href="developer_information/package_development_start.html#FileStructure">File Structure</a></li><li><a href="developer_information/package_development_start.html#ExamplesBinaryPackage">Examples Binary Package</a></li><li><a href="developer_information/package_development_start.html#ConfigurationHandling">Configuration Handling</a></li><li><a href="developer_information/package_development_start.html#ExamplesWeb-Interface">Examples Web-Interface</a></li><li><a href="developer_information/package_development_start.html#Troubleshooting">Trouble shooting</a></li></ol></li><li><a href="make_kernel.html#Kernelkonfigurierenundkompilieren">Kernel konfigurieren und kompilieren</a></li><li><a href="menuconfig.html#Menükonfigurationpflegen">Menükonfiguration pflegen</a><ol><li><a href="menuconfig.html#Einstieg">Einstieg</a></li><li><a href="menuconfig.html#Beispiel-KonfigurationfüreinneuesPaket">Beispiel-Konfiguration für ein neues Paket</a></li><li><a href="menuconfig.html#Menuconfig-Warnungenbeheben">Menuconfig-Warnungen beheben</a></li><li><a href="menuconfig.html#ErklärungundAnwendungdererweitertenMK-Targets">Erklärung und Anwendung der erweiterten MK-Targets</a></li><li><a href="menuconfig.html#Syntax-FehlerinMK-Dateienfinden">Syntax-Fehler in MK-Dateien finden</a></li><li><a href="menuconfig.html#Syntax-HervorhebungfürMK-Dateien">Syntax-Hervorhebung für MK-Dateien</a></li></ol></li><li><a href="adam2.html#ADAM2-Bootloader">ADAM2-Bootloader</a><ol><li><a href="adam2.html#Bootloader-Backupanlegen">Bootloader-Backup anlegen</a></li><li><a href="adam2.html#Bootloaderüberschreiben">Bootloader überschreiben</a></li><li><a href="adam2.html#Bootloader-Befehle">Bootloader-Befehle</a></li><li><a href="adam2.html#Bootloader-Quelltext">Bootloader-Quelltext</a></li><li><a href="adam2.html#AufbaudesBootloaders">Aufbau des Bootloaders</a></li><li><a href="adam2.html#BootloaderundFreetz">Bootloader und Freetz</a></li></ol></li><li><a href="urlader_flags.html#EinstellungenspeichernimUrlader-Environment">Einstellungen speichern im Urlader-Environment</a><ol><li><a href="urlader_flags.html#VorwortundMotivation">Vorwort und Motivation</a></li><li><a href="urlader_flags.html#Lösungsmöglichkeiten">Lösungsmöglichkeiten</a></li><li><a href="urlader_flags.html#BootloaderEnvironment">Bootloader Environment</a></li><li><a href="urlader_flags.html#Variablekernel_args">Variable "kernel_args"</a></li><li><a href="urlader_flags.html#Kernel_Args-API">Kernel_Args-API</a></li><li><a href="urlader_flags.html#MöglicheAnwendungsfälle">Mögliche Anwendungsfälle</a></li></ol></li><li><a href="make_busybox.html#Busyboxkonfigurierenundkompilieren">Busybox konfigurieren und kompilieren</a></li><li><a href="package_creation.html#WiebaueicheineigenesPaketfürFreetz">Wie baue ich ein eigenes Paket für Freetz?</a></li><li class="active"><a href="analyse_image_names.html#Firmware-Image-Namenanalysierenundinterpretieren">Firmware-Image-Namen analysieren und interpretieren</a><ol><li class="active"><a href="analyse_image_names.html#Einleitung">Einleitung</a></li><li class="active"><a href="analyse_image_names.html#Skript-Code">Skript-Code</a></li><li class="active"><a href="analyse_image_names.html#DatenimRohformat">Daten im Rohformat</a></li><li class="active"><a href="analyse_image_names.html#AusgabegrundlegenderInformationen">Ausgabe grundlegender Informationen</a></li><li class="active"><a href="analyse_image_names.html#AusgabeerweiterterInformationen">Ausgabe erweiterter Informationen</a></li></ol></li><li><ol><li><a href="developer_information/package_development_start/webinterface_example_1.html#Web-interfaceHTTPTunnel">Web-interface HTTPTunnel</a></li></ol></li><li><a href="developer_information.html#DeveloperInformation">Developer Information</a></li><li><a href="install_addon.html#AddonPaketinstallieren">Addon Paket installieren</a></li><li><a href="developer_information/package_development_dynamic.html#PaketverwaltungfürFreetz">Paketverwaltung für Freetz</a><ol><li><a href="developer_information/package_development_dynamic.html#ErweiterungdesDateisystems">Erweiterung des Dateisystems</a></li><li><a href="developer_information/package_development_dynamic.html#Paketverwaltung">Paketverwaltung</a></li><li><a href="developer_information/package_development_dynamic.html#Links">Links</a></li><li><a href="developer_information/package_development_dynamic.html#Kommentare">Kommentare</a></li></ol></li><li><a href="manipulation_detection.html#WiedieFritzBoxManipulationenerkennt">Wie die FritzBox Manipulationen erkennt</a><ol><li><a href="manipulation_detection.html#Ursachen">Ursachen</a></li><li><a href="manipulation_detection.html#Diagnose">Diagnose</a></li><li><a href="manipulation_detection.html#Lösungen">Lösungen</a></li><li><a href="manipulation_detection.html#SchlußwortundAusblick">Schlußwort und Ausblick</a></li></ol></li><li><a href="developer_information/shell_coding_conventions.html#ShellCodingConventions">Shell Coding Conventions</a><ol><li><a href="developer_information/shell_coding_conventions.html#ShellLanguage">Shell Language</a></li><li><a href="developer_information/shell_coding_conventions.html#BasicFormat">Basic Format</a></li><li><a href="developer_information/shell_coding_conventions.html#IfForandWhile">If, For, and While</a></li><li><a href="developer_information/shell_coding_conventions.html#TestBuilt-in">Test Built-in</a></li><li><a href="developer_information/shell_coding_conventions.html#Single-lineconditionalstatements">Single-line conditional statements</a></li><li><a href="developer_information/shell_coding_conventions.html#InfiniteLoops">Infinite Loops</a></li><li><a href="developer_information/shell_coding_conventions.html#ExitStatusandIfWhileStatements">Exit Status and If/While Statements</a></li><li><a href="developer_information/shell_coding_conventions.html#VariableReferences">Variable References</a></li><li><a href="developer_information/shell_coding_conventions.html#VariableNaming">Variable Naming</a></li><li><a href="developer_information/shell_coding_conventions.html#Quoting">Quoting</a></li><li><a href="developer_information/shell_coding_conventions.html#VariableAssignments">Variable Assignments</a></li><li><a href="developer_information/shell_coding_conventions.html#TestingforNon-EmptyStrings">Testing for (Non-)Empty Strings</a></li><li><a href="developer_information/shell_coding_conventions.html#Commenting">Commenting</a></li><li><a href="developer_information/shell_coding_conventions.html#Pathnames">Pathnames</a></li><li><a href="developer_information/shell_coding_conventions.html#InterpreterMagic">Interpreter Magic</a></li></ol></li><li><a href="developer_information/package_development.html#PackageDevelopment">Package Development</a><ol><li><a href="developer_information/package_development.html#PersistentPackageSettings">Persistent Package Settings</a></li></ol></li><li><a href="create_gui.html#ErstelleneinerGUIfürPaketeinFreetz">Erstellen einer GUI für Pakete in Freetz</a><ol><li><a href="create_gui.html#Motivation">Motivation</a></li><li><a href="create_gui.html#Grundlagen">Grundlagen</a></li><li><a href="create_gui.html#WiefunktioniertdasmitderGUI">Wie funktioniert das mit der GUI?</a></li></ol></li><li><a href="flash.html#FlashPartitionierung">Flash Partitionierung</a><ol><li><a href="flash.html#HiddenSquashFS">Hidden SquashFS</a></li><li><a href="flash.html#ContiguousSquashFS">Contiguous SquashFS</a></li><li><a href="flash.html#HiddenRoot">Hidden Root</a></li><li><a href="flash.html#NANDRoot">NAND Root</a></li><li><a href="flash.html#Dateisystem">Dateisystem</a></li><li><a href="flash.html#Kernel">Kernel</a></li><li><a href="flash.html#Weblinks">Weblinks</a></li></ol></li><li><a href="developer_information/post_commit_hook.html#TracHooks">Trac Hooks</a><ol><li><a href="developer_information/post_commit_hook.html#trac-post-commit-hook">trac-post-commit-hook</a></li><li><a href="developer_information/post_commit_hook.html#trac-post-revprop-change-hook">trac-post-revprop-change-hook</a></li></ol></li><li><a href="developer_information/package_development_advanced.html#PackageDeveloping-AdvancedTopics">Package Developing - Advanced Topics</a><ol><li><a href="developer_information/package_development_advanced.html#Addingconditionalpatches">Adding conditional patches</a></li><li><a href="developer_information/package_development_advanced.html#Addingmulti-binarypackages">Adding multi-binary packages</a></li></ol></li><li><a href="integrate_own_files.html#EigeneDateienindieFirmwareintegrieren">Eigene Dateien in die Firmware integrieren</a><ol><li><a href="integrate_own_files.html#FesteIntegrationüberdasFreetzImage">Feste Integration über das Freetz Image</a></li><li><a href="integrate_own_files.html#ErzeugenderDateienausderdebug.cfg">Erzeugen der Dateien aus der debug.cfg</a></li><li><a href="integrate_own_files.html#NachladenvomWebserver">Nachladen vom Webserver</a></li><li><a href="integrate_own_files.html#NachladenvomUSB-Stick">Nachladen vom USB-Stick</a></li><li><a href="integrate_own_files.html#WebDAVSharemounten">WebDAV Share mounten</a></li><li><a href="integrate_own_files.html#NFS-Sharemounten">NFS-Share mounten</a></li></ol></li><li><a href="freetz_make.html#FreetzBuild-Prozeß">Freetz Build-Prozeß</a><ol><li><a href="freetz_make.html#VorwortundMotivation">Vorwort und Motivation</a></li><li><a href="freetz_make.html#Grundsätzliches">Grundsätzliches</a></li></ol></li><li><a href="save_mtd_2.html#Flash-PartitionenvonaußenmitFTPsichern">Flash-Partitionen von außen mit FTP sichern</a><ol><li><a href="save_mtd_2.html#Motivation">Motivation</a></li><li><a href="save_mtd_2.html#Voraussetzungen">Voraussetzungen</a></li><li><a href="save_mtd_2.html#AllgemeineInformationenzurDatensicherung">Allgemeine Informationen zur Datensicherung</a></li><li><a href="save_mtd_2.html#SicherungmitLinux-Standard-FTPftp">Sicherung mit Linux-Standard-FTP (ftp)</a></li><li><a href="save_mtd_2.html#SicherungmitLinux-NcFTPncftpget">Sicherung mit Linux-NcFTP (ncftpget)</a></li><li><a href="save_mtd_2.html#SicherungmitCygwin-NcFTPncftpget">Sicherung mit Cygwin-NcFTP (ncftpget)</a></li><li><a href="save_mtd_2.html#UploadsviaFTP">Uploads via FTP</a></li></ol></li><li><a href="developer_information/webif/libmodcgi.html#libmodcgi.sh">libmodcgi.sh</a><ol><li><a href="developer_information/webif/libmodcgi.html#cgi">cgi</a></li><li><a href="developer_information/webif/libmodcgi.html#cgi_begin">cgi_begin</a></li><li><a href="developer_information/webif/libmodcgi.html#cgi_end">cgi_end</a></li><li><a href="developer_information/webif/libmodcgi.html#sec_begin">sec_begin</a></li><li><a href="developer_information/webif/libmodcgi.html#sec_end">sec_end</a></li><li><a href="developer_information/webif/libmodcgi.html#html">html</a></li><li><a href="developer_information/webif/libmodcgi.html#checkselect">check, select</a></li><li><a href="developer_information/webif/libmodcgi.html#href">href</a></li><li><a href="developer_information/webif/libmodcgi.html#back_button">back_button</a></li><li><a href="developer_information/webif/libmodcgi.html#sec_level">sec_level</a></li><li><a href="developer_information/webif/libmodcgi.html#stat_bar">stat_bar</a></li><li><a href="developer_information/webif/libmodcgi.html#cgi_param">cgi_param</a></li><li><a href="developer_information/webif/libmodcgi.html#cgi_errorprint_error">cgi_error, print_error</a></li><li><a href="developer_information/webif/libmodcgi.html#path_info">path_info</a></li><li><a href="developer_information/webif/libmodcgi.html#valid">valid</a></li></ol></li><li><a href="create_cross-compiler_toolchain.html#Cross-CompilerToolchainerstellen">Cross-Compiler / Toolchain erstellen</a></li><li><a href="create_cross-compiler_toolchain.html#EigeneDownload-Toolchainerstellen">Eigene Download-Toolchain erstellen</a></li><li><a href="create_cross-compiler_toolchain.html#TargetNative-Compiler-Toolchainerstellen">Target/Native-Compiler-Toolchain erstellen</a><ol><li><a href="create_cross-compiler_toolchain.html#Usingthedev-toolspackagetoinstallcompilerandtools">Using the dev-tools package to install compiler and tools</a></li></ol></li></ol></div><p>
</p>
<h1 id="Firmware-Image-Namenanalysierenundinterpretieren">Firmware-Image-Namen analysieren und interpretieren</h1>
<h2 id="Einleitung">Einleitung</h2>
<p>
Dieses How-To ist nicht besonders wichtig, eher ein Abfallprodukt meines Versuchs, mal herauszufinden, wie weit man kommt, wenn zur Manipulation von Zeichenketten (Strings) nicht ständig externe Werkzeuge wie <em>grep</em>, <em>sed</em>, <em>awk</em> oder gar <em>Perl</em> oder <em>Python</em> aufruft und somit Subprozesse erzeugt, sondern man sich innerhalb der von der <em>Bash</em> zur Verfügung gestellten Kommandos bewegt. Nebenbei macht mein Code-Schnipsel auch noch etwas ansatzweise Nützliches, nämlich aus Dateinamen von Firmware-Images Informationen über Hardware, Firmware-Version u.a. abzuleiten.
</p>
<p>
Wer sich schon mit Mühe an die Syntax von <em>sed</em> &amp; Co. mit ihren Regulären Ausdrücken gewöhnen mußte und von Parameter-Expansion und Globbing innerhalb der Shell - ich benutze <em>Bash</em>, weil das unser Standard in <strong>Freetz</strong> ist - noch wenig gehört hat, möchte sich vielleicht einlesen unter:
</p>
<ul><li><a class="ext-link" href="http://wiki.bash-hackers.org/syntax/pe"><span class="icon">​</span>Parameter-Expansion</a>
</li><li><a class="ext-link" href="http://wiki.bash-hackers.org/syntax/pattern"><span class="icon">​</span>Muster(erkennung)</a>
</li><li><a class="ext-link" href="http://wiki.bash-hackers.org/internals/shell_options#extglob"><span class="icon">​</span>erweiterte Mustererkennung mit Shell-Option "extglob"</a>
</li><li><a class="ext-link" href="http://wiki.bash-hackers.org/commands/builtin/shopt"><span class="icon">​</span>Prüfen und Setzen von Shell-Optionen mit "shopt"</a>
</li></ul><p>
Jetzt aber direkt zum Skript-Code:
</p>
<h2 id="Skript-Code">Skript-Code</h2>
<div class="code"><pre><span class="c">#!/bin/bash
</span>
analyse_image_name<span class="o">()</span>
<span class="o">{</span>
    <span class="c"># Basic mode
</span>    <span class="nb">local </span>name
    <span class="nb">local </span>product
    <span class="nb">local </span>version
    <span class="nb">local </span>fw_variant
    <span class="c"># Verbose mode
</span>    <span class="nb">local </span>oem
    <span class="nb">local </span>model
    <span class="nb">local </span>model_no
    <span class="nb">local </span>v_major
    <span class="nb">local </span>v_minor
    <span class="nb">local </span>v_labor
    <span class="nb">local </span>annex
    <span class="nb">local </span>language
    <span class="c"># Helpers
</span>    <span class="nb">local </span>is_extglob
    <span class="nb">local </span>verbose

    <span class="o">[</span> <span class="s2">"$1"</span> <span class="o">==</span> <span class="s2">"-v"</span> <span class="o">]</span> <span class="o">&amp;&amp;</span> <span class="nb">shift</span> <span class="o">&amp;&amp;</span> <span class="nv">verbose</span><span class="o">=</span>y

    <span class="c"># Activate extended globbing if necessary (usually already active)
</span>    <span class="nb">shopt</span> -q extglob <span class="o">&amp;&amp;</span> <span class="nv">is_extglob</span><span class="o">=</span>y <span class="o">||</span> <span class="nb">shopt</span> -s extglob

    <span class="c"># ---------------------------------------------------------------
</span>    <span class="c"># Step 1: clean up file name
</span>    <span class="c"># ---------------------------------------------------------------
</span>
    <span class="c"># General
</span>    <span class="nv">name</span><span class="o">=</span><span class="s2">"$(basename "</span><span class="nv">$1</span><span class="s2">")"</span>
    <span class="nv">name</span><span class="o">=</span><span class="k">${</span><span class="nv">name</span><span class="p">%.image*</span><span class="k">}</span>
    <span class="c"># AVM
</span>    <span class="nv">name</span><span class="o">=</span><span class="k">${</span><span class="nv">name</span><span class="p">/[Ff][Rr][Ii][Tt][Zz]./FRITZ!</span><span class="k">}</span>
    <span class="nv">name</span><span class="o">=</span><span class="k">${</span><span class="nv">name</span><span class="p">/box/Box</span><span class="k">}</span>
    <span class="nv">name</span><span class="o">=</span><span class="k">${</span><span class="nv">name</span><span class="p">/fon/Fon</span><span class="k">}</span>
    <span class="nv">name</span><span class="o">=</span><span class="k">${</span><span class="nv">name</span><span class="p">/wlan/WLAN</span><span class="k">}</span>
    <span class="nv">name</span><span class="o">=</span><span class="k">${</span><span class="nv">name</span><span class="p">/_sl_/_SL_</span><span class="k">}</span>
    <span class="nv">name</span><span class="o">=</span><span class="k">${</span><span class="nv">name</span><span class="p">/_Labor/.Labor</span><span class="k">}</span>
    <span class="nv">name</span><span class="o">=</span><span class="k">${</span><span class="nv">name</span><span class="p">/annexa/AnnexA</span><span class="k">}</span>
    <span class="nv">name</span><span class="o">=</span><span class="k">${</span><span class="nv">name</span><span class="p">/annexb/AnnexB</span><span class="k">}</span>
    <span class="c"># Deutsche Telekom (ex T-Home, T-Com)
</span>    <span class="nv">name</span><span class="o">=</span><span class="k">${</span><span class="nv">name</span><span class="p">#fw_</span><span class="k">}</span>
    <span class="nv">name</span><span class="o">=</span><span class="k">${</span><span class="nv">name</span><span class="p">/V_v_/V.</span><span class="k">}</span>
    <span class="nv">name</span><span class="o">=</span><span class="k">${</span><span class="nv">name</span><span class="p">/V_v/V.</span><span class="k">}</span>
    <span class="nv">name</span><span class="o">=</span><span class="k">${</span><span class="nv">name</span><span class="p">/_W_/_W</span><span class="k">}</span>

    <span class="c"># ---------------------------------------------------------------
</span>    <span class="c"># Step 2: split into logical parts
</span>    <span class="c"># ---------------------------------------------------------------
</span>
    <span class="nv">product</span><span class="o">=</span><span class="k">${</span><span class="nv">name</span><span class="p">%%.+([0-9]).+([0-9]).+([0-9])?(-+([0-9]))</span><span class="k">}</span>
    <span class="nv">version</span><span class="o">=</span><span class="k">${</span><span class="nv">name</span><span class="p">##</span><span class="nv">$product</span><span class="p">.</span><span class="k">}</span>
    <span class="nv">name</span><span class="o">=</span><span class="nv">$product</span>
    <span class="nv">product</span><span class="o">=</span><span class="k">${</span><span class="nv">product</span><span class="p">%%.*</span><span class="k">}</span>
    <span class="nv">fw_variant</span><span class="o">=</span><span class="k">${</span><span class="nv">name</span><span class="p">##</span><span class="nv">$product</span><span class="p">?(.)</span><span class="k">}</span>
    <span class="nv">product</span><span class="o">=</span><span class="k">${</span><span class="nv">product</span><span class="p">//_/ </span><span class="k">}</span>

    <span class="c"># Determine more detailed parameters for verbose mode
</span>    <span class="k">if</span> <span class="o">[</span> <span class="s2">"$verbose"</span> <span class="o">]</span>; <span class="k">then</span>
        <span class="o">[</span> <span class="s2">"$product"</span> <span class="o">==</span> <span class="s2">"${product#FRITZ!}"</span> <span class="o">]</span> <span class="o">&amp;&amp;</span> <span class="nv">oem</span><span class="o">=</span><span class="s2">"Telekom"</span> <span class="o">||</span> <span class="nv">oem</span><span class="o">=</span><span class="s2">"AVM"</span>
        <span class="nv">model</span><span class="o">=</span><span class="k">${</span><span class="nv">product</span><span class="p">%%?(W)+([0-9])*</span><span class="k">}</span>
        <span class="nv">model_no</span><span class="o">=</span><span class="k">${</span><span class="nv">product</span><span class="p">##</span><span class="nv">$model</span><span class="k">}</span>
        <span class="nv">v_major</span><span class="o">=</span><span class="k">${</span><span class="nv">version</span><span class="p">%%.*</span><span class="k">}</span>
        <span class="nv">v_minor</span><span class="o">=</span><span class="k">${</span><span class="nv">version</span><span class="p">##</span><span class="nv">$v_major</span><span class="p">.</span><span class="k">}</span>
        <span class="nv">v_minor</span><span class="o">=</span><span class="k">${</span><span class="nv">v_minor</span><span class="p">%%-*</span><span class="k">}</span>
        <span class="nv">v_labor</span><span class="o">=</span><span class="k">${</span><span class="nv">version</span><span class="p">##*</span><span class="nv">$v_minor</span><span class="p">?(-)</span><span class="k">}</span>
        <span class="o">[</span> <span class="s2">"$fw_variant"</span> <span class="o">==</span> <span class="s2">"${fw_variant/AnnexA/}"</span> <span class="o">]</span> <span class="o">&amp;&amp;</span> <span class="nv">annex</span><span class="o">=</span>B <span class="o">||</span> <span class="nv">annex</span><span class="o">=</span>A
        <span class="nv">language</span><span class="o">=</span><span class="k">${</span><span class="nv">fw_variant</span><span class="p">/@(Annex?|Labor)?(.)/</span><span class="k">}</span>
        <span class="nv">language</span><span class="o">=</span><span class="k">${</span><span class="nv">language</span><span class="k">:-</span><span class="nv">de</span><span class="k">}</span>
    <span class="k">fi</span>

    <span class="c"># Reset extended globbing to previous state
</span>    <span class="o">[</span> <span class="s2">"$is_extglob"</span> <span class="o">]</span> <span class="o">||</span> <span class="nb">shopt</span> -u extglob

    <span class="c"># ---------------------------------------------------------------
</span>    <span class="c"># Step 3: print result
</span>    <span class="c"># ---------------------------------------------------------------
</span>
    <span class="k">if</span> <span class="o">[</span> ! <span class="s2">"$verbose"</span> <span class="o">]</span>; <span class="k">then
        </span><span class="nb">printf</span> <span class="s2">"%-30s  %-15s  %-22s\n"</span> <span class="s2">"$product"</span> <span class="s2">"$version"</span> <span class="s2">"$fw_variant"</span>
        <span class="k">return
    fi

    </span><span class="nb">echo</span> <span class="s2">"Firmware image: $(basename "</span><span class="nv">$1</span><span class="s2">")"</span>
    <span class="nb">echo</span> <span class="s2">"Producer/OEM:   $oem"</span>
    <span class="nb">echo</span> <span class="s2">"Model:          $model"</span>
    <span class="nb">echo</span> <span class="s2">"Model no.:      $model_no"</span>
    <span class="nb">echo</span> <span class="s2">"Version:        $version"</span>
    <span class="nb">echo</span> <span class="s2">"Version major:  $v_major"</span>
    <span class="nb">echo</span> <span class="s2">"Version minor:  $v_minor"</span>
    <span class="nb">echo</span> <span class="s2">"Version labor:  $v_labor"</span>
    <span class="nb">echo</span> <span class="s2">"DSL annex:      $annex"</span>
    <span class="nb">echo</span> <span class="s2">"Language:       $language"</span>
<span class="o">}</span>

<span class="c"># Loop over Freetz firmware image names
</span><span class="k">for </span>img in <span class="k">$(</span>sed -nr <span class="s2">"s/^[^#]*[\"']([^\"']+\.image)[\"'].*$/\1/p"</span> Config.in | sort | uniq<span class="k">)</span>; <span class="k">do</span>
    <span class="c"># Print raw image names
</span>    <span class="nb">echo</span> <span class="s2">"$img"</span>
<span class="k">done</span>

<span class="c"># Loop over Freetz firmware image names
</span><span class="k">for </span>img in <span class="k">$(</span>sed -nr <span class="s2">"s/^[^#]*[\"']([^\"']+\.image)[\"'].*$/\1/p"</span> Config.in | sort | uniq<span class="k">)</span>; <span class="k">do</span>
    <span class="c"># Print basic info in tabular layout
</span>    analyse_image_name <span class="s2">"$img"</span>
<span class="k">done</span>

<span class="c"># Loop over Freetz firmware image names
</span><span class="k">for </span>img in <span class="k">$(</span>sed -nr <span class="s2">"s/^[^#]*[\"']([^\"']+\.image)[\"'].*$/\1/p"</span> Config.in | sort | uniq<span class="k">)</span>; <span class="k">do</span>
    <span class="c"># Print extended information in vertical layout
</span>    analyse_image_name -v <span class="s2">"$img"</span>
    <span class="nb">echo</span> -e <span class="s2">"\n-----------------------------------------------------------------------------\n"</span>
<span class="k">done</span>
</pre></div><h2 id="DatenimRohformat">Daten im Rohformat</h2>
<p>
So sehen aktuell die Firmware-Namen aus, welche sich in der <a class="source" href="/browser/trunk/Config.in?rev=8531#L991">Config.in</a><a class="trac-rawlink" href="/export/8531/trunk/Config.in#L991" title="Download">​</a> befinden:
</p>
<pre class="wiki">FRITZ.Box_2170.51.04.57.image
FRITZ.Box_6840_LTE.105.05.09.image
FRITZ.Box_7330.107.05.08.image
fritz.box_fon.06.04.33.image
fritz.box_fon_5010.annexa.48.04.43.image
fritz.box_fon_5050.12.04.31.image
FRITZ.Box_Fon_5124.AnnexA.en.57.04.76.image
FRITZ.Box_Fon_5124.AnnexB.en.56.04.76.image
FRITZ.Box_Fon_5140.AnnexB.43.04.67.image
fritz.box_fon.annexa.en.06.04.49.image
fritz.box_fon.en.06.04.49.image
fritz.box_fon_wlan.08.04.34.image
fritz.box_fon_wlan_7050.14.04.33.image
FRITZ.Box_Fon_WLAN_7112.87.04.87.image
FRITZ.Box_Fon_WLAN_7113.60.04.68.image
FRITZ.Box_Fon_WLAN_7113.AnnexA.de-en-es-it-fr.90.04.84.image
FRITZ.Box_Fon_WLAN_7140.AnnexA.39.04.76.image
FRITZ.Box_Fon_WLAN_7140.AnnexA.en.39.04.67.image
fritz.box_fon_wlan_7140.annexb.30.04.33.image
FRITZ.Box_Fon_WLAN_7140.AnnexB.en.30.04.67.image
fritz.box_fon_wlan_7141.40.04.37.image
FRITZ.Box_Fon_WLAN_7141.40.04.76.image
FRITZ.Box_Fon_WLAN_7170.29.04.87.image
FRITZ.Box_Fon_WLAN_7170.AnnexA.58.04.76.image
FRITZ.Box_Fon_WLAN_7170.AnnexA.en.58.04.84.image
FRITZ.Box_Fon_WLAN_7170.AnnexB.en.29.04.82.image
FRITZ.Box_Fon_WLAN_7240.73.05.05.image
FRITZ.Box_Fon_WLAN_7270_16.en-de-es-it-fr.54.05.06.image
FRITZ.Box_Fon_WLAN_7270_v1.54.04.88.image
FRITZ.Box_Fon_WLAN_7270_v2.54.05.05.image
FRITZ.Box_Fon_WLAN_7270_v2.en-de-es-it-fr.54.04.90.image
FRITZ.Box_Fon_WLAN_7270_v2_Labor.54.05.09-21499.image
FRITZ.Box_Fon_WLAN_7270_v3.74.05.05.image
FRITZ.Box_Fon_WLAN_7270_v3.en-de-es-it-fr.74.05.06.image
FRITZ.Box_Fon_WLAN_7270_v3_Labor.74.05.09-21499.image
FRITZ.Box_Fon_WLAN_7320.100.04.89.image
FRITZ.Box_Fon_WLAN_7340.en-de-es-it-fr.99.05.05.image
FRITZ.Box_Fon_WLAN_7390.84.05.05.image
FRITZ.Box_Fon_WLAN_7390.en-de-es-it-fr.84.05.06.image
FRITZ.Box_Fon_WLAN_7390_Labor.84.05.09-21499.image
FRITZ.Box_Fon_WLAN_7570_vDSL.en-de-fr.75.04.91.image
FRITZ.Box_Fon_WLAN.AnnexA.en.08.04.49.image
FRITZ.Box_Fon_WLAN.AnnexB.en.08.04.49.image
fritz.box_sl_wlan.09.04.34.image
fritz.box_wlan_3030.21.04.34.image
fritz.box_wlan_3130.44.04.34.image
fritz.box_wlan_3131.50.04.57.image
fritz.box_wlan_3170.49.04.58.image
fritz.box_wlan_3270.67.05.05.image
fritz.box_wlan_3270_v3.96.05.05.image
fritz.box_wlan_3370.103.05.08.image
fritz.fon_7150.annexb.38.04.71.image
fw_Speedport_W501V_v_28.04.38.image
fw_Speedport_W701V_v33.04.57.image
fw_Speedport_W900V_v34.04.57.image
Sinus_W_500V.27.04.27.image
Speedport_W_920V.AnnexB.65.04.78.image
</pre><p>
Das ist nicht besonders übersichtlich und außerdem im Detail sehr uneinheitlich. Geht das nicht irgendwie hübscher?!
</p>
<h2 id="AusgabegrundlegenderInformationen">Ausgabe grundlegender Informationen</h2>
<p>
Das Ergebnis sieht für Fall 1 (grundlegende Informationen, tabellarisches Layout) so aus:
</p>
<pre class="wiki">FRITZ!Box 2170                  51.04.57
FRITZ!Box 6840 LTE              105.05.09
FRITZ!Box 7330                  107.05.08
FRITZ!Box Fon                   06.04.33
FRITZ!Box Fon 5010              48.04.43         AnnexA
FRITZ!Box Fon 5050              12.04.31
FRITZ!Box Fon 5124              57.04.76         AnnexA.en
FRITZ!Box Fon 5124              56.04.76         AnnexB.en
FRITZ!Box Fon 5140              43.04.67         AnnexB
FRITZ!Box Fon                   06.04.49         AnnexA.en
FRITZ!Box Fon                   06.04.49         en
FRITZ!Box Fon WLAN              08.04.34
FRITZ!Box Fon WLAN 7050         14.04.33
FRITZ!Box Fon WLAN 7112         87.04.87
FRITZ!Box Fon WLAN 7113         60.04.68
FRITZ!Box Fon WLAN 7113         90.04.84         AnnexA.de-en-es-it-fr
FRITZ!Box Fon WLAN 7140         39.04.76         AnnexA
FRITZ!Box Fon WLAN 7140         39.04.67         AnnexA.en
FRITZ!Box Fon WLAN 7140         30.04.33         AnnexB
FRITZ!Box Fon WLAN 7140         30.04.67         AnnexB.en
FRITZ!Box Fon WLAN 7141         40.04.37
FRITZ!Box Fon WLAN 7141         40.04.76
FRITZ!Box Fon WLAN 7170         29.04.87
FRITZ!Box Fon WLAN 7170         58.04.76         AnnexA
FRITZ!Box Fon WLAN 7170         58.04.84         AnnexA.en
FRITZ!Box Fon WLAN 7170         29.04.82         AnnexB.en
FRITZ!Box Fon WLAN 7240         73.05.05
FRITZ!Box Fon WLAN 7270 16      54.05.06         en-de-es-it-fr
FRITZ!Box Fon WLAN 7270 v1      54.04.88
FRITZ!Box Fon WLAN 7270 v2      54.05.05
FRITZ!Box Fon WLAN 7270 v2      54.04.90         en-de-es-it-fr
FRITZ!Box Fon WLAN 7270 v2      54.05.09-21499   Labor
FRITZ!Box Fon WLAN 7270 v3      74.05.05
FRITZ!Box Fon WLAN 7270 v3      74.05.06         en-de-es-it-fr
FRITZ!Box Fon WLAN 7270 v3      74.05.09-21499   Labor
FRITZ!Box Fon WLAN 7320         100.04.89
FRITZ!Box Fon WLAN 7340         99.05.05         en-de-es-it-fr
FRITZ!Box Fon WLAN 7390         84.05.05
FRITZ!Box Fon WLAN 7390         84.05.06         en-de-es-it-fr
FRITZ!Box Fon WLAN 7390         84.05.09-21499   Labor
FRITZ!Box Fon WLAN 7570 vDSL    75.04.91         en-de-fr
FRITZ!Box Fon WLAN              08.04.49         AnnexA.en
FRITZ!Box Fon WLAN              08.04.49         AnnexB.en
FRITZ!Box SL WLAN               09.04.34
FRITZ!Box WLAN 3030             21.04.34
FRITZ!Box WLAN 3130             44.04.34
FRITZ!Box WLAN 3131             50.04.57
FRITZ!Box WLAN 3170             49.04.58
FRITZ!Box WLAN 3270             67.05.05
FRITZ!Box WLAN 3270 v3          96.05.05
FRITZ!Box WLAN 3370             103.05.08
FRITZ!Fon 7150                  38.04.71         AnnexB
Speedport W501V                 28.04.38
Speedport W701V                 33.04.57
Speedport W900V                 34.04.57
Sinus W500V                     27.04.27
Speedport W920V                 65.04.78         AnnexB
</pre><h2 id="AusgabeerweiterterInformationen">Ausgabe erweiterter Informationen</h2>
<p>
Im zweiten Fall ist die Ausgabe wesentlich länger, ich gebe hier also nur exemplarische Ausschnitte wieder:
</p>
<pre class="wiki">Firmware image: FRITZ.Box_6840_LTE.105.05.09.image
Producer/OEM:   AVM
Model:          FRITZ!Box
Model no.:      6840 LTE
Version:        105.05.09
Version major:  105
Version minor:  05.09
Version labor:
DSL annex:      B
Language:       de

-----------------------------------------------------------------------------

Firmware image: FRITZ.Box_Fon_WLAN_7113.AnnexA.de-en-es-it-fr.90.04.84.image
Producer/OEM:   AVM
Model:          FRITZ!Box Fon WLAN
Model no.:      7113
Version:        90.04.84
Version major:  90
Version minor:  04.84
Version labor:
DSL annex:      A
Language:       de-en-es-it-fr

-----------------------------------------------------------------------------

Firmware image: FRITZ.Box_Fon_WLAN_7270_v2_Labor.54.05.09-21499.image
Producer/OEM:   AVM
Model:          FRITZ!Box Fon WLAN
Model no.:      7270 v2
Version:        54.05.09-21499
Version major:  54
Version minor:  05.09
Version labor:  21499
DSL annex:      B
Language:       de

-----------------------------------------------------------------------------

Firmware image: fw_Speedport_W701V_v33.04.57.image
Producer/OEM:   Telekom
Model:          Speedport
Model no.:      W701V
Version:        33.04.57
Version major:  33
Version minor:  04.57
Version labor:
DSL annex:      B
Language:       de
</pre><p>
Viel Spaß beim Herumspielen. <img src="../../../../chrome/wikiextras-icons-16/smiley.png" style="vertical-align: text-bottom" alt=":-)" />
</p>
<p>
<a class="ext-link" href="http://www.ip-phone-forum.de/member.php?u=117253"><span class="icon">​</span>Alexander Kriegisch (kriegaex)</a>
</p>
</div>

      </div>

    </div>
    <script type="text/javascript">
        jQuery.loadStyleSheet("/pygments/trac.css", "text/css");
    </script>
    </div>
  </body>
</html>
