<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  
  


  <head>
    <title>
      packages/openntpd – Freetz
    </title>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
      <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!--[if IE]><script type="text/javascript">
      if (/^#__msie303:/.test(window.location.hash))
        window.location.replace(window.location.hash.replace(/^#__msie303:/, '#'));
    </script><![endif]-->
        <link rel="search" href="/search" />
        <link rel="help" href="../TracGuide.html" />
        <link rel="alternate" href="openntpd%3Fformat=txt" type="text/x-trac-wiki" title="Reiner Text" />
        <link rel="up" href="../packages.html" title="Übergeordnete Wiki-Seite anzeigen" />
        <link rel="start" href="/wiki" />
        <link rel="stylesheet" href="../../chrome/common/css/trac.css" type="text/css" /><link rel="stylesheet" href="../../chrome/common/css/wiki.css" type="text/css" /><link rel="stylesheet" href="../../chrome/wikiextras/css/phrases.css" type="text/css" /><link rel="stylesheet" href="../../chrome/wikiextras/css/boxes.css" type="text/css" /><link rel="stylesheet" href="../../chrome/wikiextras/css/boxes-300.css" type="text/css" /><link rel="stylesheet" href="../../chrome/wikiextras/css/boxes-narrow-toc.css" type="text/css" /><link rel="stylesheet" href="../../wikicss.css" type="text/css" /><link rel="stylesheet" href="../../chrome/tags/css/tractags.css" type="text/css" /><link rel="stylesheet" href="../../chrome/wikinegotiator/css/langmenu-ctxnav.css" type="text/css" />
        <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon" />
        <link rel="icon" href="/favicon.ico" type="image/x-icon" />
      <link type="application/opensearchdescription+xml" rel="search" href="/search/opensearch" title="Freetz durchsuchen" />
      <script type="text/javascript" charset="utf-8" src="../../chrome/common/js/jquery.js"></script>
      <script type="text/javascript" charset="utf-8" src="../../chrome/common/js/babel.js"></script>
      <script type="text/javascript" charset="utf-8" src="../../chrome/common/js/messages/de.js"></script>
      <script type="text/javascript" charset="utf-8" src="../../chrome/common/js/trac.js"></script>
      <script type="text/javascript" charset="utf-8" src="../../chrome/common/js/search.js"></script>
      <script type="text/javascript" charset="utf-8" src="../../chrome/common/js/folding.js"></script>
    <script type="text/javascript">
      jQuery(document).ready(function($) {
        $("#content").find("h1,h2,h3,h4,h5,h6").addAnchor(_("Link to this section"));
        $("#content").find(".wikianchor").each(function() {
          $(this).addAnchor(babel.format(_("Link to #%(id)s"), {id: $(this).attr('id')}));
        });
        $(".foldable").enableFolding(true, true);
      });
    </script>
  </head>
  <body>
    <div id="banner">
      <div id="header">
        <a id="logo" href="/wiki"><img src="../../chrome/common/freetz_motd.png" alt="Freetz" /></a>
      </div>
      <form id="search" action="https://www.google.com/search" method="get" onsubmit="; this.elements.namedItem('q').value = this.elements.namedItem('oq').value + ' site:freetz.github.io'">
        <div>
          <label for="proj-search">Suche:</label>
          <input type="text" id="proj-search" name="oq" size="18" value="" />
          <input type="hidden" name="q" value="" />
          <input type="submit" value="Suche" />
        </div>
      </form>
      <div id="metanav" class="nav">
    <ul>
      <li class="first"><a href="/login">Anmelden</a></li><li><a href="/prefs">Einstellungen</a></li><li><a href="../TracGuide.html">Hilfe/Anleitung</a></li><li><a href="/about">Über Trac</a></li><li><a href="/notification" title="Wiki Pages Change Notifications">My Notifications</a></li><li><a href="/register">Registrieren</a></li><li class="last"><a href="../Impressum.html">Impressum</a></li>
    </ul>
  </div>
    </div>
    <div id="mainnav" class="nav">
    <ul>
      <li class="first active"><a href="/wiki">Wiki</a></li><li><a href="/timeline">Journal</a></li><li><a href="/roadmap">Projektplan</a></li><li><a href="/browser">Quellen durchsehen</a></li><li><a href="/report">Tickets anzeigen</a></li><li><a href="/search">Suche</a></li><li><a href="/tags">Tags</a></li><li><a href="/downloads">Downloads</a></li><li class="last"><a href="/screenshots">Bildschirmfotos</a></li>
    </ul>
  </div>
    <div id="langmenu"><ul><li class="first"><span title="Select a language of wiki content">Language:</span></li><li class=" active"><a class="" href="openntpd.html" title="displaying language (default)">German</a></li><li class=" last"><a class=" notexist" href="/wiki/packages/openntpd.en" title="(not available)">English</a></li></ul></div><div id="main">
      <div id="pagepath" class="noprint">
  <a class="pathentry first" title="Zeige WikiStart an" href="/wiki">Wiki:</a><a class="pathentry" href="../packages.html" title="Zeige packages an">packages</a><span class="pathentry sep">/</span><a class="pathentry" href="openntpd.html" title="Zeige packages/openntpd an">openntpd</a>
</div>
      <div id="ctxtnav" class="nav">
        <h2>Kontext-Navigation</h2>
        <ul>
          <li class="first"><a href="../packages.html">Aufwärts</a></li><li><a href="../WikiStart.html">Startseite</a></li><li><a href="../TitleIndex.html">Inhaltsverzeichnis</a></li><li><a href="openntpd%3Faction=history.html">Änderungshistorie</a></li><li class="last"><a href="/notification/packages/openntpd." title="Watch Page">Watch Page</a></li>
        </ul>
        <hr />
      </div>
    <div id="content" class="wiki">
      <div class="wikipage searchable">
        
          <div id="wikipage" class="trac-content"><h1 id="OpenNTPD">OpenNTPD</h1>
<p>
<em>"OpenNTPD ist eine FREIE und einfach zu benutzende Implementierung des Network Time Protocol. OpenNTPD kann die lokale Uhr mit NTP-Servern abgleichen und selbst als NTP-Server fungieren, also die lokale Uhrzeit anderen Systemen zur Verfügung stellen."</em> <a class="ext-link" href="http://www.openntpd.org/de/"><span class="icon">​</span>http://www.openntpd.org/de/</a>
</p>
<p>
Mit <strong>OpenNTPD</strong> lässt sich die Zeit per Internet synchronisieren. Natürlich kann man das von jedem PC aus auch, und die Fritzbox (multid daemon) selbst holt sich die Zeit ja auch aus dem Netz - wozu also dieses Paket?
</p>
<p>
Das OpenNTPD Paket stellt nicht nur einen Client, sondern auch einen Server zur Verfügung. Somit kann sich die FritzBox die Zeit aus dem Internet "downloaden" - und stellt sie dann im lokalen Netz bereit.
</p>
<h2 id="Vorteile:">Vorteile:</h2>
<ul><li>Nur die FritzBox muss die Zeit "Remote" abgleichen
</li><li>Da die FritzBox sicher rund um die Uhr läuft, kann dies jederzeit passieren - und dennoch steht die aktuelle Zeit zur Verfügung, sollte das Internet mal "kaputt" sein (Probleme beim Provider o.ä.).
</li><li>Alle Rechner im lokalen Netz synchronisieren mit der FritzBox, und haben somit identische Zeitstempel - sehr von Vorteil, wenn man z.B. Logfiles abgleichen will.
</li><li>Auch Rechner, die nicht ins Internet dürfen, haben die Chance auf einen Zeitabgleich.
</li></ul><h2 id="Ubuntuclientsetup">Ubuntu client setup</h2>
<ul><li>Install: <em>sudo apt-get install ntp</em>
</li><li>Configure: <em>add server fritz.box</em> as first server to <em>/etc/ntp.conf</em>
</li><li>Apply configuration: <em>sudo service ntp restart</em>
</li><li>Check if it works: <em>sudo ntpq -np</em>
</li><li>More info: <a class="ext-link" href="https://help.ubuntu.com/community/UbuntuTime"><span class="icon">​</span>here</a>
</li></ul><h2 id="MultidNTPclientdeaktivieren">Multid NTP client deaktivieren</h2>
<p>
Durch diese Option wird AVM's multid durch einen zusätzlichen Parameter angewiesen die Zeit nicht zu synchronisieren (erfordert Restarts von multid).
</p>
<p>
Wenn chronyd in der Firmware vorhanden ist wird multid in rc.net ohne SNTP-Funktion gestartet. Zusätzlich deaktiviert multid diese Funktion auch automatisch wenn /var/run/chronyd.pid existiert (<a class="ext-link" href="http://www.wehavemorefun.de/fritzbox/index.php/Multid#Aufruf"><span class="icon">​</span>source</a>).
</p>
<p>
SNTP = Simple Network Time Protocol
</p>
<p>
openntpd automatically selects Remove chronyd.<br />
</p>
<h2 id="Fehlerbehebung">Fehlerbehebung</h2>
<ul><li><tt>dispatch_imsg in main: pipe closed</tt>: In der <tt>openntpd.conf</tt> wird <tt>listen on</tt> falsch benutzt.
</li></ul><h2 id="Alternative">Alternative</h2>
<p>
Man kann auch den in <a class="wiki" href="inetd.html#user">inetd</a> integrierten <a class="ext-link" href="http://en.wikipedia.org/wiki/Time_Protocol"><span class="icon">​</span>"time" Service</a> aktivieren. Diese kann z.B. mit "rdate" genutzt werden, welches bereits in Freetz enthalten ist oder auch auf der Dbox2
</p>
<h2 id="WeiterführendeLinks">Weiterführende Links</h2>
<ul><li><a class="ext-link" href="http://www.openntpd.org/"><span class="icon">​</span>http://www.openntpd.org/</a>
</li><li><a class="ext-link" href="http://www.zdnet.de/builder/program/0,39023551,39191851,00.htm"><span class="icon">​</span>Artikel zu OpenNtpd</a>
</li></ul></div>
          
          <div class="trac-modifiedby">
            <span><a href="openntpd%3Faction=diff&amp;version=10.html" title="Version 10 von cuma: Fehler &#34;dispatch_imsg in main: pipe closed&#34;">zuletzt geändert</a> <a class="timeline" href="/timeline?from=2013-03-10T19%3A23%3A33Z&amp;precision=second" title="Siehe Journal am 10.03.2013 19:23:33">vor 5 Jahren</a></span>
            <span class="trac-print">Zuletzt geändert am 10.03.2013 19:23:33</span>
          </div>
        
        
      </div><ul class="tags"><li class="header">Tags</li><li><a href="/tags/daemons" rel="tag">daemons</a> </li><li><a href="/tags/network" rel="tag">network</a> </li><li><a href="../packages.html" rel="tag">packages</a> </li><li><a href="/tags/server" rel="tag">server</a> </li></ul>
      

    </div>
    <div id="altlinks">
      <h3>In anderen Formaten herunterladen:</h3>
      <ul>
        <li class="last first">
          <a rel="nofollow" href="openntpd%3Fformat=txt">Reiner Text</a>
        </li>
      </ul>
    </div>
    </div>
    <div id="footer" lang="en" xml:lang="en"><hr />
      <a id="tracpowered" href="http://trac.edgewall.org/"><img src="../../chrome/common/trac_logo_mini.png" height="30" width="107" alt="Trac Powered" /></a>
      <p class="left">Betrieben mit <a href="/about"><strong>Trac 1.0.1</strong></a><br />
        von <a href="http://www.edgewall.org/">Edgewall Software</a>.</p>
      <p class="right"><div class="field" align="right"><form action="https://www.paypal.com/cgi-bin/webscr" method="post"><input type="hidden" name="cmd" value="_donations"/><input type="hidden" name="business" value="spenden@freetz.org"/><input type="hidden" name="item_name" value="Freetz Entwickler-Team"/><input type="hidden" name="no_shipping" value="1"/><input type="hidden" name="return" value=""/><input type="hidden" name="cn" value="Name oder IPPF-Pseudonym"/><input type="hidden" name="currency_code" value="EUR"/><input type="hidden" name="tax" value="0"/><input type="hidden" name="lc" value="DE"/><input type="hidden" name="bn" value="PP-DonationsBF"/><input type="image" src="https://www.paypalobjects.com/en_US/i/btn/btn_donate_LG.gif" border="0" name="submit" alt="Zahlen Sie mit PayPal - schnell, kostenlos und sicher!"/><img alt="" border="0" src="/pixel.gif" width="1" height="1"/></form></div></p>
    </div>
  </body>
</html>