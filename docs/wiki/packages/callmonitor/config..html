<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  
  


  <head>
    <title>
      packages/callmonitor/config – Freetz
    </title>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
      <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!--[if IE]><script type="text/javascript">
      if (/^#__msie303:/.test(window.location.hash))
        window.location.replace(window.location.hash.replace(/^#__msie303:/, '#'));
    </script><![endif]-->
        <link rel="search" href="/search" />
        <link rel="help" href="../../TracGuide.html" />
        <link rel="alternate" href="config%3Fformat=txt" type="text/x-trac-wiki" title="Reiner Text" />
        <link rel="up" href="../callmonitor.html" title="Übergeordnete Wiki-Seite anzeigen" />
        <link rel="start" href="/wiki" />
        <link rel="stylesheet" href="../../../chrome/common/css/trac.css" type="text/css" /><link rel="stylesheet" href="../../../chrome/common/css/wiki.css" type="text/css" /><link rel="stylesheet" href="../../../chrome/wikiextras/css/phrases.css" type="text/css" /><link rel="stylesheet" href="../../../chrome/wikiextras/css/boxes.css" type="text/css" /><link rel="stylesheet" href="../../../chrome/wikiextras/css/boxes-300.css" type="text/css" /><link rel="stylesheet" href="../../../chrome/wikiextras/css/boxes-narrow-toc.css" type="text/css" /><link rel="stylesheet" href="../../../wikicss.css" type="text/css" /><link rel="stylesheet" href="../../../chrome/tags/css/tractags.css" type="text/css" /><link rel="stylesheet" href="../../../chrome/wikinegotiator/css/langmenu-ctxnav.css" type="text/css" />
        <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon" />
        <link rel="icon" href="/favicon.ico" type="image/x-icon" />
      <link type="application/opensearchdescription+xml" rel="search" href="/search/opensearch" title="Freetz durchsuchen" />
      <script type="text/javascript" charset="utf-8" src="../../../chrome/common/js/jquery.js"></script>
      <script type="text/javascript" charset="utf-8" src="../../../chrome/common/js/babel.js"></script>
      <script type="text/javascript" charset="utf-8" src="../../../chrome/common/js/messages/de.js"></script>
      <script type="text/javascript" charset="utf-8" src="../../../chrome/common/js/trac.js"></script>
      <script type="text/javascript" charset="utf-8" src="../../../chrome/common/js/search.js"></script>
      <script type="text/javascript" charset="utf-8" src="../../../chrome/common/js/folding.js"></script>
    <script type="text/javascript">
      jQuery(document).ready(function($) {
        $("#content").find("h1,h2,h3,h4,h5,h6").addAnchor(_("Link to this section"));
        $("#content").find(".wikianchor").each(function() {
          $(this).addAnchor(babel.format(_("Link to #%(id)s"), {id: $(this).attr('id')}));
        });
        $(".foldable").enableFolding(true, true);
      });
    </script>
  </head>
  <body>
    <div id="banner">
      <div id="header">
        <a id="logo" href="/wiki"><img src="../../../chrome/common/freetz_motd.png" alt="Freetz" /></a>
      </div>
      <form id="search" action="/search" method="get">
        <div>
          <label for="proj-search">Suche:</label>
          <input type="text" id="proj-search" name="q" size="18" value="" />
          <input type="submit" value="Suche" />
        </div>
      </form>
      <div id="metanav" class="nav">
    <ul>
      <li class="first"><a href="/login">Anmelden</a></li><li><a href="/prefs">Einstellungen</a></li><li><a href="../../TracGuide.html">Hilfe/Anleitung</a></li><li><a href="/about">Über Trac</a></li><li><a href="/notification" title="Wiki Pages Change Notifications">My Notifications</a></li><li><a href="/register">Registrieren</a></li><li class="last"><a href="../../Impressum.html">Impressum</a></li>
    </ul>
  </div>
    </div>
    <div id="mainnav" class="nav">
    <ul>
      <li class="first active"><a href="/wiki">Wiki</a></li><li><a href="/timeline">Journal</a></li><li><a href="/roadmap">Projektplan</a></li><li><a href="/browser">Quellen durchsehen</a></li><li><a href="/report">Tickets anzeigen</a></li><li><a href="/search">Suche</a></li><li><a href="/tags">Tags</a></li><li><a href="/downloads">Downloads</a></li><li class="last"><a href="/screenshots">Bildschirmfotos</a></li>
    </ul>
  </div>
    <div id="langmenu"><ul><li class="first"><span title="Select a language of wiki content">Language:</span></li><li class=" active"><a class="" href="config..html" title="displaying language (default)">German</a></li><li class=" last"><a class=" notexist" href="/wiki/packages/callmonitor/config.en" title="(not available)">English</a></li></ul></div><div id="main">
      <div id="pagepath" class="noprint">
  <a class="pathentry first" title="Zeige WikiStart an" href="/wiki">Wiki:</a><a class="pathentry" href="../../packages.html" title="Zeige packages an">packages</a><span class="pathentry sep">/</span><a class="pathentry" href="../callmonitor.html" title="Zeige packages/callmonitor an">callmonitor</a><span class="pathentry sep">/</span><a class="pathentry" href="config.html" title="Zeige packages/callmonitor/config an">config</a>
</div>
      <div id="ctxtnav" class="nav">
        <h2>Kontext-Navigation</h2>
        <ul>
          <li class="first"><a href="../callmonitor.html">Aufwärts</a></li><li><a href="../../WikiStart.html">Startseite</a></li><li><a href="../../TitleIndex.html">Inhaltsverzeichnis</a></li><li><a href="config%3Faction=history.html">Änderungshistorie</a></li><li class="last"><a href="/notification/packages/callmonitor/config." title="Watch Page">Watch Page</a></li>
        </ul>
        <hr />
      </div>
    <div id="content" class="wiki">
      <div class="wikipage searchable">
        
          <div id="wikipage" class="trac-content"><p>
</p><div class="wiki-toc"><h4>Inhaltsverzeichnis</h4><ol><li><a href="../callmonitor.html#Callmonitor">Callmonitor</a><ol><li><a href="../callmonitor.html#Installation">Installation</a><ol><li><a href="../callmonitor.html#InstallationneuerVersionen">Installation neuer Versionen</a></li></ol></li><li><a href="../callmonitor.html#Konfiguration">Konfiguration</a></li><li><a href="../callmonitor.html#WeiterführendeLinks">Weiterführende Links</a></li></ol></li><li class="active"><a href="config.html#Konfiguration">Konfiguration</a><ol><li class="active"><a href="config.html#Basiskonfiguration">Basiskonfiguration</a></li><li class="active"><a href="config.html#Listenersdefinieren">Listeners definieren</a></li><li class="active"><a href="config.html#Testanruf">Testanruf</a></li><li class="active"><a href="config.html#Fehlersuche">Fehlersuche</a></li></ol></li><li><a href="listeners.html#RegelnListeners">Regeln (Listeners)</a><ol><li><a href="listeners.html#Format">Format</a></li><li><a href="listeners.html#Ereignis-InformationenfürAktionen">Ereignis-Informationen für Aktionen</a></li><li><a href="listeners.html#FormatierungderAusgaben">Formatierung der Ausgaben</a></li><li><a href="listeners.html#MusterfürEreignisse">Muster für Ereignisse</a></li><li><a href="listeners.html#Beispiele:">Beispiele:</a></li></ol></li><li><a href="events.html#Ereignisse">Ereignisse</a></li><li><a href="actions.html#Aktionen">Aktionen</a><ol><li><a href="actions.html#Benachrichtigen">Benachrichtigen</a></li><li><a href="actions.html#WählenWeckenKonfigurieren">Wählen, Wecken, Konfigurieren</a></li><li><a href="actions.html#EigeneAktionen">Eigene Aktionen</a></li><li><a href="actions.html#ListeverfügbarerAktionen">Liste verfügbarer Aktionen</a></li><li><a href="actions.html#Third-PartySoftware">Third-Party Software</a></li></ol></li><li><a href="phonebook.html#TelefonbuchCallers">Telefonbuch (Callers)</a></li><li><a href="maintenance.html#Wartung">Wartung</a></li><li><a href="reverse_search.html#Rückwärtssuche">Rückwärtssuche</a></li><li><a href="testcall.html#Testanruf">Testanruf</a></li></ol></div><p>
</p>
<h1 id="Konfiguration">Konfiguration</h1>
<p>
Die Konfiguration des Callmonitors nimmt man sinnvollerweise in mehreren Schritten vor, die sich auf verschiedene Seiten im Web-Interface von Freetz verteilen:
</p>
<ol><li>Basiskonfiguration durchführen (im Folgenden beschrieben)
</li><li>Listeners für bestimmte Aktionen definieren
</li><li>mit einem Testanruf die Konfiguration testen
</li></ol><h2 id="Basiskonfiguration">Basiskonfiguration</h2>
<p>
Auf der Seite Pakete-Callmonitor des Web-Interfaces lassen sich einige grundlegende Einstellungen vornehmen.
</p>
<p>
Als erstes wählt man den Starttyp - normalerweise "Automatisch", da der Callmonitor sonst nach jedem Neustart der FritzBox per Hand gestartet werden muss. Sollte es Probleme geben, kann man noch zusätzlich die Debug-Ausgaben aktivieren, was jedoch normalerweise unnötig ist.
</p>
<p>
Der nächste Block bietet lediglich Links zu den Listeners und zur Durchführung von Testanrufen.
</p>
<p>
Im folgenden Block lassen sich die Standort-Angaben (Landes- und Ortsvorwahl) noch einmal überprüfen und über einen Link zum AVM-WebGUI auch anpassen. Es ist zu beachten, dass Änderungen der Landes- und/oder Ortsvorwahl erst auf der Callmonitor-Seite angezeigt werden, wenn der Callmonitor neu gestartet wurde.
</p>
<p>
So weit sind wir aber noch nicht, vorher sind noch die Einstellungen zur Rückwärtssuche im dritten Block zu überprüfen. Sie kann komplett deaktiviert werden, dafür ist die Checkbox vor "Rückwärtssuche durchführen bei" zuständig. Möchte man sie benutzen, kann der <a class="wiki" href="reverse_search.html">Dienst für die Rückwärtssuche</a> ausgewählt werden, an den die Anfragen geschickt werden. <strong>Achtung:</strong> Diese Funktion setzt eine bestehende Internetverbindung voraus - es empfiehlt sich also irgendeine Art von always-on Flatrate für den Internetzugang zu verwenden (z.B. Volumentarif, komplette Flat).
</p>
<p>
Falls die Telefonnummer nicht gefunden werden kann (z.B. weil der Teilnehmer der Rückwärtssuche widersprochen hat), wird ersatzweise die Vorwahl bei dem dort ausgewählten Dienst nachgeschlagen. Dadurch kann zumindest der Ort angezeigt werden. Zum Schluss kann noch ausgewählt werden, ob die Ergebnisse der Rückwärtssuche dauerhaft im Telefonbuch (also im Flash der Box) oder flüchtig (d.h. bis zum Neustart) im Speicher abgelegt werden. Es ist auch möglich, die Zwischenspeicherung ganz abzuschalten. Dann wird die Rückwärtssuche immer wieder neu durchgeführt, selbst wenn dieselbe Rufnummer schon einmal nachgeschlagen wurde.
</p>
<p>
Die Einstellung "Vorwahl für lokale Rufnummern" wird benötigt, da im Ortsnetz nicht (immer) die Vorwahl mit übertragen wird. In aktuellen Versionen wird die Vorwahl automatisch aus den Einstellungen zur Internettelefonie übernommen (in der Weboberfläche von AVM).
</p>
<h2 id="Listenersdefinieren">Listeners definieren</h2>
<p>
Als nächstes müssen sogenannte Listeners definiert werden, die dann bei eingehenden Anrufen die gewünschte Aktion starten. Genaueres hierzu auf einer <a class="wiki" href="listeners.html">speziellen Seite für die Listeners</a>.
</p>
<h2 id="Testanruf">Testanruf</h2>
<p>
Sind die Listeners einmal definiert, kann und sollte man sie mit einem Testanruf ausprobieren. Dafür kann man natürlich einen echten Anruf machen - allerdings hat man oft nicht die Möglichkeit, spezielle Regeln zu testen. Daher gibt es die Möglichkeit, einen Testanruf über das Web-Interface zu generieren - eine genaue Beschreibung findet sich <a class="wiki" href="testcall.html">hier</a>.
</p>
<h2 id="Fehlersuche">Fehlersuche</h2>
<p>
Die Ausgaben des Testanrufs und ggf. die Debug-Meldungen (siehe oben, um das log zu sehen vorher in freetz-konfig diese option aktivieren um sie in das image einzubauen) geben in den meisten Fällen ausreichend Hinweise, warum die Aktion nicht ausgeführt wurde bzw. der Callmonitor nicht startet. Außerdem lohnt sich auch ein Blick auf die <a class="wiki" href="maintenance.html">Wartungsseite</a> - falls die Callmonitor-Schnittstelle deaktiviert ist, kann dieser auch nicht funktionieren. Einschalten mit einem Anruf der Fritzbox von einem angeschlossenem Telefon aus mit der Nummer: <a class="closed ticket" href="/ticket/96" title="defect: Keine Schreibrechte mit Samba auf bestimmte Verzeichnisse (closed: invalid)">#96</a>*5* kann helfen. Wenn das alles nicht weiterhilft, kann man auf der <a class="ext-link" href="http://www.ip-phone-forum.de/showthread.php?t=100706"><span class="icon">​</span>Forumsseite für Fragen und Diskussionen</a> Unterstützung bekommen.
</p>
</div>
          
          <div class="trac-modifiedby">
            <span><a href="config%3Faction=diff&amp;version=7.html" title="Version 7 von oliver">zuletzt geändert</a> <a class="timeline" href="/timeline?from=2011-05-05T07%3A36%3A09Z&amp;precision=second" title="Siehe Journal am 05.05.2011 07:36:09">vor 7 Jahren</a></span>
            <span class="trac-print">Zuletzt geändert am 05.05.2011 07:36:09</span>
          </div>
        
        
      </div><ul class="tags"><li class="header">Tags</li><li><a href="/tags/callmonitor" rel="tag">callmonitor</a> </li></ul>
      

    </div>
    <div id="altlinks">
      <h3>In anderen Formaten herunterladen:</h3>
      <ul>
        <li class="last first">
          <a rel="nofollow" href="config%3Fformat=txt">Reiner Text</a>
        </li>
      </ul>
    </div>
    </div>
    <div id="footer" lang="en" xml:lang="en"><hr />
      <a id="tracpowered" href="http://trac.edgewall.org/"><img src="../../../chrome/common/trac_logo_mini.png" height="30" width="107" alt="Trac Powered" /></a>
      <p class="left">Betrieben mit <a href="/about"><strong>Trac 1.0.1</strong></a><br />
        von <a href="http://www.edgewall.org/">Edgewall Software</a>.</p>
      <p class="right"><div class="field" align="right"><form action="https://www.paypal.com/cgi-bin/webscr" method="post"><input type="hidden" name="cmd" value="_donations"/><input type="hidden" name="business" value="spenden@freetz.org"/><input type="hidden" name="item_name" value="Freetz Entwickler-Team"/><input type="hidden" name="no_shipping" value="1"/><input type="hidden" name="return" value=""/><input type="hidden" name="cn" value="Name oder IPPF-Pseudonym"/><input type="hidden" name="currency_code" value="EUR"/><input type="hidden" name="tax" value="0"/><input type="hidden" name="lc" value="DE"/><input type="hidden" name="bn" value="PP-DonationsBF"/><input type="image" src="https://www.paypalobjects.com/en_US/i/btn/btn_donate_LG.gif" border="0" name="submit" alt="Zahlen Sie mit PayPal - schnell, kostenlos und sicher!"/><img alt="" border="0" src="/pixel.gif" width="1" height="1"/></form></div></p>
    </div>
  </body>
</html>