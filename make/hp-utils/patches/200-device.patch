--- device.c	2020-07-12 19:12:31.024208855 +0200
+++ device.c	2020-07-12 19:14:21.231000458 +0200
@@ -50,6 +50,11 @@
 
 void device_free(struct device *d)
 {
+        /* This code causes a segmentation fault.
+        /  Simply returning causes a memory leak, but at least it works
+        /  Note: Memory should be returned when process ends
+        */
+        return;
 	if (d == NULL) {
 		return;
 	}

