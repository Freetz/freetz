--- /dev/null
+++ usr/www/all/html/de/dect/setting.frm
@@ -0,0 +1,7 @@
+<input type="hidden" name="dect:settings/enabled" value="<? query dect:settings/enabled ?>" id="uiPost_DectActivated">
+<input type="hidden" name="dect:command/Unsubscribe" value="0" id="uiPostUnsubscribe" disabled>
+<input type="hidden" name="dect:command/PIN" value="" id="uiPostDectPIN" disabled>
+<input type="hidden" name="var:FromMenuDect" value="<? echo $var:FromMenuDect ?>" id="uiFromMenuDect">
+<input type="hidden" name="var:DeviceType" value="<? echo $var:DeviceType ?>" id="uiDeviceType">
+<input type="hidden" name="var:TechType" value="<? echo $var:TechType ?>" id="uiTechType">
+<input type="hidden" id="uiPostVarName" name="">
--- /dev/null
+++ usr/www/all/html/de/dect/setting.html
@@ -0,0 +1,33 @@
+<? include ../html/de/dect/setting.js ?>
+<div id="content">
+<div class="backtitel"><div class="rundrt"><div class="rundlt"><div class="ecklb"><div class="eckrb"><div class="foretitel">
+DECT-Einstellungen
+</div></div></div></div></div></div>
+<div class="backdialog"><div class="ecklm"><div class="eckrm"><div class="ecklb"><div class="eckrb"><div class="foredialog">
+<p class="mb5">Hier können Sie Ihre DECT-Basisstation abschalten, die Einstellung wird erst nach "Übernehmen" und "Neustart" wirksam.</p>
+</div></div></div></div></div></div>
+<!-- Einstellungen -->
+<div class="backdialog"><div class="ecklm"><div class="eckrm"><div class="ecklb"><div class="eckrb"><div class="foredialog">
+<!--p class="mb5fett"><? echo $var:TextMultimedia ?></p-->
+<div style="margin-left: 25px;">
+<p class="pCheck25"><input type="checkbox" id="uiViewDectActivated">&nbsp;<label for="uiViewDectActivated">DECT-Basisstation aktivieren</label></p>
+</div>
+<table style="margin-top:5px;margin-bottom:5px;margin-left: 25px;">
+<tr>
+<td class="c1DectPinText"><label for="uiPinInput">PIN</label></td>
+<td class="c1DectPinInput"><input type="text" id="uiPinInput" size="4" maxlength="4" class="Eingabefeld"></td>
+<!--td class="c1DectSetPin">
+<input type="button" onclick="uiOnDectSetPin()" value="PIN eingeben" class="Pushbutton" style="width: 180px" id="uiViewSetPin">
+</td-->
+</tr>
+</table>
+</div></div></div></div></div></div>
+<div class="backdialog" id="uiApplyCancelButtons"><div class="ecklm"><div class="eckrm"><div class="rundrb"><div class="rundlb"><div class="forebuttons">
+<input type="button" onclick="uiDoSave()" value="Übernehmen" class="Pushbutton" id="buttonSave">
+<input type="button" onclick="uiDoCancel()" value="Abbrechen" class="Pushbutton" id="buttonCancel">
+<input type="button" onclick="uiDoHelp()" value="Hilfe" class="Pushbutton" id="buttonHilfe">
+</div></div></div></div></div></div>
+<div class="backtitel"><div class="rundrt"><div class="rundlt"><div class="rundlb"><div class="rundrb"><div class="foredialog">
+<p class="ac"><input type="button" onclick="uiReboot()" value="Neustart" class=Pushbutton style="width: 360px"></p>
+</div></div></div></div></div></div>
+</div>
--- /dev/null
+++ usr/www/all/html/de/dect/setting.js
@@ -0,0 +1,52 @@
+<!-- ../dect/setting.js -->
+<style type="text/css">
+<!--
+.pCheck25 {text-indent: -25px; padding-left: 22px;}
+.c1DectPinText{width: 50px;}
+.c1DectPinInput{width: 145px;}
+-->
+</style>
+<script type="text/javascript">
+<? include ../html/de/js/val.js ?>
+<? include ../html/de/js/jsl.js ?>
+// globals
+var g_mldPin = "Die DECT-Basisstation PIN muss aus 4 Ziffern bestehen."
+var mCount = "<? query telcfg:settings/Foncontrol ?>";
+function uiDoOnLoad() {
+document.title = "<? print `$var:BoxName` ?>" + " " + "<? print `$var:TextDectEinstellungen` ?>";
+jslSetChecked("uiViewDectActivated", jslGetValue("uiPost_DectActivated")==1);
+jslSetValue("uiPinInput", "****");
+}
+function uiDoSave() {
+jslSetValue("uiPostPageMaster","setting");
+jslSetValue("uiFromMenuDect","1");
+if (jslGetChecked("uiViewDectActivated")) {
+jslSetValue("uiPost_DectActivated", "1");
+if (uiOnDectSetPin()==false)
+return;
+}
+else
+jslSetValue("uiPost_DectActivated", "0");
+jslFormSubmitEx("", "");
+}
+
+function uiDoCancel() {
+jslGoTo("dect", "setting");
+}
+function uiDoHelp() {
+jslPopHelp("hilfe_fon_dect_einstellungen");
+}
+function uiOnDectSetPin(){
+pin=jslGetValue("uiPinInput");
+if (pin.length != 4 || !valIsZahl(pin) ) {alert(g_mldPin); return false;}
+jslCopyValue("uiPostDectPIN", "uiPinInput");
+jslEnable("uiPostDectPIN")
+return true;
+}
+function uiReboot() {
+document.getElementById("uiPostVarName").name = "logic:command/reboot";
+jslSetValue("uiPostVarName", "../gateway/commands/saveconfig.html");
+jslSetValue("uiPostGetPage", "../html/reboot.html");
+document.getElementById("uiPostForm").submit();
+}
+</script>
--- /dev/null
+++ usr/www/all/html/de/fon/dect0.frm
@@ -0,0 +1,32 @@
+<input type="hidden" name="var:FonNr" value="<? echo $var:FonNr ?>" id="uiPostFonNr">
+<input type="hidden" name="var:IsdnNr" value="<? echo $var:IsdnNr ?>" id="uiPostIsdnNr">
+<input type="hidden" name="var:parent" value="<? echo $var:parent ?>" id="uiPostParent">
+<input type="hidden" name="var:ShowIsdnDefault" value="<? echo $var:ShowIsdnDefault ?>" id="uiShowIsdnDefault">
+<input type="hidden" name="telcfg:settings/MSN/POTS" value="<? query telcfg:settings/MSN/POTS ?>" id="uiPostPots">
+<input type="hidden" name="telcfg:settings/MSN/NTDefault" value="<? query telcfg:settings/MSN/NTDefault ?>" id="uiPostNTDefault">
+<input type="hidden" name="telcfg:settings/MSN/MSN0" value="<? query telcfg:settings/MSN/MSN0 ?>" id="uiPostMsn0" disabled>
+<input type="hidden" name="telcfg:settings/MSN/MSN1" value="<? query telcfg:settings/MSN/MSN1 ?>" id="uiPostMsn1" disabled>
+<input type="hidden" name="telcfg:settings/MSN/MSN2" value="<? query telcfg:settings/MSN/MSN2 ?>" id="uiPostMsn2" disabled>
+<input type="hidden" name="telcfg:settings/MSN/MSN3" value="<? query telcfg:settings/MSN/MSN3 ?>" id="uiPostMsn3" disabled>
+<input type="hidden" name="telcfg:settings/MSN/MSN4" value="<? query telcfg:settings/MSN/MSN4 ?>" id="uiPostMsn4" disabled>
+<input type="hidden" name="telcfg:settings/MSN/MSN5" value="<? query telcfg:settings/MSN/MSN5 ?>" id="uiPostMsn5" disabled>
+<input type="hidden" name="telcfg:settings/MSN/MSN6" value="<? query telcfg:settings/MSN/MSN6 ?>" id="uiPostMsn6" disabled>
+<input type="hidden" name="telcfg:settings/MSN/MSN7" value="<? query telcfg:settings/MSN/MSN7 ?>" id="uiPostMsn7" disabled>
+<input type="hidden" name="telcfg:settings/MSN/MSN8" value="<? query telcfg:settings/MSN/MSN8 ?>" id="uiPostMsn8" disabled>
+<input type="hidden" name="telcfg:settings/MSN/MSN9" value="<? query telcfg:settings/MSN/MSN9 ?>" id="uiPostMsn9" disabled>
+<? multiquery sip:settings/sip/list(displayname) '
+<input type="hidden" name="sip:settings/$1/displayname" value="$2" id="uiPost$1" disabled>
+' ?>
+<input type="hidden" name="telcfg:settings/MSN/Port3/BusyOnBusy" value="<? query telcfg:settings/MSN/Port3/BusyOnBusy ?>" id="uiPostBusy">
+<input type="hidden" name="telcfg:settings/MSN/Port3/CallWaitingProt" value="<? query telcfg:settings/MSN/Port3/CallWaitingProt ?>" id="uiPostWaiting">
+<input type="hidden" name="telcfg:settings/MSN/Port3/NoRingWithNightSetting" value="<? query telcfg:settings/MSN/Port3/NoRingWithNightSetting?>" id="uiPostNoRingNS">
+<input type="hidden" name="telcfg:settings/MSN/Port3/RingAllowed" value="<? query telcfg:settings/MSN/Port3/RingAllowed ?>" id="uiPostRingAllowed0">
+<input type="hidden" name="telcfg:settings/MSN/Port3/NoRingTime" value="<? query telcfg:settings/MSN/Port3/NoRingTime?>" id="uiPostNoRingTime0">
+<input type="hidden" name="telcfg:settings/MSN/Port3/COLR" value="<? query telcfg:settings/MSN/Port3/COLR?>" id="uiPostColr">
+<input type="hidden" name="telcfg:settings/MSN/Port3/MWI_Voice" value="<? query telcfg:settings/MSN/Port3/MWI_Voice?>" id="uiPostMwiVoice">
+<input type="hidden" name="telcfg:settings/MSN/Port3/MWI_Fax" value="<? query telcfg:settings/MSN/Port3/MWI_Fax?>" id="uiPostMwiFax">
+<input type="hidden" name="telcfg:settings/MSN/Port3/MWI_Mail" value="<? query telcfg:settings/MSN/Port3/MWI_Mail?>" id="uiPostMwiMail">
+<input type="hidden" name="telcfg:settings/MSN/Port3/MWI_Once" value="<? query telcfg:settings/MSN/Port3/MWI_Once ?>" id="uiPostMwiOnce">
+
+<input type="hidden" name="dect:command/PageHandsets" id="uiPostPageHandsets" disabled>
+<input type="hidden" name="dect:command/DateTime" id="uiPostHandsetsTime" disabled>
--- /dev/null
+++ usr/www/all/html/de/fon/dect0.html
@@ -0,0 +1,47 @@
+<div id="content">
+<div class="backtitel"><div class="rundrt"><div class="rundlt"><div class="ecklb"><div class="eckrb"><div class="foretitel">
+Schnurlostelefone (DECT)
+</div></div></div></div></div></div>
+<div class="backframe"><div class="ecklm"><div class="eckrm"><div class="rundrb"><div class="rundlb"><div class="foredialog"><div class="ie_b10">
+<ul class="tabs">
+<li class="tabs_on"><a href="javascript:uiDoRefresh()">Übersicht</a></li>
+<li><a href="javascript:uiDoListDect()">Interne Nummern</a></li>
+<li><a href="javascript:uiDoSetupDect()">Zuordnung</a></li>
+<li><a href="javascript:uiDoEditDect()">Anmelden</a></li>
+</ul>
+<div class="backdialog"><div class="ecklm"><div class="eckrm"><div class="ecklb"><div class="eckrb"><div class="foredialog">
+<p class="mb10">Schnurlostelefone (DECT) ohne eingestellte MSN führen ausgehende Anrufe über die Hauptrufnummer und reagieren auf alle einkommenden Anrufe.</p>
+<p class="ml25 mb5">Hauptrufnummer</p>
+<table id="t0" class="ml50 tborder" style="width: 300px">
+<td><select size="1" id="uiViewNr" class="Eingabefeld" style="width:300px"></select></td>
+</table>
+<p class="mb10">Auf Wunsch können Sie an Ihren Schnurlostelefonen (DECT) folgende MSN einstellen. Hinweise dazu entnehmen Sie den Unterlagen des Schnurlostelefones (DECT).</p>
+<p class="ml25 mb5">Vorhandene Rufnummern:</p>
+<p class="mb5">&nbsp;</p>
+<table id="t1" class="ml50 tborder" style="width: 300px">
+<? multiquery sip:settings/sip/list(displayname) `
+<tr id="uiSip$0" style="display:none"><td class="c1">Internet:</td><td class="c2">$2</td></tr>
+` ?>
+<? repeat [ 0 9 ] `
+<tr id="uiMsn$0" style="display:none"><td class="c1">Festnetz:</td><td class="c2"><? query telcfg:settings/MSN/MSN$0 ?></td></tr>
+` ?>
+<tr id="uiPots" style="display:none"><td class="c1">Festnetz:</td><td class="c2"><? query telcfg:settings/MSN/POTS ?></td></tr>
+<tr id="uiNichts" style="display:none"><td colspan=2 class="ac">Keine Rufnummern eingerichtet</td></tr>
+</table>
+</div></div></div></div></div></div>
+
+<div class="backdialog"><div class="ecklm"><div class="eckrm"><div class="ecklb"><div class="eckrb"><div class="foredialog">
+<p class="mb5">Mit Hilfe der Paging-Funktion können Sie Schnurlostelefone (DECT) lokalisieren. Per Knopfdruck können auch Datum und Uhrzeit der Schnurlostelefone (DECT) gesetzt werden.</p>
+<div style="text-align: right;">
+<input type="button" value="Schnurlostelefone pagen" id="uiViewPage" onclick="uiDoPage()" class="Pushbutton" style="width:180px;">
+<input type="button" value="Datum und Uhrzeit setzen" id="uiViewDateTime" onclick="uiDoDateTime()" class="Pushbutton" style="width:180px;">
+<input type="button" value="Telefonbuch senden" id="uiSendBook" onclick="uiDoSendBook()" class="Pushbutton" style="width:180px;">
+</div>
+</div></div></div></div></div></div>
+
+<div class="backdialog" id="uiApplyCancelButtons"><div class="ecklm"><div class="eckrm"><div class="rundrb"><div class="rundlb"><div class="forebuttons">
+<input type="button" onclick="uiDoSave()" value="Übernehmen" class="Pushbutton" id="buttonSave">
+<input type="button" onclick="uiDoCancel()" value="Abbrechen" class="Pushbutton" id="buttonCancel">
+<input type="button" onclick="uiDoHelp()" value="Hilfe" class="Pushbutton" id="buttonHilfe">
+</div></div></div></div></div></div>
+</div>
--- /dev/null
+++ usr/www/all/html/de/fon/dect0.js
@@ -0,0 +1,152 @@
+<!--		../fon/dect0.js		-->
+<style type="text/css">
+<!--
+.c1 {width: 150px; margin-left: 5px; padding: 2px 5px;}
+.c2 { margin-left: 5px; padding: 2px 0px;}
+.mt10 {margin-top: 10px;}
+.ml25 {margin-left: 25px;}
+.ml50 {margin-left: 50px;}
+.ar {text-align: right;}
+.ac {text-align: center;}
+
+
+
+-->
+</style>
+<script type="text/javascript">
+<? include ../html/de/js/val.js ?>
+<? include ../html/de/js/jsl.js ?>
+var g_txtInternettyp	= "Internet: ";
+var g_txtFestnetztyp	= "Festnetz: ";
+var g_mldDigit			= "Eine Rufnummer darf nur aus Ziffern bestehen.";
+<? multiquery sip:settings/sip/list '
+var g_$1;
+' ?>
+<? if eq '$var:usePSTN' 1 `
+var g_msn0;
+var g_msn1;
+var g_msn2;
+var g_msn3;
+var g_msn4;
+var g_msn5;
+var g_msn6;
+var g_msn7;
+var g_msn8;
+var g_msn9;
+` ?>
+function uiDoOnLoad() {
+<? multiquery sip:settings/sip/list '
+g_$1 = jslGetValue("uiPost$1");
+' ?>
+g_msn0 = jslGetValue("uiPostMsn0");
+g_msn1 = jslGetValue("uiPostMsn1");
+g_msn2 = jslGetValue("uiPostMsn2");
+g_msn3 = jslGetValue("uiPostMsn3");
+g_msn4 = jslGetValue("uiPostMsn4");
+g_msn5 = jslGetValue("uiPostMsn5");
+g_msn6 = jslGetValue("uiPostMsn6");
+g_msn7 = jslGetValue("uiPostMsn7");
+g_msn8 = jslGetValue("uiPostMsn8");
+g_msn9 = jslGetValue("uiPostMsn9");
+fillId("uiViewNr", jslGetValue("uiPostNTDefault"));
+var bFound = false;
+<? multiquery sip:settings/sip/list(displayname) `
+if (valIsZahlVorhanden("$2")) {jslDisplay("uiSip$0", true); bFound = true;}
+` ?>
+<? if eq '$var:usePSTN' 1 `
+for (var i=0; i<10; i++) {
+if (jslGetValue("uiPostMsn"+i) != "") {jslDisplay("uiMsn"+i, true); bFound = true;}
+}
+if (jslGetValue("uiPostPots") != "") {jslDisplay("uiPots", true); bFound = true;}
+` ?>
+if (!bFound) jslDisplay("uiNichts", true);
+jslZebrastreifen("t1");
+<? setvariable var:handsetfound 0 ?>
+<? multiquery dect:settings/Handset/list(Subscribed,Type) `
+<? if eq $2 1 `
+<? if eq $3 1 `
+<? setvariable var:handsetfound 1 ?>
+` ?>
+` ?>
+` ?>
+}
+function uiDoSave() {
+var nr = jslGetValue("uiViewNr");
+jslSetValue("uiPostNTDefault", nr == "Leer" ? "":nr);
+jslFormSubmitEx("fon", "dect0");
+}
+var g_menu = "<? print $var:menu ?>";
+function uiDoHelp() {
+jslPopHelp("hilfe_fon_dect");
+}
+function uiDoCancel() {
+jslGoTo(g_menu, "");
+}
+function uiDoRefresh() {
+jslGoTo(g_menu, "dect0");
+}
+function uiDoEditDect() {
+jslGoTo(g_menu, "foneditdect");
+}
+function uiDoSetupDect() {
+jslGoTo(g_menu, "fonsetupdect");
+}
+function uiDoListDect() {
+jslGoTo(g_menu, "fonlistdect");
+}
+function fillId(id, nr) {
+<? multiquery sip:settings/sip/list(ID,displayname) '
+if (valIsZahlVorhanden("$3")) addOption(id, "SIP"+"$2", g_txtInternettyp+g_$1);
+' ?>
+addMsn(id, g_msn0);
+addMsn(id, g_msn1);
+addMsn(id, g_msn2);
+addMsn(id, g_msn3);
+addMsn(id, g_msn4);
+addMsn(id, g_msn5);
+addMsn(id, g_msn6);
+addMsn(id, g_msn7);
+addMsn(id, g_msn8);
+addMsn(id, g_msn9);
+addOption(id, "POTS", g_txtFestnetztyp+jslGetValue("uiPostPots"));
+addOption(id, "Leer", "");
+jslSetSelection(id, "Leer"); // Defaultwert
+jslSetSelection(id, nr=="" ? "Leer":nr);
+}
+function addMsn (id, msn) {
+if (msn != "") addOption(id, msn, g_txtFestnetztyp+msn);
+}
+function addOption (id, val, text) {
+var element;
+element = document.getElementById(id);
+if (element == null) return;
+var eintrag = new Option(text, val, false, false);
+element.options[element.length]=eintrag;
+}
+function SetChecked (postid, viewid) {
+jslSetChecked(viewid, jslGetValue(postid) != "0");
+}
+function GetChecked (postid, viewid) {
+jslSetValue(postid, jslGetChecked(viewid) ? "1":"0");
+}
+function OnOnce(n) {
+jslSetChecked("uiViewEinmal", n==0);
+jslSetChecked("uiViewImmer", n==1);
+}
+function uiDoSendBook() {
+jslSetValue("uiPostPageMaster", "dect0");
+jslGoTo("fon", "buchsend");
+}
+function uiDoPage () {
+jslSetValue("uiPostPageHandsets", "0");
+jslEnable("uiPostPageHandsets");
+jslSubmitFormEx("fon", "", "");
+alert("Alle angemeldeten Handteile sollten jetzt eine Minute lang klingeln!");
+}
+function uiDoDateTime () {
+jslSetValue("uiPostHandsetsTime", "0");
+jslEnable("uiPostHandsetsTime");
+jslSubmitFormEx("fon", "", "");
+alert("Uhrzeit wurde nur bei allen angemldeten Swiss-Voice comaptiblen Handteilen gesetzt!");
+}
+</script>
--- /dev/null
+++ usr/www/all/html/de/fon/fon1dect.frm
@@ -0,0 +1,23 @@
+<input type="hidden" name="dect:settings/MSN<? echo $var:MsnNr ?>/MSN" value="<? query dect:settings/MSN<? echo $var:MsnNr ?>/MSN ?>" id="uiPostThisMSN">
+<input type="hidden" name="dect:settings/MSN<? echo $var:MsnNr ?>/CLIR" value="<? query dect:settings/MSN<? echo $var:MsnNr ?>/CLIR ?>" id="uiPostCLIR">
+<input type="hidden" name="dect:settings/MSN<? echo $var:MsnNr ?>/CallWaiting" value="<? query dect:settings/MSN<? echo $var:MsnNr ?>/CallWaiting ?>" id="uiPostCallWaiting">
+<input type="hidden" name="dect:settings/MSN<? echo $var:MsnNr ?>/BusyOnBusy" value="<? query dect:settings/MSN<? echo $var:MsnNr ?>/BusyOnBusy ?>" id="uiPostBusyOnBusy">
+<input type="hidden" name="dect:settings/MSN<? echo $var:MsnNr ?>/Handsets" value="<? query dect:settings/MSN<? echo $var:MsnNr ?>/Handsets ?>" id="uiPostHandsets">
+<? repeat [ 1 8 ] `
+<input type="hidden" name="telcfg:settings/NTHotDialList/Number$0" value="<? query telcfg:settings/NTHotDialList/Number$0 ?>" id="uiInt$0" disabled>
+` ?>
+<? multiquery sip:settings/sip/list(displayname) '
+<input type="hidden" name="sip:settings/$1/displayname" value="$2" id="ui$1" disabled>
+' ?>
+<? repeat [ 0 9 ] `
+<input type="hidden" name="telcfg:settings/MSN/MSN$0" value="<? query telcfg:settings/MSN/MSN$0 ?>" id="uiMsn$0" disabled>
+` ?>
+<input type="hidden" name="telcfg:settings/MSN/POTS" value="<? query telcfg:settings/MSN/POTS ?>" id="uiPots" disabled>
+<? repeat [ 0 4 ] `
+<input type="hidden" name="dect:settings/MSN$0/MSN" value="<? query dect:settings/MSN$0/MSN ?>" id="uiPostMSN$0" disabled>
+` ?>
+<? repeat [ 0 5 ] `
+<input type="hidden" name="dect:settings/Handset$0/Subscribed" value="<? query dect:settings/Handset$0/Subscribed ?>" id="uiPostSubscribed$0" disabled>
+<input type="hidden" name="dect:settings/Handset$0/Type" value="<? query dect:settings/Handset$0/Type ?>" id="uiPostType$0" disabled>
+<input type="hidden" name="dect:settings/Handset$0/Name" value="<? query dect:settings/Handset$0/Name ?>" id="uiPostDectDeviceName$0" disabled>
+` ?>
--- /dev/null
+++ usr/www/all/html/de/fon/fon1dect.html
@@ -0,0 +1,43 @@
+
+<div id="content">
+<div class="backtitel"><div class="rundrt"><div class="rundlt"><div class="ecklb"><div class="eckrb"><div class="foretitel">
+MSN zuordnen
+</div></div></div></div></div></div>
+<div class="backdialog"><div class="ecklm"><div class="eckrm"><div class="ecklb"><div class="eckrb"><div class="foredialog">
+<!--	<p>MSN <script type="text/javascript">document.write(uiIndexMSN("<? echo $var:MsnNr ?>"));</script></p> -->	 
+
+<table>
+<tr>
+<td class="c1"><label for="uiViewMSN">MSN <script type="text/javascript">document.write(uiIndexMSN("<? echo $var:MsnNr ?>"));</script></label></td>
+<td><select size="1" id="uiViewMSN" class="Eingabefeld" style="width:200px"></select></td>
+</tr>
+</table>
+<p>Optionen</p>
+
+<table>
+<tr>
+<td style="{text-align: left; width: 150px;"><input type="checkbox" name="uiViewCLIR" id="uiViewCLIR0">&nbsp;<label for="uiViewCLIR">Anonym anrufen</label></td>
+<td style="{text-align: left; width: 150px;"><input type="checkbox" name="uiViewCallWaiting" id="uiViewCallWaiting">&nbsp;<label for="uiViewCallWaiting">Anklopfen</label></td>
+<td style="{text-align: left; width: 150px;"><input type="checkbox" name="uiViewBusyOnBusy" id="uiViewBusyOnBusy">&nbsp;<label for="uiViewBusyOnBusy">MSN besetzt</label></td>
+</tr>
+</table>
+
+<p>Zuordnung</p>
+<table id="tHandsets" class="tborder">
+<? repeat [ 0 5 ] '
+<tr id="uiViewSchnurlos$0" style="display:none">
+<td style="{text-align: left;"><input type="checkbox" name="uiViewHandset$0" id="uiViewHandset$0" disabled >&nbsp;
+<label for="uiViewHandset$0"><? query dect:settings/Handset$0/Name ?></label></td>
+</tr>
+' ?>
+</table>
+<table>
+<tr id="uiNichts" style="{text-align: center;"><td colspan=5 class="ac">Es sind keine Schnurlostelefone (DECT) angemeldet</td></tr>
+</table>
+</div></div></div></div></div></div>
+<div class="backdialog" id="uiApplyCancelButtons"><div class="ecklm"><div class="eckrm"><div class="rundrb"><div class="rundlb"><div class="forebuttons">
+<input type="button" onclick="uiDoSave()" value="Übernehmen" class="Pushbutton" id="buttonSave">
+<input type="button" onclick="uiDoCancel()" value="Abbrechen" class="Pushbutton" id="buttonCancel">
+<input type="button" onclick="uiDoHelp()" value="Hilfe" class="Pushbutton" id="buttonHilfe">
+</div></div></div></div></div></div>
+</div>
--- /dev/null
+++ usr/www/all/html/de/fon/fon1dect.js
@@ -0,0 +1,168 @@
+<!--		../fon/fon1dect.js		-->
+<style type="text/css">
+<!--
+td {padding: 5px 5px;}
+th {padding: 5px 5px;}
+.ac {text-align: center;}
+-->
+</style>
+<script type="text/javascript">
+<? include ../html/de/js/val.js ?>
+<? include ../html/de/js/jsl.js ?>
+var g_txt_Festnetz	= "Festnetz: ";
+var g_txt_Internet	= "Internet: ";
+var g_txt_Intern		= "Intern: ";
+<? multiquery sip:settings/sip/list '
+var g_$1;
+' ?>
+var g_msn0;
+var g_msn1;
+var g_msn2;
+var g_msn3;
+var g_msn4;
+var g_msn5;
+var g_msn6;
+var g_msn7;
+var g_msn8;
+var g_msn9;
+var g_pots;
+var g_int1;
+var g_int2;
+var g_int3;
+var g_int4;
+var g_int5;
+var g_int6;
+var g_int7;
+var g_int8;
+var g_MsnGesperrt = new Array(0, 0, 0, 0, 0);
+var g_Index = new Array("A", "B", "C", "D", "E");
+var g_Handsets;
+var g_MsnNr;
+var g_OptsCount = 0;
+var g_mldNoNummer = "Geben Sie bitte eine Rufnummer an.";
+var g_mldNoHandset = "Wählen Sie bitte mind. ein Mobilteil aus.";
+var g_mldNoOpts = "Es sind bereits alle verfügbaren Rufnummern zugeordnet.";
+function uiDoOnLoad() {
+g_Handsets = 0;
+<? multiquery dect:settings/Handset/list(Subscribed) `
+<? if eq $2 1 `
+g_Handsets |= (1<<$0);
+` ?>
+` ?>
+<? multiquery sip:settings/sip/list '
+g_$1 = jslGetValue("ui$1");
+' ?>
+g_msn0 = jslGetValue("uiMsn0");
+g_msn1 = jslGetValue("uiMsn1");
+g_msn2 = jslGetValue("uiMsn2");
+g_msn3 = jslGetValue("uiMsn3");
+g_msn4 = jslGetValue("uiMsn4");
+g_msn5 = jslGetValue("uiMsn5");
+g_msn6 = jslGetValue("uiMsn6");
+g_msn7 = jslGetValue("uiMsn7");
+g_msn8 = jslGetValue("uiMsn8");
+g_msn9 = jslGetValue("uiMsn9");
+g_pots = jslGetValue("uiPots");
+g_int1 = jslGetValue("uiInt1");
+g_int2 = jslGetValue("uiInt2");
+g_int3 = jslGetValue("uiInt3");
+g_int4 = jslGetValue("uiInt4");
+g_int5 = jslGetValue("uiInt5");
+g_int6 = jslGetValue("uiInt6");
+g_int7 = jslGetValue("uiInt7");
+g_int8 = jslGetValue("uiInt8");
+fillId("uiViewMSN", jslGetValue("uiPostThisMSN"));
+if (g_OptsCount == 1) {alert(g_mldNoOpts); return;}
+jslSetChecked("uiViewCLIR", jslGetValue("uiPostCLIR") == "1");
+jslSetChecked("uiViewCallWaiting", jslGetValue("uiPostCallWaiting") == "1");
+jslSetChecked("uiViewBusyOnBusy", jslGetValue("uiPostBusyOnBusy") == "1");
+bFound=false;
+for (var i=0; i<=6; i++) {
+if (jslGetValue("uiPostSubscribed"+i) == "1") {
+jslDisplay("uiViewSchnurlos"+i, true); bFound=true;
+}
+jslDisplay("uiNichts", !bFound);
+}
+var bits = jslGetValue("uiPostHandsets");
+var bits = (bits.charCodeAt(0) - 48);
+for (var j=0; j<6; j++) {
+if ((g_Handsets & (1<<j)) != 0)	{
+jslEnable("uiViewHandset"+j);
+} 
+jslSetChecked("uiViewHandset"+j, (bits & g_Handsets & (1<<j)) != 0);
+}
+}
+function uiDoSave() {
+var bits=0
+for (var j=0; j<6; j++) {
+if (jslGetChecked("uiViewHandset"+j)) bits |= 1<<j;
+}
+if (bits == 0) {alert(g_mldNoHandset); return;}
+var bits = (String.fromCharCode(bits + 48));
+jslSetValue("uiPostHandsets", bits);
+if (jslGetValue("uiViewMSN") == "Leer") {alert(g_mldNoNummer); return;}
+jslCopyValue("uiPostThisMSN", "uiViewMSN");
+jslSetValue("uiPostCLIR", jslGetChecked("uiViewCLIR") ? "1":"0");
+jslSetValue("uiPostCallWaiting", jslGetChecked("uiViewCallWaiting") ? "1":"0");
+jslSetValue("uiPostBusyOnBusy", jslGetChecked("uiViewBusyOnBusy") ? "1":"0");
+jslSubmitFormEx("fon", jslGetValue("uiPostPageMaster"));
+}
+function uiDoCancel() {
+jslGoTo("fon", jslGetValue("uiPostPageMaster"));
+}
+function uiDoHelp() {
+jslPopHelp("hilfe_fon_fon1dect");
+}
+function isFrei(msn) {
+for (var i=0; i<5; i++) {
+if (i != g_MsnNr && msn == jslGetValue("uiPostMSN"+i)) return false;
+}
+return true;
+} 
+function fillId(id, nr) {
+<? if eq '$var:usePSTN' 1 `
+// Auswahl mit den vorgegebenen MSN füllen und Eintrag msn selektieren
+addMsn(id, g_msn0, g_txt_Festnetz);
+addMsn(id, g_msn1, g_txt_Festnetz);
+addMsn(id, g_msn2, g_txt_Festnetz);
+addMsn(id, g_msn3, g_txt_Festnetz);
+addMsn(id, g_msn4, g_txt_Festnetz);
+addMsn(id, g_msn5, g_txt_Festnetz);
+addMsn(id, g_msn6, g_txt_Festnetz);
+addMsn(id, g_msn7, g_txt_Festnetz);
+addMsn(id, g_msn8, g_txt_Festnetz);
+addMsn(id, g_msn9, g_txt_Festnetz);
+addMsn(id, g_pots, g_txt_Festnetz);
+` ?> 
+// Sip Zugänge anfügen
+<? multiquery sip:settings/sip/list(ID,displayname) '
+if ("$3" != "" && isFrei("$3")) addOption(id, "$3", g_txt_Internet+g_$1);
+' ?>
+// Interne Nummern anfügen
+addMsn(id, g_int1, g_txt_Intern);
+addMsn(id, g_int2, g_txt_Intern);
+addMsn(id, g_int3, g_txt_Intern);
+addMsn(id, g_int4, g_txt_Intern);
+addMsn(id, g_int5, g_txt_Intern);
+addMsn(id, g_int6, g_txt_Intern);
+addMsn(id, g_int7, g_txt_Intern);
+addMsn(id, g_int8, g_txt_Intern);
+addOption(id, "Leer", "");
+jslSetSelection(id, nr=="" ? "Leer":nr);
+}
+function addMsn (id, msn, prefix) {
+if (msn != "" && isFrei(msn)) addOption(id, msn, prefix+msn);
+}
+function addOption (id, val, text) {
+var element;
+element = document.getElementById(id);
+if (element == null) return;
+g_OptsCount++;
+var eintrag = new Option(text, val, false, false);
+element.options[element.length]=eintrag;
+}
+function uiIndexMSN(nr) {
+g_MsnNr = nr;
+return g_Index[Number(nr)];
+}
+</script>
--- /dev/null
+++ usr/www/all/html/de/fon/foneditdect.frm
@@ -0,0 +1,9 @@
+<input type="hidden" name="dect:command/StartSubscription" id="uiPostStartSubscription" disabled>
+<input type="hidden" name="dect:command/Unsubscribe" id="uiPostUnsubscribe" disabled>
+<input type="hidden" name="dect:command/PageHandsets" id="uiPostPageHandsets" disabled>
+<input type="hidden" name="dect:command/DateTime" id="uiPostHandsetsTime" disabled>
+<? repeat [ 0 5 ] `
+<input type="hidden" name="dect:settings/Handset$0/Subscribed" value="<? query dect:settings/Handset$0/Subscribed ?>" id="uiPostSubscribed$0" disabled>
+<input type="hidden" name="dect:settings/Handset$0/Type" value="<? query dect:settings/Handset$0/Type ?>" id="uiPostType$0" disabled>
+<input type="hidden" name="dect:settings/Handset$0/Name" value="<? query dect:settings/Handset$0/Name ?>" id="uiPostDectDeviceName$0" disabled>
+` ?>
--- /dev/null
+++ usr/www/all/html/de/fon/foneditdect.html
@@ -0,0 +1,58 @@
+
+<div id="content">
+<div class="backtitel"><div class="rundrt"><div class="rundlt"><div class="ecklb"><div class="eckrb"><div class="foretitel">
+Schnurlostelefone (DECT)
+</div></div></div></div></div></div>
+<div class="backframe"><div class="ecklm"><div class="eckrm"><div class="rundrb"><div class="rundlb"><div class="foredialog"><div class="ie_b10">
+<ul class="tabs">
+<li><a href="javascript:uiDoDect()">Übersicht</a></li>
+<li><a href="javascript:uiDoListDect()">Interne Nummern</a></li>
+<li><a href="javascript:uiDoSetupDect()">Zuordnung</a></li>
+<li class="tabs_on"><a href="javascript:uiDoCancel()">Anmelden</a></li>
+</ul>
+<div class="backdialog"><div class="ecklm"><div class="eckrm"><div class="ecklb"><div class="eckrb"><div class="foredialog">
+<p class="mb10">Sie können DECT-Telefone an der FRITZ!Box an- und abmelden. Zum Anmelden eines DECT-Telefons müssen Sie die System-PIN (im Lieferzustand: 0000) am Mobilteil eingeben. Weiterhin können Sie die Bezeichnung der Schnurlostelefone (DECT) in der FRITZ!Box ändern.</p>
+<table id="tHandsets" class="tborder">
+<tr>
+<th class="c1">Nummer</th>
+<th class="c2">Name des DECT-Schnurlostelefon</th>
+<th class="c1">Angemeldet</th>
+<th class="c3">Swissvoice/GAP</th>
+<th class="c4"></th>
+<th class="c5"></th>
+</tr>	
+<? repeat [ 0 5 ] '
+<tr id="uiViewHandset$0" style="display:none">
+ <td class="c1"><option value="$0"><script type="text/javascript">document.write($0+1);</script></option></td>
+ <td class="c2"><input type=="text" id="uiViewName$0" size="32" maxlength="30" class="Eingabefeld"></td>
+ <td class="c1"><input type="checkbox" id="uiViewSubscribed$0" disabled></td>
+ <td class="c3"><input type="checkbox" id="uiViewType$0" disabled></td>
+ <td class="c4"></td>
+
+ <td class="c5">
+  <button type="button" id="uiViewDelete$0" onclick="uiDoDelete($0)" title="Abmelden" style="width: 30px">
+  <img src="../html/de/images/loeschen.gif" align="bottom" width="16" height="16" hspace="4">
+  </button>
+ </td>
+</tr>
+' ?>
+<tr id="uiNichts" style="display:none"><td colspan=5 class="ac">Es sind keine Schnurlostelefone (DECT) angemeldet</td></tr>
+</table>
+
+<p class="mt10 ar"><input type="button" value="Schnurlostelefone anmelden" id="uiViewNew" onclick="uiDoNew()" class="Pushbutton" style="width:180px;"></p>		
+</div></div></div></div></div></div>
+<div class="backdialog"><div class="ecklm"><div class="eckrm"><div class="ecklb"><div class="eckrb"><div class="foredialog">
+
+<p class="mb5">Mit Hilfe der Paging-Funktion können Sie Schnurlostelefone (DECT) lokalisieren. Per Knopfdruck können auch Datum und Uhrzeit der DECT-Telefone gesetzt werden.</p>
+<div style="text-align: right;">
+<input type="button" value="Schnurlostelefone pagen" id="uiViewPage" onclick="uiDoPage()" class="Pushbutton" style="width:180px;">
+<input type="button" value="Datum und Uhrzeit setzen" id="uiViewDateTime" onclick="uiDoDateTime()" class="Pushbutton" style="width:180px;">
+<input type="button" value="Telefonbuch senden" id="uiSendBook" onclick="uiDoSendBook()" class="Pushbutton" style="width:180px;">
+</div>
+</div></div></div></div></div></div>
+
+<div class="backdialog" id="uiApplyCancelButtons"><div class="ecklm"><div class="eckrm"><div class="rundrb"><div class="rundlb"><div class="forebuttons">
+<input type="button" onclick="uiDoSave()" value="Übernehmen" class="Pushbutton" id="buttonSave">
+<input type="button" onclick="uiDoCancel()" value="Abbrechen" class="Pushbutton" id="buttonCancel">
+<input type="button" onclick="uiDoHelp()" value="Hilfe" class="Pushbutton" id="buttonHilfe">
+</div></div></div></div></div></div>
--- /dev/null
+++ usr/www/all/html/de/fon/foneditdect.js
@@ -0,0 +1,98 @@
+<!--		../fon/foneditdect.js		-->
+<style type="text/css">
+<!--
+#tHandsets {width: 100%;}
+#tHandsets td {padding: 2px 3px;}
+#tHandsets th {padding: 2px 3px;}
+#tHandsets .c1 {text-align: center}
+#tHandsets .c2 {text-align: left}
+#tHandsets .c3 {text-align: center}
+#tHandsets .c4 {width: 0px;}
+#tHandsets .c5 {width: 30px;}
+.mt10 {margin-top: 10px;}
+.ar {text-align: right;}
+.ac {text-align: center;}
+-->
+</style>
+<script type="text/javascript">
+<? include ../html/de/js/jsl.js ?>
+var g_New = -1;
+function uiDoOnLoad() {
+var bFound = false;
+for (var i=0; i<=8; i++) {
+if (jslGetValue("uiPostSubscribed"+i) == "1") {
+jslCopyValue("uiViewName"+i, "uiPostDectDeviceName"+i );
+jslSetChecked("uiViewSubscribed"+i, jslGetValue("uiPostSubscribed"+i) == "1");
+jslSetChecked("uiViewType"+i, jslGetValue("uiPostType"+i) == "1");
+jslDisplay("uiViewHandset"+i, true); bFound=true;
+} else {
+jslDisable("uiViewDelete"+i)
+if (g_New == -1) g_New = i;
+}
+}
+jslDisplay("uiNichts", !bFound);
+jslSetEnabled("uiViewPage", bFound);
+if (g_New == -1) jslDisable("uiViewNew");
+jslZebrastreifen("tHandsets");
+}
+function uiDoHelp() {
+jslPopHelp("hilfe_fon_editdect");
+}
+function uiDoCancel() {
+jslGoTo("", "");
+}
+function uiDoRefresh() {
+jslGoTo("fon", "foneditdect");
+}
+function uiDoDect() {
+jslGoTo("fon", "dect0");
+}
+function uiDoListDect() {
+jslGoTo("fon", "fonlistdect");
+}
+function uiDoSetupDect() {
+jslGoTo("fon", "fonsetupdect");
+}
+function uiDoDelete(nr) {
+if (!confirm("Wollen Sie das Mobilteil abmelden?")) return;
+jslSetValue("uiPostUnsubscribe", nr);
+jslEnable("uiPostUnsubscribe");
+jslSubmitFormEx("fon", "", "");
+}
+function uiDoNew() {
+alert("Schurlostelefon (DECT) jetzt anmelden, und anschließend dieses Fenster schließen.");
+jslSetValue("uiPostStartSubscription", "0");
+jslEnable("uiPostStartSubscription");
+jslSubmitFormEx("fon", "", "");
+}
+function uiDoSendBook() {
+jslSetValue("uiPostPageMaster", "dect0");
+jslGoTo("fon", "buchsend");
+}
+function uiDoPage () {
+jslSetValue("uiPostPageHandsets", "0");
+jslEnable("uiPostPageHandsets");
+jslSubmitFormEx("fon", "", "");
+alert("Alle angemeldeten Handteile sollten jetzt eine Minute lang klingeln!");
+}
+function uiDoDateTime () {
+jslSetValue("uiPostHandsetsTime", "0");
+jslEnable("uiPostHandsetsTime");
+jslSubmitFormEx("fon", "", "");
+alert("Uhrzeit wurde nur bei allen angemldeten Swiss-Voice comaptiblen Handteilen gesetzt!");
+}
+var g_mldNoName = "Geben Sie bitte eine Bezeichnung an.";
+var g_txt_TkAnlage = "ISDN-Telefonanlage";
+var g_mld_TkAnlageforbidden = "ACHTUNG! ISDN-Telefonanlage ist als Bezeichnug intern in verwendung!";
+function uiDoSave() {
+for (var i=0; i<=8; i++) {
+if (jslGetValue("uiPostSubscribed"+i) == "1") {
+if (jslGetValue("uiViewName"+i) == "") {alert(g_mldNoName); return;}
+if (jslGetValue("uiViewName"+i) == g_txt_TkAnlage) {alert(g_mld_TkAnlageforbidden); return;}
+jslEnable("uiPostDectDeviceName"+i);
+jslCopyValue("uiPostDectDeviceName"+i, "uiViewName"+i);
+}
+}
+jslSubmitFormEx("fon", "", "");
+}
+</script>
--- /dev/null
+++ usr/www/all/html/de/fon/fonlistdect.frm
@@ -0,0 +1,6 @@
+<input type="hidden" name="var:IsdnNr" value="<? echo $var:IsdnNr ?>" id="uiPostIsdnNr">
+<input type="hidden" name="var:parent" value="<? echo $var:parent ?>" id="uiPostParent">
+<? repeat [ 1 8 ] `
+<input type="hidden" name="telcfg:settings/NTHotDialList/Name$0" value="<? query telcfg:settings/NTHotDialList/Name$0 ?>" id="uiPostName$0" disabled>
+<input type="hidden" name="telcfg:settings/NTHotDialList/Number$0" value="<? query telcfg:settings/NTHotDialList/Number$0 ?>" id="uiPostNummer$0" disabled>
+` ?>
--- /dev/null
+++ usr/www/all/html/de/fon/fonlistdect.html
@@ -0,0 +1,44 @@
+<? include ../html/de/fon/fonlistdect.inc ?>
+<div id="content">
+<div class="backtitel"><div class="rundrt"><div class="rundlt"><div class="ecklb"><div class="eckrb"><div class="foretitel">
+Schnurlostelefone (DECT)
+</div></div></div></div></div></div>
+<div class="backframe"><div class="ecklm"><div class="eckrm"><div class="rundrb"><div class="rundlb"><div class="foredialog"><div class="ie_b10">
+<ul class="tabs">
+<li><a href="javascript:uiDoDect()">Übersicht</a></li>
+<li class="tabs_on"><a href="javascript:uiDoCancel()">Interne Nummer</a></li>
+<li><a href="javascript:uiDoSetupDect()">Zuordnung</a></li>
+<li><a href="javascript:uiDoEditDect()">Anmelden</a></li>
+</ul>
+<div class="backdialog"><div class="ecklm"><div class="eckrm"><div class="ecklb"><div class="eckrb"><div class="foredialog">
+<p class="mb10">Für die DECT-Telefone der FRITZ!Box können interne Nummern eingerichtet werden. Die Telefone können so über die Anwahl **<Nummer> von anderen Telefonen an der FRITZ!Box erreicht werden.</p>
+<table id="tDECT" class="tborder">
+<tr>
+<th class="c1">Nummer</th>
+<th class="c2">Bezeichnung</th>
+<th class="c3">Rufnummer des Telefons</th>
+<th class="c4"></th>
+<th class="c5"></th>
+</tr>	
+<? repeat [ 1 8 ] '
+<tr id="uiViewDECT$0" style="display:none">
+<td class="c1">5$0</td>
+<td class="c2"><? query telcfg:settings/NTHotDialList/Name$0 ?></td>
+<td class="c3"><? query telcfg:settings/NTHotDialList/Number$0 ?></td>
+<td class="c4"><button type="button" id="uiViewEdit0" onclick="uiEditDECT($0)" title="Editieren" style="width: 30px">
+<img src="../html/de/images/bearbeiten.gif" align="bottom" width="16" height="16" hspace="4">
+</button></td>
+<td class="c5"><button type="button" id="uiViewDelete0" onclick="uiDeleteDECT($0)" title="Löschen" style="width: 30px">
+<img src="../html/de/images/loeschen.gif" align="bottom" width="16" height="16" hspace="4">
+</button></td>
+</tr>
+' ?>
+<tr id="uiNichts" style="display:none"><td colspan=5 class="ac">Es sind keine internen Nummern eingerichtet</td></tr>
+</table>
+<p class="mt10 ar"><input type="button" value="Neue Nummer" id="uiViewNew" onclick="uiNewDECT()" class="Pushbutton" style="width:180px;"></p>
+</div></div></div></div></div></div>
+<div class="backdialog"><div class="ecklm"><div class="eckrm"><div class="rundrb"><div class="rundlb"><div class="forebuttons">
+<input type="button" onclick="uiDoHelp()" value="Hilfe" class="Pushbutton" id="buttonHilfe">
+</div></div></div></div></div></div>
+</div></div></div></div></div></div></div>
+</div>
--- /dev/null
+++ usr/www/all/html/de/fon/fonlistdect.js
@@ -0,0 +1,69 @@
+<!--		../fon/fonlistdect.js		-->
+<style type="text/css">
+<!--
+#tDECT {width: 100%;}
+#tDECT td {padding: 2px 3px;}
+#tDECT th {padding: 2px 3px;}
+#tDECT .c1 {text-align: center}
+#tDECT .c4, #tDECT .c5 {width: 30px;}
+.mt10 {margin-top: 10px;}
+.ar {text-align: right;}
+.ac {text-align: center;}
+-->
+</style>
+<script type="text/javascript">
+<? include ../html/de/js/jsl.js ?>
+var g_mldDelete	= "Wollen Sie diese Nummer löschen ?";
+var g_New = 0;
+function uiDoOnLoad() {
+var bFound = false;
+for (var i=1; i<=8; i++) {
+if (jslGetValue("uiPostNummer"+i) != "") {
+jslDisplay("uiViewDECT"+i, true); bFound=true;
+} else {
+if (g_New == 0) g_New = i;
+}
+}
+jslDisplay("uiNichts", !bFound);
+if (g_New == 0) jslDisable("uiViewNew");
+jslZebrastreifen("tDECT");
+
+}
+function uiDoHelp() {
+jslPopHelp("hilfe_fon_listdect");
+}
+function uiDoCancel() {
+jslGoTo("", "");
+}
+function uiDoRefresh() {
+jslGoTo("fon", "fonelistdect");
+}
+function uiDoDect() {
+jslGoTo("fon", "dect0");
+}
+function uiDoEditDect() {
+jslGoTo("fon", "foneditdect");
+}
+function uiDoSetupDect() {
+jslGoTo("fon", "fonsetupdect");
+}
+
+function uiEditDECT(nr) {
+jslCopyValue("uiPostParent", "uiPostPageName");
+jslSetValue("uiPostIsdnNr", nr);
+jslSubmitFormEx("fon", "fon1isdn", jslGetValue("uiPostPageName"));
+}
+function uiDeleteDECT(nr) {
+if (!confirm(g_mldDelete)) return;
+jslSetValue("uiPostName"+nr, "");
+jslSetValue("uiPostNummer"+nr, "");
+jslEnable("uiPostName"+nr);
+jslEnable("uiPostNummer"+nr);
+jslSubmitFormEx("fon", "", "");
+}
+function uiNewDECT() {
+jslCopyValue("uiPostParent", "uiPostPageName");
+jslSetValue("uiPostIsdnNr", g_New);
+jslSubmitFormEx("fon", "fon1isdn", jslGetValue("uiPostPageName"));
+}
+</script>
--- /dev/null
+++ usr/www/all/html/de/fon/fonlist.html
@@ -0,0 +1,46 @@
+
+<div id="content">
+<div class="backtitel"><div class="rundrt"><div class="rundlt"><div class="ecklb"><div class="eckrb"><div class="foretitel">
+Schnurlostelefone (DECT)
+</div></div></div></div></div></div>
+<? if eq '$var:usePSTN' 1 `
+<div class="backframe"><div class="ecklm"><div class="eckrm"><div class="rundrb"><div class="rundlb"><div class="foredialog"><div class="ie_b10">
+<ul class="tabs">
+<li class="tabs_on"><a href="javascript:uiDoCancel()">Übersicht</a></li>
+<li><a href="javascript:uiDoMsn()">Festnetzrufnummern</a></li>
+</ul>
+` ?>
+<div class="backdialog"><div class="ecklm"><div class="eckrm"><div class="ecklb"><div class="eckrb"><div class="foredialog">
+<p class="mb10">Hier können Sie einstellen, auf welche Rufnummern die angeschlossenen analogen Telefone reagieren sollen.</p>
+<table id="tFon" class="tborder">
+<tr>
+<th class="c1">Nummer</th>
+<th class="c2">Bezeichnung</th>
+<th class="c3">Rufnummer</th>
+<th class="c4"></th>
+</tr>
+<tr>
+<td class="c1">1</td>
+<td class="c2"><? query telcfg:settings/MSN/Port0/Name ?></td>
+<td class="c3"><script type="text/javascript">document.write(uiNummerDisplay("<? query telcfg:settings/MSN/Port0/MSN0 ?>"));</script></td>
+<td class="c4" style="text-align: right;"><button type="button" id="uiViewEdit0" onclick="uiEditFon(0)" title="Bearbeiten" style="width: 30px">
+<img src="../html/de/images/bearbeiten.gif" align="bottom" width="16" height="16" hspace="4">
+</button></td>
+</tr>
+<tr>
+<td class="c1">2</td>
+<td class="c2"><? query telcfg:settings/MSN/Port1/Name ?></td>
+<td class="c3"><script type="text/javascript">document.write(uiNummerDisplay("<? query telcfg:settings/MSN/Port1/MSN0 ?>"));</script></td>
+<td class="c4" style="text-align: right;"><button type="button" id="uiViewEdit1" onclick="uiEditFon(1)" title="Bearbeiten" style="width: 30px">
+<img src="../html/de/images/bearbeiten.gif" align="bottom" width="16" height="16" hspace="4">
+</button></td>
+</tr>
+</table>
+</div></div></div></div></div></div>
+<div class="backdialog"><div class="ecklm"><div class="eckrm"><div class="rundrb"><div class="rundlb"><div class="forebuttons">
+<input type="button" onclick="uiDoHelp()" value="Hilfe" class="Pushbutton" id="buttonHilfe">
+</div></div></div></div></div></div>
+<? if eq '$var:usePSTN' 1 `
+</div></div></div></div></div></div></div>
+` ?>
+</div>
--- /dev/null
+++ usr/www/all/html/de/fon/fonsetupdect.frm
@@ -0,0 +1,9 @@
+<input type="hidden" name="var:MsnNr" value="<? echo $var:MsnNr ?>" id="uiPostMsnNr">
+<input type="hidden" name="dect:settings/RingOnAllMSNs" value="<? query dect:settings/RingOnAllMSNs ?>" id="uiPostRingOnAllMSNs" disabled>
+<? repeat [ 0 4 ] `
+<input type="hidden" name="dect:settings/MSN$0/MSN" value="<? query dect:settings/MSN$0/MSN ?>" id="uiPostMSN$0" disabled>
+<input type="hidden" name="dect:settings/MSN$0/CLIR" value="<? query dect:settings/MSN$0/CLIR ?>" id="uiPostCLIR$0" disabled>
+<input type="hidden" name="dect:settings/MSN$0/CallWaiting" value="<? query dect:settings/MSN$0/CallWaiting ?>" id="uiPostCallWaiting$0" disabled>
+<input type="hidden" name="dect:settings/MSN$0/BusyOnBusy" value="<? query dect:settings/MSN$0/BusyOnBusy ?>" id="uiPostBusyOnBusy$0" disabled>
+<input type="hidden" name="dect:settings/MSN$0/Handsets" value="<? query dect:settings/MSN$0/Handsets ?>" id="uiPostHandsets$0" disabled>
+` ?>
--- /dev/null
+++ usr/www/all/html/de/fon/fonsetupdect.html
@@ -0,0 +1,54 @@
+
+<div id="content">
+<div class="backtitel"><div class="rundrt"><div class="rundlt"><div class="ecklb"><div class="eckrb"><div class="foretitel">
+Schnurlostelefone (DECT)
+</div></div></div></div></div></div>
+<div class="backframe"><div class="ecklm"><div class="eckrm"><div class="rundrb"><div class="rundlb"><div class="foredialog"><div class="ie_b10">
+<ul class="tabs">
+<li><a href="javascript:uiDoDect()">Übersicht</a></li>
+<li><a href="javascript:uiDoListDect()">Interne Nummern</a></li>
+<li class="tabs_on"><a href="javascript:uiDoCancel()">Zuordnung</a></li>
+<li><a href="javascript:uiDoEditDect()">Anmelden</a></li>
+</ul>
+<div class="backdialog"><div class="ecklm"><div class="eckrm"><div class="ecklb"><div class="eckrb"><div class="foredialog">
+<p class="mb10">Die Schnurlostelefone (DECT) können so eingerichtet werden, dass sie auf alle eingehenden Anrufe reagieren. Durch das Setzen dieser Option gehen alle Rufnummernzuordnungen verloren.</p>
+<p class="mb10"><input type="checkbox" id="uiViewRingOnAllMSNs" onclick="uiRingOnAllMSNs()">&nbsp;<label for="uiViewRingOnAllMSNs">Auf alle Rufnummern reagieren</label></p>
+</div></div></div></div></div></div>
+<div class="backdialog"><div class="ecklm"><div class="eckrm"><div class="ecklb"><div class="eckrb"><div class="foredialog">
+<p class="mb10">Ordnen Sie den bis zu fünf  MSNs Rufnummern und Schnurlostelefone (DECT) zu, die für abgehende Anrufe verwendet werden können.</p>
+<table id="tMSN" class="tborder">
+<tr>
+<th class="c1">MSN</th>
+<th class="c2">Rufnummer</th>
+<th class="c3">Anonym</th>
+<th class="c4">Anklopfen</th>
+<th class="c5">MSN besetzt</th>
+<th class="c6">DECT Zugeordnet</th>
+<th class="c7"></th>
+<th class="c8"></th>
+</tr>	
+<? repeat [ 0 4 ] '
+<tr id="uiViewMSN$0" style="display:none">
+<td class="c1"><option value="$0"><script type="text/javascript">document.write(uiIndexMSN("$0"));</script></option></td>
+<td class="c2"><? query dect:settings/MSN$0/MSN ?></td>
+<td class="c3"><input type="checkbox" id="uiViewCLIR$0" disabled></td>
+<td class="c4"><input type="checkbox" id="uiViewCallWaiting$0" disabled></td>
+<td class="c5"><input type="checkbox" id="uiViewBusyOnBusy$0" disabled></td>
+<td class="c6"><script type="text/javascript">document.write(uiListHandsets("<? query dect:settings/MSN$0/Handsets ?>"));</script></td>
+<td class="c7"><button type="button" id="uiViewEdit$0" onclick="uiEditMSN($0)" title="Zuordnung ändern" style="width: 30px">
+<img src="../html/de/images/bearbeiten.gif" align="bottom" width="16" height="16" hspace="4">
+</button></td>
+<td class="c8"><button type="button" id="uiViewDelete$0" onclick="uiDeleteMSN($0)" title="Zuordnung löschen" style="width: 30px">
+<img src="../html/de/images/loeschen.gif" align="bottom" width="16" height="16" hspace="4">
+</button></td>
+</tr>
+' ?>
+<tr id="uiNichts" style="display:none"><td colspan=5 class="ac">Es sind keine MSNs eingerichtet</td></tr>
+</table>
+<p class="mt10 ar"><input type="button" value="Neue Zuordnung" id="uiViewNew" onclick="uiNewMSN()" class="Pushbutton" style="width:180px;"></p>
+</div></div></div></div></div></div>
+<div class="backdialog"><div class="ecklm"><div class="eckrm"><div class="rundrb"><div class="rundlb"><div class="forebuttons">
+<input type="button" onclick="uiDoHelp()" value="Hilfe" class="Pushbutton" id="buttonHilfe">
+</div></div></div></div></div></div>
+</div></div></div></div></div></div></div>
+</div>
--- /dev/null
+++ usr/www/all/html/de/fon/fonsetupdect.js
@@ -0,0 +1,125 @@
+<!--		../fon/fonsetupdect.js		-->
+<style type="text/css">
+<!--
+#tMSN {width: 100%;}
+#tMSN td {padding: 2px 3px;}
+#tMSN th {padding: 2px 3px;}
+#tMSN .c1 {text-align: center}
+#tMSN .c2 {text-align: left}
+#tMSN .c3 {text-align: center}
+#tMSN .c4 {text-align: center}
+#tMSN .c5 {text-align: center}
+#tMSN .c6 {text-align: left}
+#tMSN .c7, #tMSN .c8 {width: 30px;}
+.mt10 {margin-top: 10px;}
+.ar {text-align: right;}
+.ac {text-align: center;}
+-->
+</style>
+<script type="text/javascript">
+<? include ../html/de/js/jsl.js ?>
+var g_mldDelete	= "Wollen Sie diese Zuordnung löschen ?";
+var g_mldAllOn	= "Wollen Sie alle bestehenden Zuordnungen löschen ?";
+var g_New = -1;
+var g_Index = new Array("A", "B", "C", "D", "E");
+var g_Handsets;
+function uiDoOnLoad() {
+g_Handsets = 0;
+
+<? multiquery dect:settings/Handset/list(Subscribed) `
+<? if eq $2 1 `
+g_Handsets |= (1<<$0);
+` ?>
+` ?>
+
+jslSetChecked("uiViewRingOnAllMSNs", jslGetValue("uiPostRingOnAllMSNs") == "1");
+jslSetEnabled("uiViewNew", jslGetValue("uiPostRingOnAllMSNs") != "1");
+
+var bFound = false;
+for (var i=0; i<5; i++) {
+if (jslGetValue("uiPostMSN"+i) != "") {
+jslSetChecked("uiViewCLIR"+i, jslGetValue("uiPostCLIR"+i) == "1");
+jslSetChecked("uiViewCallWaiting"+i, jslGetValue("uiPostCallWaiting"+i) == "1");
+jslSetChecked("uiViewBusyOnBusy"+i, jslGetValue("uiPostBusyOnBusy"+i) == "1");
+jslDisplay("uiViewMSN"+i, true); bFound=true;
+} else {
+jslDisable("uiViewEdit"+i)
+jslDisable("uiViewDelete"+i)
+if (g_New == -1) g_New = i;
+}
+}
+jslDisplay("uiNichts", !bFound);
+if (g_New == -1) jslDisable("uiViewNew");
+jslZebrastreifen("tMSN");
+}
+function uiDoHelp() {
+jslPopHelp("hilfe_fon_setupdect");
+}
+function uiDoCancel() {
+jslGoTo("", "");
+}
+function uiDoRefresh() {
+jslGoTo("fon", "fonsetupdect");
+}
+function uiDoDect() {
+jslGoTo("fon", "dect0");
+}
+function uiDoListDect() {
+jslGoTo("fon", "fonlistdect");
+}
+function uiDoEditDect() {
+jslGoTo("fon", "foneditdect");
+}
+function uiEditMSN(nr) {
+jslCopyValue("uiPostPageMaster", "uiPostPageName");
+jslSetValue("uiPostMsnNr", nr);
+jslSubmitFormEx("fon", "fon1dect", jslGetValue("uiPostPageName"));
+}
+function uiDeleteMSN(nr) {
+if (!confirm(g_mldDelete)) return;
+jslSetValue("uiPostMSN"+nr, "");
+jslEnable("uiPostMSN"+nr);
+jslSubmitFormEx("fon", "", "");
+}
+function uiNewMSN() {
+jslCopyValue("uiPostPageMaster", "uiPostPageName");
+jslSetValue("uiPostMsnNr", g_New);
+jslSubmitFormEx("fon", "fon1dect", jslGetValue("uiPostPageName"));
+}
+function uiRingOnAllMSNs() {
+var bFound = false;
+if (jslGetChecked("uiViewRingOnAllMSNs")) {
+for (var j=0; j<5; j++) {
+if (jslGetValue("uiPostMSN"+j) != "") bFound=true;
+}
+if (bFound) {
+if (!confirm(g_mldAllOn)) {
+jslSetChecked("uiViewRingOnAllMSNs", false);
+return;
+} 
+for (var i=0; i<5; i++) {
+jslSetValue("uiPostMSN"+i, "");
+jslEnable("uiPostMSN"+i);
+}
+}
+}
+jslSetValue("uiPostRingOnAllMSNs", jslGetChecked("uiViewRingOnAllMSNs") ? "1":"0");
+jslEnable("uiPostRingOnAllMSNs");
+jslSubmitFormEx("fon", "", "");
+}
+function uiIndexMSN(nr) {
+return g_Index[Number(nr)];
+}
+var g_Sequence = new Array("1", ",2", ",3", ",4", ",5", ",6 ");
+function uiListHandsets(bitset) {
+var bitset = (bitset.charCodeAt(0) - 48);
+var bits = Number(bitset);
+var list = "";
+for (var j=0; j<6; j++) {
+//if (bits & g_Handsets & (1<<j) != 0)	list += g_Sequence[j];
+if ((bits & (1<<j)) != 0) {list += g_Sequence[j];
+}else {list += "  ";}
+} 
+return list;
+}
+</script>
--- usr/www/all/html/de/fon_config/fon_config_1.js
+++ usr/www/all/html/de/fon_config/fon_config_1.js
@@ -27,6 +27,7 @@
 var g_txtIPPhone = "{?9084:8537?}";
 var g_txtIPPhoneOnly = "{?gIPhone?}";
 var g_txt_Device_AB = "{?gAB?}";
+var g_txtDect = "Schnurlostelefon (DECT) ";
 var g_txt_Device_Fax = "{?9084:4905?}";
 var g_txt_Device_Fon = "{?9084:8935?} ";
 var g_mldNoPort = "{?9084:8633?}";
--- /dev/null
+++ usr/www/all/html/de/fon_config/fon_config_Dect_1.frm
@@ -0,0 +1,8 @@
+<? include ../html/de/fon_config/fon_config.frm ?>
+<? repeat [ 0 5 ] `
+<input type="hidden" name="dect:settings/Handset$0/Subscribed" value="<? query dect:settings/Handset$0/Subscribed ?>" id="uiPostHandset$0Subscribe" disabled>
+<input type="hidden" name="dect:settings/Handset$0/Type" value="<? query dect:settings/Handset$0/Type ?>" id="uiPostHandset$0Type" disabled>
+<input type="hidden" name="dect:settings/Handset$0/Name" value="<? query dect:settings/Handset$0/Name ?>" id="uiPostHandset$0Notation" disabled>
+` ?>
+<input type="hidden" name="telcfg:settings/DialPort" value="<? query telcfg:settings/DialPort ?>" id="uiPostDialPort" disabled>
+<input type="hidden" name="telcfg:command/Dial" value="" id="uiPostDial" disabled>
--- /dev/null
+++ usr/www/all/html/de/fon_config/fon_config_Dect_1.html
@@ -0,0 +1,29 @@
+<div id="content">
+<div class="backtitelkonfig"><div class="rundrt"><div class="rundlt"><div class="ecklb"><div class="eckrb"><div class="foretitel">
+<? echo $var:Txt1 ?>
+</div></div></div></div></div></div>
+<div class="backdialog" id="uiView_FonConfig"><div class="ecklm"><div class="eckrm"><div class="ecklb"><div class="eckrb"><div class="foredialog">
+<p class="mb5"><? echo $var:Txt2 ?></p>
+<p class="mb10"><? echo $var:Txt3 ?></p>
+<p class="ml5 mb10 fett">
+<? echo $var:Txt14 ?>
+</p>
+<table class="ml20" id="uiShowTableHeader" style="display:none;">
+<colgroup>
+<col width="30px">
+<col >
+<col >
+</colgroup>
+<tr class="fett"><td>&nbsp;</td><td style="padding-left:10px;"><? echo $var:Txt4 ?></td><td style="padding-left:30px;"><? echo $var:Txt5 ?></td></tr>
+<? multiquery dect:settings/Handset/list(Subscribed,Type,Name) `
+<script type="text/javascript">document.write(TrDectDevice( "DeviceFonExt$0", $0, "$2", "$3","$4"));</script>
+` ?>
+</table>
+<p class="acx" id="uiShowNoDectText" style="display:none"><? echo $var:Txt6 ?></p>
+<p class="mt10 mb5" id="uiShowNoRegister" style="display:none"><? echo $var:Txt12 ?></p>
+<div style="text-align:right; style="display:none"; class="mt10">
+<input type="button" onclick="uiDoSelectNewDevice((0))" value="<? echo $var:Txt9 ?>" class="Pushbutton" id="uiShowRadioBtnNewRegister" style="width:230px;">
+</div>
+</div></div></div></div></div></div>
+<? include ../html/de/fon_config/rbb_backokcancel.html ?>
+</div>
--- /dev/null
+++ usr/www/all/html/de/fon_config/fon_config_Dect_1.inc
@@ -0,0 +1,13 @@
+<? include ../html/de/global.inc ?>
+<? setvariable var:Txt1 "Schnurlostelefon (DECT) einrichten" ?>
+<? setvariable var:Txt2 "Um ein Schnurlostelefon einrichten zu können, muss es an der DECT-Basisstation angemeldet sein." ?>
+<? setvariable var:Txt3 "Die nachfolgende Liste zeigt alle an der DECT-Basisstation der FRITZ!Box angemeldeten Schnurlostelefone an. Wählen Sie durch Anklicken das Schnurlostelefon aus, welches Sie einrichten möchten.  Achtung! Alle bereits vorgenommenen Einstellungen gehen verloren und das DECT reagiert nacher auf alle Rufnummern! Zuordnungen von MSNs nacher vornehmen!" ?>
+<? setvariable var:Txt4 "ID" ?>
+<? setvariable var:Txt6 "Kein Schnurlostelefon an der DECT-Basisstation angemeldet." ?>
+<? setvariable var:Txt7 'Wählen Sie durch Klicken auf "Einrichten" aus der Liste das Geräte aus, welches Sie einrichten möchten.' ?>
+<? setvariable var:Txt8 " " ?>
+<? setvariable var:Txt9 "Neues Schnurlostelefon anmelden" ?>
+<? setvariable var:Txt11 'Falls das Gerät, das Sie einrichten möchten, noch nicht in der Liste der angemeldeten Schnurlostelefone steht, klicken Sie auf ' ?>
+<? setvariable var:Txt12 "Die maximale Anzahl von angemeldeten Schnurlostelefonen ist erreicht. Es können keine weiteren Geräte angemeldet werden." ?>
+<? setvariable var:Txt14 "angemeldete Schnurlostelefone" ?>
+<? setvariable var:Txt5 "Typ" ?>
--- /dev/null
+++ usr/www/all/html/de/fon_config/fon_config_Dect_1.js
@@ -0,0 +1,155 @@
+<!-- ../fon_config/fc_fon_1.js -->
+<? include ../html/de/fon_config/fon_config_Dect_1.inc ?>
+<style type="text/css">
+<!--
+#content {width: 540px; margin: auto;}
+ol {
+list-style-type: decimal;
+margin: 0px 10px 0px 30px;
+padding: 0px;
+}
+.mt10 {margin-top: 10px;}
+.pCheck50 {text-indent: -20px; padding-left: 50px;}
+.left_35 {text-align: right; margin-top: 10px;}
+.acx {text-align: center; background-color:#FFFFFF; border: 1px solid #C6C7BE; }
+.acx2 {font-size: 12px; text-align: left; text-indent: 52px; font-weight: bold; background-color:#FFFFFF; border: 2px solid #FFFFFF; }
+-->
+</style>
+<script type="text/javascript">
+<? include ../html/de/js/jsl.js ?>
+var g_txtBtnToDo = "Einrichten";
+var g_txtIsDectID1 = "Schnurlostelefon (DECT) mit ";
+var g_txtIsDectID2 = "ID ";
+var g_txtSwissVoice = "AVM-kompatibel";
+var g_txtGAPDevice = "GAP-Standard";
+var g_txtMld_NoDeviceSelected = "Es wurde keine Auswahl getroffen!\x0d\x0a\x0d\x0aWählen Sie bitte ein Schnurlostelefon (DECT) oder \"Neues Schnurlostelefon (DECT) anmelden\" aus !";
+var g_txtMld_NoDeviceSelected2 = "Es wurde keine Auswahl getroffen!\x0d\x0a\x0d\x0aWählen Sie bitte ein Schnurlostelefon (DECT) aus !";
+var g_nDectDeviceCount = 0;
+var g_nCurrentSelectID = -1;
+var g_nCurrentSelectDectUserID = -1;
+function uiDoOnLoad() {
+document.title = "<? print `$var:BoxName` ?>" + " " + "<? print `$var:Txt1` ?>";
+jslDisplay( "uiShowNoDectText", (g_nDectDeviceCount == 0));
+jslDisplay( "uiShowTableHeader", (g_nDectDeviceCount > 0));
+if ( g_nDectDeviceCount == 6) {
+jslDisplay( "uiShowNoRegister", true);
+//jslDisplay( "uiShowRadioBtnNewRegister", true);
+//jslDisable( "uiViewRadioBtnNewRegister");
+} else {
+if ((jslGetValue( "uiDectDeviceCount") == "") ||
+(g_nDectDeviceCount == parseInt(jslGetValue( "uiDectDeviceCount")))) {
+//jslDisplay( "uiShowNormalRegister", true);
+//jslDisplay( "uiShowRadioBtnNewRegister", true);
+//jslSetChecked("uiViewRadioBtnNewRegister", 1);
+//uiDoSelectDevice(0);
+}
+}
+if ( jslGetValue( "uiDectID") != "") {
+var nID = parseInt( jslGetValue( "uiDectID"))+1;
+uiDoSelectDevice( nID);
+jslSetChecked( "uiViewRadioBtn"+(nID-1), true);
+}
+jslSetEnabled("uiBtnOK", (g_nCurrentSelectID != -1));
+}
+function uiDoBack() {
+jslGoTo("fon_config", "fon_config_1");
+}
+function uiDoOk() {
+if ( g_nCurrentSelectID == (-1)) {
+if ((jslGetValue( "uiDectDeviceCount") == "") ||
+(g_nDectDeviceCount == parseInt(jslGetValue( "uiDectDeviceCount")))) {
+alert( g_txtMld_NoDeviceSelected);
+} else {
+alert( g_txtMld_NoDeviceSelected2);
+}
+} else if ( g_nCurrentSelectID == 0) {
+jslSetValue( "uiDectDeviceCount", g_nDectDeviceCount);
+jslGoTo("fon_config", "fon_config_Dect_register_1")
+} else {
+jslSetValue( "uiDectID", g_nCurrentSelectID-1);
+jslSetValue( "uiDectUserID", g_nCurrentSelectDectUserID);
+jslSetValue("uiPostDial", "**50");
+jslSetValue("uiPostDialPort", "50");
+jslEnable("uiPostDial");
+jslEnable("uiPostDialPort");
+jslFormSubmitEx("fon_config", "fon_config_Dect_test");
+//jslFormSubmitEx("fon_config", "fon_config_Dect_2");
+}
+}
+function uiDoSelectNewDevice( idValue)
+{
+uiDoSelectDevice(0);
+uiDoOk();
+}
+function uiDoSelectDevice( idValue) {
+g_nCurrentSelectID = idValue;
+jslSetEnabled("uiBtnOK", (g_nCurrentSelectID != -1));
+}
+function uiDoCancel() {
+if (!AskAssiCancel()) return;
+var FonAssiFromPageValue=jslGetValue("uiFonAssiFromPage");
+if (FonAssiFromPageValue== "decthandset"){
+jslSubmitFormEx("dect", "handset","handset");
+return;
+}else if(FonAssiFromPageValue== "dectsettings"){
+jslSubmitFormEx("dect", "setting","setting");
+return;
+}else if(FonAssiFromPageValue== "fonstartmenu"){
+jslGoTo("home", "fondevices");
+return;
+}else if(FonAssiFromPageValue== "fonerweitert"){
+jslGoTo("fon", "fondevices");
+return;
+}
+if ( jslGetValue("uiPostPageMaster") == "home") {
+jslGoTo("konfig", jslGetValue("uiPostPageMaster"));
+} else {
+jslGoTo("fon", jslGetValue("uiPostPageMaster"));
+}
+}
+function TrDectDevice( id, dectID, isSubscribed, isType, deviceName) {
+if ( isSubscribed == "0") return "";
+g_nDectDeviceCount++;
+var str = "<tr><td id=\"ui"+id+"\">";
+str += "<input type=\"radio\" name=\"Device\" id=\"uiViewRadioBtn" + dectID + "\" onClick=\"uiDoSelectDevice( " + (dectID+1) + ")\"></td>";
+str += "<td style=\"padding-left:10px;\"><label for=\"uiViewRadioBtn" + dectID +"\">"+g_txtIsDectID1+"<b>"+g_txtIsDectID2+(dectID+1)+"</b></label></td>";
+str += "<td style=\"padding-left:30px;\">";
+if ( isType == "1") {
+str += "<b>" + g_txtSwissVoice + "</b>";
+} else {
+str += g_txtGAPDevice;
+}
+str += "</td></tr>";
+return str;
+}
+function ToDoBtn(id, click) {
+return IconBtn(id, click, g_txtBtnToDo, ""); //"../html/de/images/loeschen.gif");
+}
+function IconBtn(id, click, value, pic) {
+if ( pic == "") {
+return "<button type=\"button\" id=\""+id+"\" onclick=\""+click+"\" value=\""+value+"\" title=\""+value+"\" style=\"width:80px\">" + value + "</button>";
+} else {
+return "<button type=\"button\" id=\""+id+"\" onclick=\""+click+"\" value=\""+value+"\" title=\""+value+"\" style=\"width:30px\"><img src=\""+pic+"\" align=\"bottom\" width=\"16\" height=\"16\" hspace=\"4\"></button>";
+}
+}
+function FonControlUserEntry ( UserNId, FonControlUserId, UserName) {
+this.nUserNId = UserNId;
+this.nFonControlUserId = FonControlUserId;
+this.szUserName = UserName;
+}
+var g_FonControlUserInfoList= new Array();
+var g_FonControlUserInfoListCnt=0;
+function AddFonControlUserToUserList(UserNId,FonControlUserId,UserName)
+{
+g_FonControlUserInfoList[UserNId]= new FonControlUserEntry( UserNId,FonControlUserId,UserName);
+g_FonControlUserInfoListCnt++;
+}
+function GetFonControlUserEntry(FonControlUserId)
+{
+for ( var j=0; j<g_FonControlUserInfoListCnt; j++) {
+if(g_FonControlUserInfoList[j].nFonControlUserId==FonControlUserId)
+return g_FonControlUserInfoList[j];
+}
+return null;
+}
+</script>
--- /dev/null
+++ usr/www/all/html/de/fon_config/fon_config_Dect_2.frm
@@ -0,0 +1,24 @@
+<? include ../html/de/fon_config/fon_config.frm ?>
+<input type="hidden" name="dect:settings/MSN0/MSN" value="<? query dect:settings/MSN0/MSN ?>" id="uiPostDectMsn0" disabled>
+<input type="hidden" name="dect:settings/MSN1/MSN" value="<? query dect:settings/MSN1/MSN ?>" id="uiPostDectMsn1" disabled>
+<input type="hidden" name="dect:settings/MSN2/MSN" value="<? query dect:settings/MSN2/MSN ?>" id="uiPostDectMsn2" disabled>
+<input type="hidden" name="dect:settings/MSN3/MSN" value="<? query dect:settings/MSN3/MSN ?>" id="uiPostDectMsn3" disabled>
+<input type="hidden" name="dect:settings/MSN4/MSN" value="<? query dect:settings/MSN4/MSN ?>" id="uiPostDectMsn4" disabled>
+<? if eq '$var:usePSTN' 1 `
+<input type="hidden" name="telcfg:settings/MSN/MSN0" value="<? query telcfg:settings/MSN/MSN0 ?>" id="uiMsn0" disabled>
+<input type="hidden" name="telcfg:settings/MSN/MSN1" value="<? query telcfg:settings/MSN/MSN1 ?>" id="uiMsn1" disabled>
+<input type="hidden" name="telcfg:settings/MSN/MSN2" value="<? query telcfg:settings/MSN/MSN2 ?>" id="uiMsn2" disabled>
+<input type="hidden" name="telcfg:settings/MSN/MSN3" value="<? query telcfg:settings/MSN/MSN3 ?>" id="uiMsn3" disabled>
+<input type="hidden" name="telcfg:settings/MSN/MSN4" value="<? query telcfg:settings/MSN/MSN4 ?>" id="uiMsn4" disabled>
+<input type="hidden" name="telcfg:settings/MSN/MSN5" value="<? query telcfg:settings/MSN/MSN5 ?>" id="uiMsn5" disabled>
+<input type="hidden" name="telcfg:settings/MSN/MSN6" value="<? query telcfg:settings/MSN/MSN6 ?>" id="uiMsn6" disabled>
+<input type="hidden" name="telcfg:settings/MSN/MSN7" value="<? query telcfg:settings/MSN/MSN7 ?>" id="uiMsn7" disabled>
+<input type="hidden" name="telcfg:settings/MSN/MSN8" value="<? query telcfg:settings/MSN/MSN8 ?>" id="uiMsn8" disabled>
+<input type="hidden" name="telcfg:settings/MSN/MSN9" value="<? query telcfg:settings/MSN/MSN9 ?>" id="uiMsn9" disabled>
+<input type="hidden" name="telcfg:settings/MSN/POTS" value="<? query telcfg:settings/MSN/POTS ?>" id="uiPots" disabled>
+<input type="hidden" name="telcfg:settings/MSN/NTDefault" value="<? query telcfg:settings/MSN/NTDefault ?>" id="uiPostNTDefault" disabled>
+` ?>
+<? multiquery sip:settings/sip/list(displayname,ID) '
+<input type="hidden" name="sip:settings/$1/displayname" value="$2" id="ui$1" disabled>
+<input type="hidden" name="sip:settings/$1/ID" value="$3" id="ui$1ID" disabled>
+' ?>
--- /dev/null
+++ usr/www/all/html/de/fon_config/fon_config_Dect_2.html
@@ -0,0 +1,29 @@
+<div id="content">
+<div class="backtitelkonfig"><div class="rundrt"><div class="rundlt"><div class="ecklb"><div class="eckrb"><div class="foretitel">
+<? echo $var:Txt1 ?>
+</div></div></div></div></div></div>
+<div class="backdialog"><div class="ecklm"><div class="eckrm"><div class="ecklb"><div class="eckrb"><div class="foredialog">
+<p class="mb10" style="display: none" id="uiViewOnlyOneNetType"><? echo '$var:Txt7' ?></p>
+<ol style="display: none" id="uiViewBothNetType">
+<li class="mb10">
+<p class="mb5"><? echo '$var:Txt2' ?></p>
+<p class="mb5">
+<input type="radio" name="ConnectType" id="uiViewType_Internet" onclick="OnNetwork(0)">
+&nbsp;<label id="uiLabelType_Internet" for="uiViewType_Internet"><? echo '$var:Txt3' ?><b><? echo '$var:Txt4' ?></b><? echo '$var:Txt6' ?></label>
+</p>
+<p class="mb5">
+<input type="radio" name="ConnectType" id="uiViewType_Festnetz" onclick="OnNetwork(1)">
+&nbsp;<label id="uiLabelType_Festnetz" for="uiViewType_Festnetz"><? echo '$var:Txt3' ?><b><? echo '$var:Txt5' ?></b><? echo '$var:Txt6' ?></label>
+</p>
+</li>
+<li class="mb5">
+<p><? echo '$var:Txt7' ?></p>
+</li>
+</ol>
+<p class="ml30">
+<select id="uiViewInternetNo" class="Eingabefeld" style="width:200px; display: none"></select>
+<select id="uiViewFestnetzNo" class="Eingabefeld" style="width:200px; display: none"></select>
+</p>
+</div></div></div></div></div></div>
+<? include ../html/de/fon_config/rbb_backokcancel.html ?>
+</div>
--- /dev/null
+++ usr/www/all/html/de/fon_config/fon_config_Dect_2.inc
@@ -0,0 +1,10 @@
+<? include ../html/de/global.inc ?>
+<? setvariable var:Txt1 "Schnurlostelefon (DECT) für ausgehende Gespräche einrichten" ?>
+<? if eq '$var:usePSTN' 1 `
+<? setvariable var:Txt2 "Legen Sie fest, ob ausgehende Gespräche von diesem Telefon über das Internet oder das Festnetz geführt werden sollen." ?>
+` ?>
+<? setvariable var:Txt3 "ausgehende Gespräche über das " ?>
+<? setvariable var:Txt4 "Internet" ?>
+<? setvariable var:Txt5 "Festnetz" ?>
+<? setvariable var:Txt6 " führen" ?>
+<? setvariable var:Txt7 "Wählen Sie aus, über welche Rufnummer die Gespräche geführt werden sollen." ?>
--- /dev/null
+++ usr/www/all/html/de/fon_config/fon_config_Dect_2.js
@@ -0,0 +1,271 @@
+<!-- ../fon_config/fon_config_Dect_2.js -->
+<? include ../html/de/fon_config/fon_config_Dect_2.inc ?>
+<style type="text/css">
+<!--
+ol {
+list-style-type: decimal;
+margin: 0px 10px 0px 30px;
+padding: 0px;
+}
+.ml30 { margin-left: 30px; }
+.pCheck25 {text-indent: -25px; padding-left: 35px;}
+.pFett {font-weight: bold; margin-bottom: 10px;}
+#tDectMsns {margin-left: 40px; width: 400px; table-layout: fixed;}
+#tDectMsns td {padding: 1px 3px; overflow: hidden;}
+.c1 {text-align: left; width: 75px;}
+.c2 {text-align: left; width: 25px;}
+.c3 {text-align: left; width: 250px;}
+.c4 {text-align: left; width: 275px;}
+.ac {text-align: center;}
+-->
+</style>
+<script type="text/javascript">
+<? include ../html/de/js/val.js ?>
+<? include ../html/de/js/jsl.js ?>
+var g_txt_Network_Internet = "Internet";
+var g_txt_Network_Festnetz = "Festnetz";
+var g_txt_Internet = "Internet";
+var g_txt_Festnetz = "Festnetz";
+var g_txt_OutgoingingNo = "(Rufnummer für ausgehende Gespräche)";
+var g_txt_ToMuchMsns = "Es können nur insgesamt maximal 5 Rufnummern für Schnurlostelefone (DECT) zusammen eingerichtet werden. !\x0d\x0aDieser Wert ist errreicht!\x0d\x0a\x0d\x0aWenn Sie eine weitere Rufnummer auswählen wollen, müssen Sie zuvor eine andere löschen oder die Einrichtung abrechen und die Konfiguration der bereits eingerichteten Geräte abändern.";
+var g_SelectMsnCount = 0;
+var g_arSelectableMsns = new Array();
+var g_arDectMsns = new Array();
+function uiDoOnLoad() {
+document.title = "<? print `$var:BoxName` ?>" + " " + "<? print `$var:Txt1` ?>";
+var msnIndex = 0;
+<? multiquery sip:settings/sip/list(displayname,ID) `
+if (valIsZahlVorhanden("$2")) {
+g_arSelectableMsns[msnIndex] = new MsnEntry( msnIndex, "$0", "SIP$3", "$2", g_txt_Internet, IsAlreadyDectMsn( "$2"));
+msnIndex++;
+}
+` ?>
+<? if eq '$var:usePSTN' 1 `
+for (var i=0; i<10; i++) {
+if (jslGetValue("uiPostMsn"+i) != "") {
+g_arSelectableMsns[msnIndex] = new MsnEntry( msnIndex, i, jslGetValue("uiPostMsn"+i), jslGetValue("uiPostMsn"+i), g_txt_Festnetz, IsAlreadyDectMsn( jslGetValue("uiPostMsn"+i)));
+msnIndex++;
+}
+}
+if (jslGetValue("uiPostPots") != "") {
+g_arSelectableMsns[msnIndex] = new MsnEntry( msnIndex, i, jslGetValue("uiPostPots"), jslGetValue("uiPostPots"), g_txt_Festnetz, IsAlreadyDectMsn( jslGetValue("uiPostPots")));
+msnIndex++;
+}
+` ?>
+for ( var j=0; j<5; j++) {
+g_arDectMsns[j] = new DectEntry( false,jslGetValue( "uiPostDectMsn"+j),GetNetworkType(jslGetValue( "uiPostDectMsn"+j)),false);
+if ( jslGetValue( "uiPostDectMsn"+j) != "") {
+jslSetSpanText( "uiNameMsn"+j+"Checked", GetMsnName(j));
+jslSetSpanText( "uiNetworkMsn"+j+"Checked", GetNetworkType(jslGetValue( "uiPostDectMsn"+j))+ ": "+ jslGetValue( "uiPostDectMsn"+j));
+if ((jslGetValue("uiDeviceAllInCalls") != "" ) && ( IsConfiguredDectMsn(jslGetValue( "uiPostDectMsn"+j)) == true)) {
+jslSetChecked("uiView_CheckMsn"+j,true)
+g_arDectMsns[j].checked = true;
+}
+jslDisplay( "uiMsn"+j+"Checked", true);
+g_arDectMsns[j].checkBox = true;
+} else {
+jslSetSpanText( "uiNameMsn"+j+"Selection", GetMsnName(j));
+jslDisplay( "uiMsn"+j+"Selection", true);
+FillSelection("uiView_Selection"+j, "")
+g_arDectMsns[j].value = "Leer";
+}
+}
+if ( jslGetValue("uiDeviceAllInCalls") != "" ) {
+for ( var k=0;k<g_arDectMsns.length;k++) {
+if (g_arDectMsns[k].checkBox == false) {
+nValue = GetConfiguredDectMsn();
+if ( nValue != "") {
+OnChangeSelection( k,nValue);
+}
+}
+}
+}
+}
+function uiDoOk() {
+var strShowInCallNo = "";
+var saveMsnCount = 0;
+for (var i=0; i<g_arDectMsns.length; i++) {
+if ( g_arDectMsns[i].checkBox == true) {
+if (( g_arDectMsns[i].checked == true) && ( jslGetValue("uiDeviceOutgoingNo") != g_arDectMsns[i].value)) {
+jslSetValue( "uiDeviceMsn" + saveMsnCount, g_arDectMsns[i].value);
+strShowInCallNo += GetDectArrayValue(g_arDectMsns[i])+";"+GetDectArrayNetType(g_arDectMsns[i])+";";
+saveMsnCount +=1;
+}
+} else {
+if (jslGetValue( "uiView_Selection"+i) != "Leer"){
+jslSetValue( "uiDeviceMsn" + saveMsnCount, jslGetValue( "uiView_Selection"+i));
+strShowInCallNo += GetDisplayNumber(jslGetValue( "uiView_Selection"+i))+";"+GetNetworkType(jslGetValue( "uiView_Selection"+i))+";";
+saveMsnCount +=1;
+}
+}
+}
+jslSetValue( "uiDeviceAllInCalls", "0");
+jslSetValue( "uiShowCallInNo", strShowInCallNo);
+// jslSetValue( "uiDectDeviceCount", g_arDectMsns.length);
+jslGoTo("fon_config", "fon_config_Dect_3");
+}
+function OnChangeCheckMsn(nIdx) {
+g_arDectMsns[nIdx].checked = jslGetChecked("uiView_CheckMsn" +nIdx);
+}
+function OnChangeSelection(nId, nValue) {
+var oldValue = GetDectArrayValue(g_arDectMsns[nId]);
+var oldNo = GetDisplayNumber( oldValue);
+var oldNetType = GetNetworkType( oldValue);
+for ( var i=0;i<g_arDectMsns.length;i++) {
+if ((g_arDectMsns[i].checkBox == false) && ( i != nId)){
+if ( nValue == "Leer") {
+addOption("uiView_Selection"+i,oldValue,(oldNetType+": "+oldNo));
+} else {
+ReorganizeSelections( i, nValue, oldValue, (oldNetType+": "+oldNo));
+}
+}
+}
+g_arDectMsns[nId].value = nValue;
+for ( var j=0;j<g_arDectMsns.length;j++) {
+if (g_arDectMsns[j].checkBox == false) {
+jslSetSelection("uiView_Selection"+j,GetDectArrayValue(g_arDectMsns[j]))
+}
+}
+}
+function ReorganizeSelections (nIdx, newValue, oldValue, oldText) {
+var selObj = document.getElementById("uiView_Selection"+nIdx)
+for ( var j=0; j<selObj.length;j++) {
+if ( selObj.options[j].value == newValue) {
+if ( oldValue == "Leer") {
+selObj.options[j] = null;
+} else {
+selObj.options[j].value = oldValue;
+selObj.options[j].text = oldText;
+}
+break;
+}
+}
+}
+function GetMsnName(nIdx) {
+var strRetCode ="";
+switch (nIdx) {
+case 0 : strRetCode ="Msn A ";break;
+case 1 : strRetCode ="Msn B ";break;
+case 2 : strRetCode ="Msn C ";break;
+case 3 : strRetCode ="Msn D ";break;
+case 4 : strRetCode ="Msn E ";break;
+}
+return strRetCode;
+}
+function FillSelection(id, nr) {
+addOption(id, "Leer", "");
+for ( var i=0;i<g_arSelectableMsns.length;i++) {
+if (GetMsnArrayIsDectMsn(g_arSelectableMsns[i]) == false) {
+addOption( id, GetMsnArrayValue(g_arSelectableMsns[i]), (GetMsnArrayNetType(g_arSelectableMsns[i])+": "+GetMsnArrayNo(g_arSelectableMsns[i])));
+}
+}
+jslSetSelection(id, nr=="" ? "Leer":nr);
+}
+function addOption (id, val, text) {
+var element;
+element = document.getElementById(id);
+if (element == null) return;
+var eintrag = new Option(text, val, false, false);
+element.options[element.length]=eintrag;
+}
+function GetDisplayNumber( wert) {
+if ( wert == "Leer") return "";
+for ( var i=0;i<g_arSelectableMsns.length;i++) {
+if ( GetMsnArrayValue(g_arSelectableMsns[i]) == wert) {
+return GetMsnArrayNo(g_arSelectableMsns[i]);
+}
+}
+return ""
+}
+function GetNetworkType( wert) {
+if ( wert == "Leer") return "";
+for ( var i=0;i<g_arSelectableMsns.length;i++) {
+if ( GetMsnArrayValue(g_arSelectableMsns[i]) == wert) {
+return GetMsnArrayNetType(g_arSelectableMsns[i]);
+}
+}
+return ""
+}
+function IsAlreadyDectMsn ( wert) {
+for ( var i=0;i<5;i++) {
+if ( jslGetValue( "uiPostDectMsn"+i) == wert) return true;
+}
+return false;
+}
+function IsConfiguredDectMsn ( wert) {
+for ( var i=0;i<5;i++) {
+if ( jslGetValue( "uiDeviceMsn"+i) == wert) {
+jslSetValue("uiDeviceMsn"+i, "");
+return true;
+}
+}
+return false;
+}
+function GetConfiguredDectMsn() {
+for ( var i=0;i<5;i++) {
+var wert = jslGetValue( "uiDeviceMsn"+i);
+if ( wert != "") {
+jslSetValue("uiDeviceMsn"+i, "");
+return wert;
+}
+}
+return "";
+}
+function MsnEntry ( nIdx, nId, valueNo, showNo, sNetType, bIsDectMsn) {
+this.idx = nIdx;
+this.id = nId;
+this.value = valueNo;
+this.no = showNo;
+this.netType = sNetType;
+this.dectMsn = bIsDectMsn;
+}
+function GetMsnArrayValue(arObject) {
+return arObject.value;
+}
+function GetMsnArrayNo(arObject) {
+return arObject.no;
+}
+function GetMsnArrayNetType(arObject) {
+return arObject.netType;
+}
+function GetMsnArrayIsDectMsn(arObject) {
+return arObject.dectMsn;
+}
+function DectEntry ( isChecked, valueNo, sNetType, isCheckBox) {
+this.value = valueNo;
+this.checked = isChecked;
+this.netType = sNetType;
+this.checkBox = isCheckBox;
+}
+function GetDectArrayValue(arObject) {
+return arObject.value;
+}
+function GetDectArrayNetType(arObject) {
+return arObject.netType;
+}
+function uiDoBack() {
+jslGoTo("fon_config", "fon_config_Dect_name");
+}
+function uiDoCancel() {
+if (!AskAssiCancel()) return;
+var FonAssiFromPageValue=jslGetValue("uiFonAssiFromPage");
+if (FonAssiFromPageValue== "decthandset"){
+jslSubmitFormEx("dect", "handset","handset");
+return;
+}else if(FonAssiFromPageValue== "dectsettings"){
+jslSubmitFormEx("dect", "setting","setting");
+return;
+}else if(FonAssiFromPageValue== "fonstartmenu"){
+jslGoTo("home", "fondevices");
+return;
+}else if(FonAssiFromPageValue== "fonerweitert"){
+jslGoTo("fon", "fondevices");
+return;
+}
+if ( jslGetValue("uiPostPageMaster") == "home") {
+jslGoTo("konfig", jslGetValue("uiPostPageMaster"));
+} else {
+jslGoTo("fon", jslGetValue("uiPostPageMaster"));
+}
+}
+</script>
--- /dev/null
+++ usr/www/all/html/de/fon_config/fon_config_Dect_3.frm
@@ -0,0 +1,25 @@
+<? include ../html/de/fon_config/fon_config.frm ?>
+<input type="hidden" name="telcfg:settings/MSN/POTS" value="<? query telcfg:settings/MSN/POTS ?>" id="uiPostPots">
+<input type="hidden" name="telcfg:settings/MSN/NTDefault" value="<? query telcfg:settings/MSN/NTDefault ?>" id="uiPostNTDefault">
+<input type="hidden" name="dect:settings/MSN0/MSN" value="<? query dect:settings/MSN0/MSN ?>" id="uiPostDectMsn0" disabled>
+<input type="hidden" name="dect:settings/MSN1/MSN" value="<? query dect:settings/MSN1/MSN ?>" id="uiPostDectMsn1" disabled>
+<input type="hidden" name="dect:settings/MSN2/MSN" value="<? query dect:settings/MSN2/MSN ?>" id="uiPostDectMsn2" disabled>
+<input type="hidden" name="dect:settings/MSN3/MSN" value="<? query dect:settings/MSN3/MSN ?>" id="uiPostDectMsn3" disabled>
+<input type="hidden" name="dect:settings/MSN4/MSN" value="<? query dect:settings/MSN4/MSN ?>" id="uiPostDectMsn4" disabled>
+<? if eq '$var:usePSTN' 1 `
+<input type="hidden" name="telcfg:settings/MSN/POTS" value="<? query telcfg:settings/MSN/POTS ?>" id="uiPostPots" disabled>
+<input type="hidden" name="telcfg:settings/MSN/MSN0" value="<? query telcfg:settings/MSN/MSN0 ?>" id="uiPostMsn0" disabled>
+<input type="hidden" name="telcfg:settings/MSN/MSN1" value="<? query telcfg:settings/MSN/MSN1 ?>" id="uiPostMsn1" disabled>
+<input type="hidden" name="telcfg:settings/MSN/MSN2" value="<? query telcfg:settings/MSN/MSN2 ?>" id="uiPostMsn2" disabled>
+<input type="hidden" name="telcfg:settings/MSN/MSN3" value="<? query telcfg:settings/MSN/MSN3 ?>" id="uiPostMsn3" disabled>
+<input type="hidden" name="telcfg:settings/MSN/MSN4" value="<? query telcfg:settings/MSN/MSN4 ?>" id="uiPostMsn4" disabled>
+<input type="hidden" name="telcfg:settings/MSN/MSN5" value="<? query telcfg:settings/MSN/MSN5 ?>" id="uiPostMsn5" disabled>
+<input type="hidden" name="telcfg:settings/MSN/MSN6" value="<? query telcfg:settings/MSN/MSN6 ?>" id="uiPostMsn6" disabled>
+<input type="hidden" name="telcfg:settings/MSN/MSN7" value="<? query telcfg:settings/MSN/MSN7 ?>" id="uiPostMsn7" disabled>
+<input type="hidden" name="telcfg:settings/MSN/MSN8" value="<? query telcfg:settings/MSN/MSN8 ?>" id="uiPostMsn8" disabled>
+<input type="hidden" name="telcfg:settings/MSN/MSN9" value="<? query telcfg:settings/MSN/MSN9 ?>" id="uiPostMsn9" disabled>
+` ?>
+<? multiquery sip:settings/sip/list(displayname,ID) `
+<input type="hidden" name="sip:settings/$1/displayname" value="$2" id="uiPost$1" disabled>
+<input type="hidden" name="sip:settings/$1/ID" value="$3" id="ui$1ID" disabled>
+` ?>
--- /dev/null
+++ usr/www/all/html/de/fon_config/fon_config_Dect_3.html
@@ -0,0 +1,41 @@
+<div id="content">
+<div class="backtitelkonfig"><div class="rundrt"><div class="rundlt"><div class="ecklb"><div class="eckrb"><div class="foretitel">
+<? echo $var:Txt1 ?>
+</div></div></div></div></div></div>
+<div class="backdialog"><div class="ecklm"><div class="eckrm"><div class="ecklb"><div class="eckrb"><div class="foredialog">
+<p class="mb5"><? echo $var:Txt2 ?></p>
+<p class="mb5"><? echo $var:Txt3 ?></p>
+<p class="Left30 mt10 mb5"><b><? echo $var:Txt4 ?></b></p>
+<table id="tDectMsns" class="_xtborder">
+<tr><td class="c1" height="1px"></td><td class="c4"><table style="width: 300px"><tr><td height="1px"></td><td height="1px"></td></tr></table></td></tr>
+<? repeat [ 0 4 ] `
+<tr id="uiMsn$0Checked" style="display:none">
+<td class="c1"><span id="uiNameMsn$0Checked">&nbsp;</span></td>
+<td class="c4">
+<table style="width: 300px">
+<tr>
+<td class="c2"><input type="checkbox" name="BtnMsn$0Checked" id="uiView_CheckMsn$0" onclick="OnChangeCheckMsn($0)"></td>
+<td class="c3"><span id="uiNetworkMsn$0Checked">&nbsp;</span></td>
+</tr>
+</table>
+</td>
+</tr>
+` ?>
+</table>
+<p class="Left30 mt10 mb5"><b><? echo $var:Txt5 ?></b></p>
+<table id="tDectMsns" class="_xtborder">
+<tr><td class="c1" height="1px"></td><td height="1px"></td></tr>
+<? repeat [ 0 4 ] `
+<tr id="uiMsn$0Selection" style="display:none">
+<td class="c1"><span id="uiNameMsn$0Selection">&nbsp;</span></td>
+<td class="c4"><select size="1" id="uiView_Selection$0" class="Eingabefeld" style="width:200px" onchange="OnChangeSelection($0, value)"></select></td>
+</tr>
+` ?>
+</table>
+</div></div></div></div></div></div>
+<div class="backdialog"><div class="ecklm"><div class="eckrm"><div class="rundrb"><div class="rundlb"><div class="forebuttons">
+<input type="button" onclick="uiDoBack()" value="< Zurück" class="Pushbutton" id="uiBtnBack">
+<input type="button" onclick="uiDoOk()" value="Weiter >" class="Pushbuttonfett " id="uiBtnOK">&nbsp;&nbsp;
+<input type="button" onclick="uiDoCancel()" value="Abbrechen" class="Pushbutton" id="uiBtnCancel">
+</div></div></div></div></div></div>
+</div>
--- /dev/null
+++ usr/www/all/html/de/fon_config/fon_config_Dect_3.inc
@@ -0,0 +1,20 @@
+<? include ../html/de/global.inc ?>
+<? setvariable var:Txt1 "Schnurlostelefon (DECT) für ankommende Gespräche einrichten" ?>
+<? setvariable var:Txt2 "Wählen Sie aus, auf welche Rufnummern das ausgewählte Schnurlostelefon (DECT) reagieren soll." ?>
+<? setvariable var:Txt3 "Sie können dazu aus der Liste der der DECT-Basisstation zugewiesenen Rufnummern auswählen oder, falls dies noch möglich, weitere Rufnummern zuweisen." ?>
+<? setvariable var:Txt4 "Liste der bereits zugewiesenen Rufnummern" ?>
+<? setvariable var:Txt5 "Liste zuweisbarer Rufnummern" ?>
+<? setvariable var:Txt6 "Festnetz" ?>
+<? setvariable var:Txt7 "Hauptrufnummer" ?>
+<? setvariable var:Txt8 "Keine Rufnummern eingerichtet" ?>
+<? setvariable var:Txt9 'Die Rufnummer, die Sie unter "Ausgehende Anrufe" angeben, bestimmt die Standard-Verbindungsart und die abgehende Rufnummer des Schnurlostelefons (DECT).' ?>
+<? setvariable var:Text4 'auf alle Rufnummern reagieren' ?>
+<? setvariable var:Text4b 'nur auf folgende Rufnummern reagieren' ?>
+<? setvariable var:Text5 'Ausgehende Anrufe' ?>
+<? setvariable var:Text6 'Ankommende Anrufe' ?>
+<? setvariable var:Text12 '<Rufnummer bei Ausgehende Anrufe>' ?>
+<? setvariable var:Text13 '(ausgehende Rufnummer)' ?>
+<? setvariable var:TextRufnrAnnehmen "nur Anrufe für folgende Rufnummern annehmen:" ?>
+<? setvariable var:TextAlleAnnehmen "alle Anrufe annehmen" ?>
+<? setvariable var:TextInternet "Internet" ?>
+<? setvariable var:TextFestnetz "Festnetz" ?>
--- /dev/null
+++ usr/www/all/html/de/fon_config/fon_config_Dect_3.js
@@ -0,0 +1,255 @@
+<!-- ../fon_config/fon_config_Dect_3.js -->
+<? include ../html/de/fon_config/fon_config_Dect_3.inc ?>
+<style type="text/css">
+<!--
+.pCheck25 {text-indent: -25px; padding-left: 35px;}
+.pFett {font-weight: bold; margin-bottom: 10px;}
+#tDectMsns {margin-left: 40px; width: 400px; table-layout: fixed;}
+#tDectMsns td {padding: 1px 3px; overflow: hidden;}
+.c1 {text-align: left; width: 75px;}
+.c2 {text-align: left; width: 25px;}
+.c3 {text-align: left; width: 250px;}
+.c4 {text-align: left; width: 275px;}
+.Left30 {margin-left: 30px;}
+.ac {text-align: center;}
+.c5 {width: 30px; padding: 1px 5px;}
+.c6 {width: 60px; padding: 1px 5px;}
+.c7 {width: 60px; padding: 1px 5px;}
+.c8 {padding: 1px 0px;}
+.Left40 {margin-left: 30px;}
+-->
+</style>
+<script type="text/javascript">
+<? include ../html/de/js/val.js ?>
+<? include ../html/de/js/jsl.js ?>
+var g_txt_Internet = "Internet";
+var g_txt_Festnetz = "Festnetz";
+var g_txt_OutgoingingNo = "(Rufnummer für ausgehende Gespräche)";
+var g_txt_ToMuchMsns = "Es können nur insgesamt maximal 5 Rufnummern für Schnurlostelefone (DECT) zusammen eingerichtet werden. !\x0d\x0aDieser Wert ist errreicht!\x0d\x0a\x0d\x0aWenn Sie eine weitere Rufnummer auswählen wollen, müssen Sie zuvor eine andere löschen oder die Einrichtung abrechen und die Konfiguration der bereits eingerichteten Geräte abändern.";
+var g_SelectMsnCount = 0;
+var g_arSelectableMsns = new Array();
+var g_arDectMsns = new Array();
+function uiDoOnLoad() {
+document.title = "<? print `$var:BoxName` ?>" + " " + "<? print `$var:Txt1` ?>";
+var msnIndex = 0;
+<? multiquery sip:settings/sip/list(displayname,ID) `
+if (valIsZahlVorhanden("$2")) {
+g_arSelectableMsns[msnIndex] = new MsnEntry( msnIndex, "$0", "SIP$3", "$2", g_txt_Internet, IsAlreadyDectMsn( "$2"));
+msnIndex++;
+}
+` ?>
+<? if eq '$var:usePSTN' 1 `
+for (var i=0; i<10; i++) {
+if (jslGetValue("uiPostMsn"+i) != "") {
+g_arSelectableMsns[msnIndex] = new MsnEntry( msnIndex, i, jslGetValue("uiPostMsn"+i), jslGetValue("uiPostMsn"+i), g_txt_Festnetz, IsAlreadyDectMsn( jslGetValue("uiPostMsn"+i)));
+msnIndex++;
+}
+}
+if (jslGetValue("uiPostPots") != "") {
+g_arSelectableMsns[msnIndex] = new MsnEntry( msnIndex, i, jslGetValue("uiPostPots"), jslGetValue("uiPostPots"), g_txt_Festnetz, IsAlreadyDectMsn( jslGetValue("uiPostPots")));
+msnIndex++;
+}
+` ?>
+for ( var j=0; j<5; j++) {
+g_arDectMsns[j] = new DectEntry( false,jslGetValue( "uiPostDectMsn"+j),GetNetworkType(jslGetValue( "uiPostDectMsn"+j)),false);
+if ( jslGetValue( "uiPostDectMsn"+j) != "") {
+jslSetSpanText( "uiNameMsn"+j+"Checked", GetMsnName(j));
+jslSetSpanText( "uiNetworkMsn"+j+"Checked", GetNetworkType(jslGetValue( "uiPostDectMsn"+j))+ ": "+ jslGetValue( "uiPostDectMsn"+j));
+if ((jslGetValue("uiDeviceAllInCalls") != "" ) && ( IsConfiguredDectMsn(jslGetValue( "uiPostDectMsn"+j)) == true)) {
+jslSetChecked("uiView_CheckMsn"+j,true)
+g_arDectMsns[j].checked = true;
+}
+jslDisplay( "uiMsn"+j+"Checked", true);
+g_arDectMsns[j].checkBox = true;
+} else {
+jslSetSpanText( "uiNameMsn"+j+"Selection", GetMsnName(j));
+jslDisplay( "uiMsn"+j+"Selection", true);
+FillSelection("uiView_Selection"+j, "")
+g_arDectMsns[j].value = "Leer";
+}
+}
+if ( jslGetValue("uiDeviceAllInCalls") != "" ) {
+for ( var k=0;k<g_arDectMsns.length;k++) {
+if (g_arDectMsns[k].checkBox == false) {
+nValue = GetConfiguredDectMsn();
+if ( nValue != "") {
+OnChangeSelection( k,nValue);
+}
+}
+}
+}
+}
+function uiDoOk() {
+var strShowInCallNo = "";
+var saveMsnCount = 0;
+for (var i=0; i<g_arDectMsns.length; i++) {
+if ( g_arDectMsns[i].checkBox == true) {
+if (( g_arDectMsns[i].checked == true) && ( jslGetValue("uiDeviceOutgoingNo") != g_arDectMsns[i].value)) {
+jslSetValue( "uiDeviceMsn" + saveMsnCount, g_arDectMsns[i].value);
+strShowInCallNo += GetDectArrayValue(g_arDectMsns[i])+";"+GetDectArrayNetType(g_arDectMsns[i])+";";
+saveMsnCount +=1;
+}
+} else {
+if (jslGetValue( "uiView_Selection"+i) != "Leer"){
+jslSetValue( "uiDeviceMsn" + saveMsnCount, jslGetValue( "uiView_Selection"+i));
+strShowInCallNo += GetDisplayNumber(jslGetValue( "uiView_Selection"+i))+";"+GetNetworkType(jslGetValue( "uiView_Selection"+i))+";";
+saveMsnCount +=1;
+}
+}
+}
+jslSetValue( "uiDeviceAllInCalls", "0");
+jslSetValue( "uiShowCallInNo", strShowInCallNo);
+// jslSetValue( "uiDectDeviceCount", g_arDectMsns.length);
+jslGoTo("fon_config", "fon_config_End");
+}
+function OnChangeCheckMsn(nIdx) {
+g_arDectMsns[nIdx].checked = jslGetChecked("uiView_CheckMsn" +nIdx);
+}
+function OnChangeSelection(nId, nValue) {
+var oldValue = GetDectArrayValue(g_arDectMsns[nId]);
+var oldNo = GetDisplayNumber( oldValue);
+var oldNetType = GetNetworkType( oldValue);
+for ( var i=0;i<g_arDectMsns.length;i++) {
+if ((g_arDectMsns[i].checkBox == false) && ( i != nId)){
+if ( nValue == "Leer") {
+addOption("uiView_Selection"+i,oldValue,(oldNetType+": "+oldNo));
+} else {
+ReorganizeSelections( i, nValue, oldValue, (oldNetType+": "+oldNo));
+}
+}
+}
+g_arDectMsns[nId].value = nValue;
+for ( var j=0;j<g_arDectMsns.length;j++) {
+if (g_arDectMsns[j].checkBox == false) {
+jslSetSelection("uiView_Selection"+j,GetDectArrayValue(g_arDectMsns[j]))
+}
+}
+}
+function ReorganizeSelections (nIdx, newValue, oldValue, oldText) {
+var selObj = document.getElementById("uiView_Selection"+nIdx)
+for ( var j=0; j<selObj.length;j++) {
+if ( selObj.options[j].value == newValue) {
+if ( oldValue == "Leer") {
+selObj.options[j] = null;
+} else {
+selObj.options[j].value = oldValue;
+selObj.options[j].text = oldText;
+}
+break;
+}
+}
+}
+function GetMsnName(nIdx) {
+var strRetCode ="";
+switch (nIdx) {
+case 0 : strRetCode ="Msn A ";break;
+case 1 : strRetCode ="Msn B ";break;
+case 2 : strRetCode ="Msn C ";break;
+case 3 : strRetCode ="Msn D ";break;
+case 4 : strRetCode ="Msn E ";break;
+}
+return strRetCode;
+}
+function FillSelection(id, nr) {
+addOption(id, "Leer", "");
+for ( var i=0;i<g_arSelectableMsns.length;i++) {
+if (GetMsnArrayIsDectMsn(g_arSelectableMsns[i]) == false) {
+addOption( id, GetMsnArrayValue(g_arSelectableMsns[i]), (GetMsnArrayNetType(g_arSelectableMsns[i])+": "+GetMsnArrayNo(g_arSelectableMsns[i])));
+}
+}
+jslSetSelection(id, nr=="" ? "Leer":nr);
+}
+function addOption (id, val, text) {
+var element;
+element = document.getElementById(id);
+if (element == null) return;
+var eintrag = new Option(text, val, false, false);
+element.options[element.length]=eintrag;
+}
+function GetDisplayNumber( wert) {
+if ( wert == "Leer") return "";
+for ( var i=0;i<g_arSelectableMsns.length;i++) {
+if ( GetMsnArrayValue(g_arSelectableMsns[i]) == wert) {
+return GetMsnArrayNo(g_arSelectableMsns[i]);
+}
+}
+return ""
+}
+function GetNetworkType( wert) {
+if ( wert == "Leer") return "";
+for ( var i=0;i<g_arSelectableMsns.length;i++) {
+if ( GetMsnArrayValue(g_arSelectableMsns[i]) == wert) {
+return GetMsnArrayNetType(g_arSelectableMsns[i]);
+}
+}
+return ""
+}
+function IsAlreadyDectMsn ( wert) {
+for ( var i=0;i<5;i++) {
+if ( jslGetValue( "uiPostDectMsn"+i) == wert) return true;
+}
+return false;
+}
+function IsConfiguredDectMsn ( wert) {
+for ( var i=0;i<5;i++) {
+if ( jslGetValue( "uiDeviceMsn"+i) == wert) {
+jslSetValue("uiDeviceMsn"+i, "");
+return true;
+}
+}
+return false;
+}
+function GetConfiguredDectMsn() {
+for ( var i=0;i<5;i++) {
+var wert = jslGetValue( "uiDeviceMsn"+i);
+if ( wert != "") {
+jslSetValue("uiDeviceMsn"+i, "");
+return wert;
+}
+}
+return "";
+}
+function MsnEntry ( nIdx, nId, valueNo, showNo, sNetType, bIsDectMsn) {
+this.idx = nIdx;
+this.id = nId;
+this.value = valueNo;
+this.no = showNo;
+this.netType = sNetType;
+this.dectMsn = bIsDectMsn;
+}
+function GetMsnArrayValue(arObject) {
+return arObject.value;
+}
+function GetMsnArrayNo(arObject) {
+return arObject.no;
+}
+function GetMsnArrayNetType(arObject) {
+return arObject.netType;
+}
+function GetMsnArrayIsDectMsn(arObject) {
+return arObject.dectMsn;
+}
+function DectEntry ( isChecked, valueNo, sNetType, isCheckBox) {
+this.value = valueNo;
+this.checked = isChecked;
+this.netType = sNetType;
+this.checkBox = isCheckBox;
+}
+function GetDectArrayValue(arObject) {
+return arObject.value;
+}
+function GetDectArrayNetType(arObject) {
+return arObject.netType;
+}
+function uiDoBack() {
+jslGoTo("fon_config", "fon_config_2");
+}
+function uiDoCancel() {
+if (!AskAssiCancel()) return;
+if ( jslGetValue("uiPostPageMaster") == "home") {
+jslGoTo("konfig", jslGetValue("uiPostPageMaster"));
+} else {
+jslGoTo("fon", jslGetValue("uiPostPageMaster"));
+}
+}
+</script>
--- /dev/null
+++ usr/www/all/html/de/fon_config/fon_config_Dect_check.frm
@@ -0,0 +1,5 @@
+<? include ../html/de/fon_config/fon_config.frm ?>
+<input type="hidden" name="telcfg:settings/DialPort" value="<? query telcfg:settings/DialPort ?>" id="uiPostDialPort" disabled>
+<input type="hidden" name="telcfg:command/Dial" value="" id="uiPostDial" disabled>
+<input type="hidden" name="telcfg:command/Hangup" value="" id="uiPostHangup" disabled>
+<input type="hidden" name="telcfg:settings/MSN/Port0/Fax" value="<? query telcfg:settings/MSN/Port0/Fax ?>" id="uiPostPort0Fax" disabled>
--- /dev/null
+++ usr/www/all/html/de/fon_config/fon_config_Dect_check.html
@@ -0,0 +1,28 @@
+<div id="content">
+<div class="backtitelkonfig"><div class="rundrt"><div class="rundlt"><div class="ecklb"><div class="eckrb"><div class="foretitel">
+<? echo $var:Txt1 ?>
+</div></div></div></div></div></div>
+<div class="backdialog"><div class="ecklm"><div class="eckrm"><div class="ecklb"><div class="eckrb"><div class="foredialog">
+<? if eq $var:FonTestNo '2' `
+<p class="mb10"><? echo '$var:Txt2' ?><b><span id="uiViewFonMsn">&nbsp;</span></b><? echo '$var:Txt3' ?></p>
+<ol>
+<li><p><? echo '$var:Txt4' ?></p><p class="pLeft15"><font size="-1"><? echo '$var:Txt12' ?></font></p></li>
+<li><? echo '$var:Txt5' ?></li>
+<li><? echo '$var:Txt6' ?></li>
+</ol>
+` `
+<p class="mb10"><? echo '$var:Txt2' ?></p>
+<ol>
+<li><? echo '$var:Txt3' ?></li>
+<li><? echo '$var:Txt5' ?></li>
+<li><? echo '$var:Txt6' ?></li>
+<li><? echo '$var:Txt7' ?></li>
+</ol>
+` ?>
+</div></div></div></div></div></div>
+<div class="backdialog"><div class="ecklm"><div class="eckrm"><div class="rundrb"><div class="rundlb"><div class="forebuttons">
+<input type="button" onclick="uiDoBack()" value="<? echo $var:Txt10 ?>" class="Pushbutton" style=" width: 170px;">&nbsp;
+<input type="button" onclick="uiDoOk()" value="<? echo $var:Txt11 ?>" class="Pushbuttonfett" style=" width: 170px;">&nbsp;&nbsp;
+<input type="button" onclick="uiDoCancel()" value="<? echo $var:txtCancel ?>" class="Pushbutton" id="uiCancelBtn" style="display: none;">
+</div></div></div></div></div></div>
+</div>
--- /dev/null
+++ usr/www/all/html/de/fon_config/fon_config_Dect_check.inc
@@ -0,0 +1,25 @@
+<? include ../html/de/global.inc ?>
+<? if eq $var:FonTestNo '2' `
+<? setvariable var:Txt1 "MSN am ISDN-Telefon prüfen" ?>
+<? setvariable var:Txt2 "Das ISDN-Telefon ist unter der Rufnummer " ?>
+<? setvariable var:Txt3 " nicht erreichbar. " ?>
+<? setvariable var:Txt4 "Überprüfen Sie die MSN-Einstellung in Ihrem ISDN-Telefon." ?>
+<? setvariable var:Txt5 "Stellen Sie sicher, dass das ISDN-Telefon mit dem FON S0-Anschuss der FRITZ!Box verbunden ist." ?>
+<? setvariable var:Txt6 "Prüfen Sie, ob das Kabel des Telefones richtig steckt und nicht defekt ist." ?>
+<? setvariable var:Txt10 "< Zurück" ?>
+` `
+<? setvariable var:Txt1 "Anschluss prüfen" ?>
+<? setvariable var:Txt2 "Gehen Sie wie folgt vor:" ?>
+<? setvariable var:Txt3 "Überprüfen Sie, ob das Schnurlostelefon (DECT) an der FRITZ!Box angemeldet ist." ?>
+<? setvariable var:Txt4 " der FRITZ!Box angeschlossen ist." ?>
+<? setvariable var:Txt5 "Ist das Schnurlostelefon (DECT) vorher an einer anderen Basisstation angemeldet, schalten Sie diese aus." ?>
+<? setvariable var:Txt6 "Führen Sie den Assistenten noch einmal aus." ?>
+<? setvariable var:Txt7 "Entfernen Sie alle Schnurlostelefone (DECT) in der Liste der Telefoniegeräte und richten Sie sie noch einmal ein." ?>
+<? if eq $var:TechType 'ISDN' `
+<? setvariable var:Txt6 "Prüfen Sie die Einstellungen Ihres ISDN-Telefons und löschen Sie alle Mehrfachrufnummern (MSNs) aus dem Telefon. Weitere Informationen hierzu finden Sie im Handbuch Ihres ISDN-Telefons." ?>
+<? setvariable var:Txt7 "Probieren Sie das Telefon, wenn möglich, an einem anderen ISDN-Telefonanschluss aus." ?>
+` ?>
+<? setvariable var:Txt10 "anderen Anschluss wählen" ?>
+` ?>
+<? setvariable var:Txt11 "zum Telefon-Test" ?>
+<? setvariable var:Txt12 'Nähere Informationen dazu finden Sie in der Dokumentation zu Ihrem Telefon.' ?>
--- /dev/null
+++ usr/www/all/html/de/fon_config/fon_config_Dect_check.js
@@ -0,0 +1,91 @@
+<!-- ../fon_config/fon_config_Dect_check.js -->
+<? include ../html/de/fon_config/fon_config_Dect_check.inc ?>
+<style type="text/css">
+<!--
+ol {
+list-style-type: decimal;
+margin: 0px 10px 0px 30px;
+padding: 0px;
+}
+ol li {padding-bottom: 10px;}
+.pLeft15 {margin-left: 15px;font-size: 10px;color: #0066CC}
+-->
+</style>
+<script type="text/javascript">
+<? include ../html/de/js/jsl.js ?>
+function uiDoOnLoad() {
+document.title = "<? print `$var:BoxName` ?>" + " " + "<? print `$var:Txt1` ?>";
+<? if eq $var:FonTestNo '2' `
+jslSetSpanText( "uiViewFonMsn", getOutGoingNo(false));
+` `
+var port = jslGetValue("uiDevicePort");
+if ( port >= 50 ) {
+jslSetSpanText( "uiViewFonPort", "FON S0");
+} else {
+jslSetSpanText( "uiViewFonPort", "FON "+ (parseInt(port)+1));
+}
+` ?>
+if ( jslGetValue( "uiErrTest") > 0)
+jslDisplay( "uiCancelBtn", true);
+jslSetValue( "uiErrTest", jslGetValue( "uiErrTest") + 1);
+}
+function uiDoBack() {
+if ( jslGetValue("uiFonTestNo") == "2") {
+jslSetValue( "uiFonTestNo", "");
+jslGoTo("fon_config", "fon_config_IsdnSwitch");
+} else {
+jslGoTo("fon_config", "fon_config_Dect_1");
+}
+}
+function uiDoOk() {
+<? if eq $var:TechType 'ISDN' `
+var port = parseInt(jslGetValue("uiDevicePort"));
+` `
+var port = parseInt(jslGetValue("uiDevicePort"))+1;
+` ?>
+if ( jslGetValue("uiFonTestNo") == "2") {
+jslSetValue("uiPostDial", "**5*"+getOutGoingNo(false)+"#");
+} else {
+jslSetValue("uiPostDial", "**"+ port);
+}
+if ((port == "50") && (jslGetValue( "uiPostPort0Fax") == "1")){
+jslSetValue("uiPostDialPort", "2");
+} else {
+jslSetValue("uiPostDialPort", port=="1" ? "2":"1");
+}
+jslEnable("uiPostDial");
+jslEnable("uiPostDialPort");
+jslFormSubmitEx( "fon_config", "fon_config_Dect_test");
+}
+function uiDoCancel() {
+if (!AskAssiCancel()) return;
+var FonAssiFromPageValue=jslGetValue("uiFonAssiFromPage");
+if (FonAssiFromPageValue== "decthandset"){
+jslSubmitFormEx("dect", "handset","handset");
+return;
+}else if(FonAssiFromPageValue== "dectsettings"){
+jslSubmitFormEx("dect", "setting","setting");
+return;
+}else if(FonAssiFromPageValue== "fonstartmenu"){
+jslGoTo("home", "fondevices");
+return;
+}else if(FonAssiFromPageValue== "fonerweitert"){
+jslGoTo("fon", "fondevices");
+return;
+}
+if ( jslGetValue("uiPostPageMaster") == "home") {
+jslGoTo("konfig", jslGetValue("uiPostPageMaster"));
+} else {
+jslGoTo("fon", jslGetValue("uiPostPageMaster"));
+}
+}
+function getOutGoingNo( setSpan) {
+var rc = jslGetValue( "uiShowCallInNo");
+var sepPos = rc.indexOf( ';');
+var rc = rc.substr(0,sepPos);
+if ( setSpan == true) {
+jslSetSpanText( "uiSpanShowOutgoingNo", rc);
+}
+return rc;
+}
+</script>
--- /dev/null
+++ usr/www/all/html/de/fon_config/fon_config_Dect_name.frm
@@ -0,0 +1,7 @@
+<? include ../html/de/fon_config/fon_config.frm ?>
+<? repeat [ 0 5 ] `
+<input type="hidden" name="dect:settings/Handset$0/Subscribed" value="<? query dect:settings/Handset$0/Subscribed ?>" id="uiPostHandset$0Subscribe" disabled>
+` ?>
+<? repeat [ 0 5 ] `
+<input type="hidden" name="dect:settings/Handset$0/Name" value="<? query dect:settings/Handset$0/Name ?>" id="uiPostHandset$0Notation" disabled>
+` ?>
--- /dev/null
+++ usr/www/all/html/de/fon_config/fon_config_Dect_name.html
@@ -0,0 +1,14 @@
+<div id="content">
+<div class="backtitelkonfig"><div class="rundrt"><div class="rundlt"><div class="ecklb"><div class="eckrb"><div class="foretitel">
+<? echo $var:TextHinweis ?>
+</div></div></div></div></div></div>
+<div class="backdialog"><div class="ecklm"><div class="eckrm"><div class="ecklb"><div class="eckrb"><div class="foredialog">
+<p class="mb10" ><? echo '$var:Txt7' ?></p>
+<p class="mt10 ml30"><? echo $var:TextName ?>&nbsp;<input type="text" value size="32" class="mt10 ml50" maxlength="30" class="Eingabefeld" id="uiViewNotation"></p>
+</div></div></div></div></div></div>
+<div class="backdialog"><div class="ecklm"><div class="eckrm"><div class="rundrb"><div class="rundlb"><div class="forebuttons">
+<input type="button" onclick="uiDoBack()" value="< Zurück" class="Pushbutton" id="uiBtnBack">
+<input type="button" onclick="uiDoOk()" value="Weiter >" class="Pushbuttonfett " id="uiBtnOK">&nbsp;&nbsp;
+<input type="button" onclick="uiDoCancel()" value="Abbrechen" class="Pushbutton" id="uiBtnCancel">
+</div></div></div></div></div></div>
+</div>
--- /dev/null
+++ usr/www/all/html/de/fon_config/fon_config_Dect_name.inc
@@ -0,0 +1,3 @@
+<? include ../html/de/global.inc ?>
+<? setvariable var:TextHinweis "Schnurlostelefon (DECT) Bezeichnung angeben" ?>
+<? setvariable var:TextName "Geben Sie für das Telefon eine Bezeichnung ein, wie z.B. Wohnzimmer oder Annas Telefon:" ?>
--- /dev/null
+++ usr/www/all/html/de/fon_config/fon_config_Dect_name.js
@@ -0,0 +1,84 @@
+<!-- ../fon_config/fon_config_Dect_name.js -->
+<? include ../html/de/fon_config/fon_config_Dect_name.inc ?>
+<style type="text/css">
+<!--
+ol {
+list-style-type: decimal;
+margin: 0px 10px 0px 30px;
+padding: 0px;
+}
+.ml30 { margin-left: 30px; }
+.ml50 { margin-left: 50px; }
+.mt10 {margin-top: 10px;}
+-->
+</style>
+<script type="text/javascript">
+<? include ../html/de/js/val.js ?>
+<? include ../html/de/js/jsl.js ?>
+var g_txtDect = "Schnurlostelefon (DECT) ";
+var g_curDectPort = (-1);
+var g_Name = "";
+var g_mldNoNotation = "Bitte geben Sie eine Bezeichnung für Ihr Schnurlostelefon (DECT) ein.";
+var g_mld_NoSpezialChar = "Die Bezeichnung Ihres Telefonie-Endgerätes enthält unzulässige Zeichen. Unzulässige Zeichen sind: `~!@#$^&*=+[]{}\|;:'\",<>/und?";
+function uiDoOnLoad() {
+document.title = "<? print `$var:BoxName` ?>" + " " + "<? print `$var:Txt1` ?>";
+<? if eq $var:TechType 'DECT' `
+for ( var j = 0; j < 5; j++) {
+if (jslGetValue("uiPostHandset"+j+"Subscribe") == "0") {
+g_curDectPort = j;
+break;
+}
+}
+g_Name = g_txtDect + (g_curDectPort+1);
+` ?>
+jslSetValue( "uiViewNotation", jslGetValue( "uiDeviceNotation"));
+if (jslGetValue("uiViewNotation") == "")
+jslSetValue( "uiViewNotation", g_Name);
+}
+function uiDoBack() {
+jslGoTo("fon_config", "fon_config_Dect_1");
+}
+function uiDoOk() {
+Name=jslGetValue( "uiViewNotation");
+if (Name == "") { alert( g_mldNoNotation);return;}
+var pattern =/[\`\~\!@#$\^&\*=\+\[\]\{\}\\\|;:\'\",\<\>\?\/]/;
+if(Name.search(pattern)!=-1){ alert( g_mld_NoSpezialChar);return;}
+jslCopyValue( "uiDeviceNotation", "uiViewNotation");
+DeviceCounter=jslGetValue("uiDectID");
+jslCopyValue( "uiPostHandset"+DeviceCounter+"Notation", "uiDeviceNotation");
+jslEnable("uiPostHandset"+DeviceCounter+"Notation");
+jslSubmitFormEx("fon_config", "fon_config_End");
+}
+function uiDoCancel()
+{
+if (!AskAssiCancel()) return;
+var FonAssiFromPageValue=jslGetValue("uiFonAssiFromPage");
+if (FonAssiFromPageValue== "decthandset"){
+jslSubmitFormEx("dect", "handset","handset");
+return;
+}else if(FonAssiFromPageValue== "dectsettings"){
+jslSubmitFormEx("dect", "setting","setting");
+return;
+}else if(FonAssiFromPageValue== "fonstartmenu"){
+jslGoTo("home", "fondevices");
+return;
+}else if(FonAssiFromPageValue== "fonerweitert"){
+jslGoTo("fon", "fondevices");
+return;
+}
+if ( jslGetValue("uiPostPageMaster") == "home") {
+jslGoTo("konfig", jslGetValue("uiPostPageMaster"));
+} else {
+jslGoTo("fon", jslGetValue("uiPostPageMaster"));
+}
+}
+function GetFonControlUserEntry(FonControlUserId)
+{
+g_FonControlUserInfoListCnt = <? query telcfg:settings/Foncontrol/User/count ?>
+for ( var j=0; j<g_FonControlUserInfoListCnt; j++) {
+if(g_FonControlUserInfoList[j].nFonControlUserId==FonControlUserId)
+return g_FonControlUserInfoList[j];
+}
+return null;
+}
+</script>
--- /dev/null
+++ usr/www/all/html/de/fon_config/fon_config_Dect_register_1.frm
@@ -0,0 +1,2 @@
+<? include ../html/de/fon_config/fon_config.frm ?>
+<input type="hidden" name="dect:command/StartSubscription" value="1" id="uiPostStartSubcription" disabled>
--- /dev/null
+++ usr/www/all/html/de/fon_config/fon_config_Dect_register_1.html
@@ -0,0 +1,17 @@
+<div id="content">
+<div class="backtitelkonfig"><div class="rundrt"><div class="rundlt"><div class="ecklb"><div class="eckrb"><div class="foretitel">
+<? echo $var:Txt1 ?>
+</div></div></div></div></div></div>
+<div class="backdialog"><div class="ecklm"><div class="eckrm"><div class="ecklb"><div class="eckrb"><div class="foredialog">
+<p class="mb10"><? echo '$var:Txt2' ?></p>
+<ol>
+<li><p><? echo '$var:Txt3' ?> <br> <? echo '$var:Txt13' ?> <? echo '$var:Txt14' ?> <br><? echo '$var:Txt12' ?><p></li>
+<li><p><? echo '$var:Txt6' ?><br><? echo '$var:Txt7' ?></p></li>
+</ol>
+</div></div></div></div></div></div>
+<div class="backdialog"><div class="ecklm"><div class="eckrm"><div class="rundrb"><div class="rundlb"><div class="forebuttons">
+<input type="button" onclick="uiDoBack()" value="<? echo $var:Txt10 ?>" class="Pushbutton" >&nbsp;
+<input type="button" onclick="uiDoOk()" value="<? echo $var:Txt11 ?>" class="Pushbuttonfett" >&nbsp;&nbsp;
+<input type="button" onclick="uiDoCancel()" value="<? echo $var:txtCancel ?>" class="Pushbutton" id="uiCancelBtn" >
+</div></div></div></div></div></div>
+</div>
--- /dev/null
+++ usr/www/all/html/de/fon_config/fon_config_Dect_register_1.inc
@@ -0,0 +1,14 @@
+<? include ../html/de/global.inc ?>
+<? setvariable var:Txt1 "Schnurlostelefon (DECT) anmelden" ?>
+<? setvariable var:Txt2 "Gehen Sie wie folgt vor:" ?>
+<? setvariable var:Txt3 "Starten Sie auf dem Schnurlostelefon, das Sie anmelden möchten, die Anmeldeprozedur." ?>
+<? setvariable var:Txt4 " Nehmen Sie gegebenfalls die Bedienungsanleitung des Schnurlostelefons (DECT) zu Hilfe. " ?>
+<? setvariable var:Txt5 "Führen Sie die Anmeldeprozedur an Ihrem Schnurlostelefon (DECT) durch." ?>
+<? setvariable var:Txt5a "(Eingabe der System-PIN , Auswahl der Basis oder der Handgeräte-ID)" ?>
+<? setvariable var:Txt6 'Wenn das Schnurlostelefon beginnt sich anzumelden, klicken Sie hier auf "Verbinden".' ?>
+<? setvariable var:Txt7 'Die Anmeldung wird jetzt automatisch durchgeführt, es sind keine weiteren Schritte notwendig.' ?>
+<? setvariable var:Txt10 "< Zurück" ?>
+<? setvariable var:Txt11 "Verbinden >" ?>
+<? setvariable var:Txt12 'Die Beschreibung dazu finden Sie in der Dokumentation des Schnurlostelefons.' ?>
+<? setvariable var:Txt13 "Sie werden aufgefordert, die Basis und die Handgeräte-ID auszuwählen und die System-PIN (bei Auslieferung:0000) einzugeben." ?>
+<? setvariable var:Txt14 'Wie die Schritte im Einzelnen aussehen, hängt von Ihrem Schnurlostelefon ab.' ?>
--- /dev/null
+++ usr/www/all/html/de/fon_config/fon_config_Dect_register_1.js
@@ -0,0 +1,57 @@
+<!-- ../fon_config/fon_config_Dect_register_1.js -->
+<? include ../html/de/fon_config/fon_config_Dect_register_1.inc ?>
+<style type="text/css">
+<!--
+ol {
+list-style-type: decimal;
+margin: 0px 10px 0px 30px;
+padding: 0px;
+}
+ol li {padding-bottom: 10px;}
+.pLeft15 {margin-left: 15px;color: #0066CC}
+-->
+</style>
+<script type="text/javascript">
+<? include ../html/de/js/jsl.js ?>
+function uiDoOnLoad() {
+document.title = "<? print `$var:BoxName` ?>" + " " + "<? print `$var:Txt1` ?>";
+}
+function uiDoBack() {
+var FonAssiFromPageValue=jslGetValue("uiFonAssiFromPage");
+if (FonAssiFromPageValue== "decthandset"){
+jslSubmitFormEx("dect", "handset","handset");
+return;
+}else if(FonAssiFromPageValue== "dectsettings"){
+jslSubmitFormEx("dect", "setting","setting");
+return;
+}else{
+jslGoTo("fon_config", "fon_config_Dect_1");
+}
+}
+function uiDoOk() {
+jslEnable( "uiPostStartSubcription");
+jslFormSubmitEx("fon_config", "fon_config_Dect_register_2");
+}
+function uiDoCancel() {
+if (!AskAssiCancel()) return;
+var FonAssiFromPageValue=jslGetValue("uiFonAssiFromPage");
+if (FonAssiFromPageValue== "decthandset"){
+jslSubmitFormEx("dect", "handset","handset");
+return;
+}else if(FonAssiFromPageValue== "dectsettings"){
+jslSubmitFormEx("dect", "setting","setting");
+return;
+}else if(FonAssiFromPageValue== "fonstartmenu"){
+jslGoTo("home", "fondevices");
+return;
+}else if(FonAssiFromPageValue== "fonerweitert"){
+jslGoTo("fon", "fondevices");
+return;
+}
+if ( jslGetValue("uiPostPageMaster") == "home") {
+jslGoTo("konfig", jslGetValue("uiPostPageMaster"));
+} else {
+jslGoTo("fon", jslGetValue("uiPostPageMaster"));
+}
+}
+</script>
--- /dev/null
+++ usr/www/all/html/de/fon_config/fon_config_Dect_register_2.frm
@@ -0,0 +1,9 @@
+<? include ../html/de/fon_config/fon_config.frm ?>
+<input type="hidden" name="var:RegisterRepeat" value="<? echo $var:RegisterRepeat ?>" id="uiRegisterRepeat">
+<? multiquery telcfg:settings/Foncontrol/User/list(Id,Name,Type,Intern) `
+<input type="hidden" name="telcfg:settings/Foncontrol/$1/Name" value="$3" id="uiPostFoncontrol$0Name" disabled>
+<input type="hidden" name="telcfg:settings/Foncontrol/$1/Intern" value="$3" id="uiPostFoncontrol$0Intern">
+` ?>
+<input type="hidden" name="telcfg:settings/DialPort" value="<? query telcfg:settings/DialPort ?>" id="uiPostDialPort" disabled>
+<input type="hidden" name="telcfg:command/Dial" value="" id="uiPostDial" disabled>
+<input type="hidden" name="dect:command/StartSubscription" value="0" id="uiPostStartSubcription" disabled>
--- /dev/null
+++ usr/www/all/html/de/fon_config/fon_config_Dect_register_2.html
@@ -0,0 +1,23 @@
+<? setvariable var:picture1 '../html/de/images/wait.gif' ?>
+<? setvariable var:picture1Text '$var:text21' ?>
+<div id="content">
+<div class="backtitelkonfig"><div class="rundrt"><div class="rundlt"><div class="ecklb"><div class="eckrb"><div class="foretitel">
+<? echo $var:Text1 ?>
+</div></div></div></div></div></div>
+<div class="backdialog"><div class="ecklm"><div class="eckrm"><div class="ecklb"><div class="eckrb"><div class="foredialog">
+<p class="b10" id="uiShowStatus2"><span id="uiViewCheckStatus2"><? echo $var:Text2 ?></span></p>
+<div style="padding-top: 20px">
+<table id="tProgress" style="margin: auto">
+<tr id="uiShowStatus1" style="display: none"><td><span id="uiViewCheckStatus1"><? echo $var:Text21 ?></span></td></tr>
+<tr><td style="height: 10px; padding: 10px 0px"><img name="StatusPic" src="../html/de/images/wait.gif" style="width: 325px; height: 5px;" title=" "></td></tr>
+<!--tr id="uiShowStatus2" style="display: none"><td class="tProgress"><span id="uiViewCheckStatus2">&nbsp;</span></td></tr-->
+</table>
+</div>
+<? include ../html/de/home/error.html ?>
+</div></div></div></div></div></div>
+<div class="backdialog"><div class="ecklm"><div class="eckrm"><div class="rundrb"><div class="rundlb"><div class="forebuttons">
+<input type="button" onclick="uiDoBack()" value="< Zurück" class="Pushbutton" id="uiBtnBack">
+<input type="button" id="AssiOKButtonId" onclick="uiDoOk()" value="Weiter >" class="Pushbuttonfett " id="uiBtnOK" disabled>&nbsp;&nbsp;
+<input type="button" onclick="uiDoCancel()" value="<? echo $var:txtCancel ?>" class="Pushbutton" id="uiBtnCancel">
+</div></div></div></div></div></div>
+</div>
--- /dev/null
+++ usr/www/all/html/de/fon_config/fon_config_Dect_register_2.inc
@@ -0,0 +1,6 @@
+<? include ../html/de/global.inc ?>
+<? setvariable var:Text1 'Schnurlostelefon (DECT) führt Anmeldung durch' ?>
+<? setvariable var:Text2 'Die Anmeldung an der DECT-Basisstation läuft im Normalfall automatisch ab und Sie werden automatisch weitergeleitet.' ?>
+<? setvariable var:Text20 'Die Anmeldung an der DECT-Basisstation war erfolgreich.' ?>
+<? setvariable var:Text21 'Die Anmeldung an der DECT-Basisstation läuft ...' ?>
+<? setvariable var:Text22 'Die Anmeldung an der DECT-Basisstation ist fehlgeschlagen.' ?>
--- /dev/null
+++ usr/www/all/html/de/fon_config/fon_config_Dect_register_2.js
@@ -0,0 +1,97 @@
+<!-- ../first/fon_config_Dect_register_2.js -->
+<? include ../html/de/fon_config/fon_config_Dect_register_2.inc ?>
+<style type="text/css">
+<!--
+#tProgress td {vertical-align: middle; text-align: center;}
+#t1 {font-size: 12px;}
+#t1 td {padding: 2px 2px; vertical-align: top;}
+#t1 .c1 {width: 190px }
+#t1 .c2 {width: 298px }
+-->
+</style>
+<script type="text/javascript">
+<? include ../html/de/js/jsl.js ?>
+var g_ToolTipText_Wait = "Die Anmeldung an der DECT-Basisstation läuft ...";
+//var g_ToolTipText_Success = "Die Anmeldung an der DECT-Basisstation war erfolgreich.";
+var g_ToolTipText_Success = "Die Anmeldung an der DECT-Basisstation war erfolgreich. Drücken Sie \"Weiter\", um das Schnurlostelefon (DECT) zu testen.";
+var g_ToolTipText_Failed = "Die Anmeldung an der DECT-Basisstation ist fehlgeschlagen !";
+var g_PicturePath_Wait = "../html/de/images/wait.gif";
+var g_PicturePath_Success = "../html/de/images/finished-ok-green.gif";
+var g_PicturePath_Failed = "../html/de/images/finished-error.gif";
+var g_mld_RegisterFailed = "Die Anmeldung an der DECT-Basisstation ist fehlgeschlagen. Der Fehlergrund wird am Schnurlostelefon (DECT) angezeigt.";
+function uiDoChangeStateSuccess()
+{
+jslChangeImage( "StatusPic", g_PicturePath_Success, g_ToolTipText_Success);
+jslSetSpanText("uiViewCheckStatus2", g_ToolTipText_Success);
+jslEnable("AssiOKButtonId");
+}
+function uiDoOnLoad() {
+document.title = "<? print `$var:BoxName` ?>" + " " + "<? print `$var:Text1` ?>";
+var nSubscribedDeviceCount = 0;
+<? multiquery dect:settings/Handset/list(Subscribed,Type) `
+if ( "$2" == "1") nSubscribedDeviceCount++;
+` ?>
+if ( nSubscribedDeviceCount >= (parseInt(jslGetValue( "uiDectDeviceCount"))+1)) {
+var nDectDeviceCount = parseInt(jslGetValue( "uiDectDeviceCount"));
+jslSetValue("uiDectID", nDectDeviceCount);
+jslSetValue("uiDectUserID", nSubscribedDeviceCount);
+jslSetValue("uiPostSubscriptionState","1");
+jslSetValue("uiPostDial", "**50");
+jslSetValue("uiPostDialPort", "50");
+jslEnable("uiPostDial");
+jslEnable("uiPostDialPort");
+window.setTimeout("uiDoChangeStateSuccess()",5000);
+//uiDoOk();
+} else if ( jslGetValue( "uiRegisterRepeat") == "7") {
+jslChangeImage( "StatusPic", g_PicturePath_Failed, g_ToolTipText_Failed);
+jslSetSpanText("uiViewCheckStatus2", g_mld_RegisterFailed);
+jslDisplay( "uiShowStatus2", true);
+} else {
+jslChangeImage( "StatusPic", g_PicturePath_Wait, g_ToolTipText_Wait);
+jslDisplay( "uiShowStatus1", true);
+window.setTimeout("uiDoRefresh()", 10000); // alle 10 sec.
+}
+}
+function uiDoCancel() {
+jslEnable( "uiPostStartSubcription");
+if (!AskAssiCancel()) return;
+var FonAssiFromPageValue=jslGetValue("uiFonAssiFromPage");
+if (FonAssiFromPageValue== "decthandset"){
+jslSubmitFormEx("dect", "handset","handset");
+return;
+}else if(FonAssiFromPageValue== "dectsettings"){
+jslSubmitFormEx("dect", "setting","setting");
+return;
+}else if(FonAssiFromPageValue== "fonstartmenu"){
+jslGoTo("home", "fondevices");
+return;
+}else if(FonAssiFromPageValue== "fonerweitert"){
+jslGoTo("fon", "fondevices");
+return;
+}
+if ( jslGetValue("uiPostPageMaster") == "home") {
+jslGoTo("konfig", jslGetValue("uiPostPageMaster"));
+} else {
+jslGoTo("fon", jslGetValue("uiPostPageMaster"));
+}
+}
+function uiDoBack() {
+jslGoTo("fon_config", "fon_config_Dect_register_1");
+}
+function uiDoOk() {
+var result=jslGetValue("uiPostSubscriptionState");
+if (result=="0")
+jslGoTo("fon_config", "fon_config_Dect_1");
+else
+jslSubmitFormEx("fon_config", "fon_config_Dect_test");
+}
+function uiDoRefresh() {
+if ( jslGetValue( "uiRegisterRepeat") == "") {
+jslSetValue( "uiRegisterRepeat", "1");
+} else {
+var nCount = parseInt(jslGetValue( "uiRegisterRepeat")) + 1;
+jslSetValue( "uiRegisterRepeat", nCount);
+}
+jslGoToEx("fon_config", "fon_config_Dect_register_2");
+}
+</script>
--- /dev/null
+++ usr/www/all/html/de/fon_config/fon_config_Dect_test.frm
@@ -0,0 +1,2 @@
+<? include ../html/de/fon_config/fon_config.frm ?>
+<input type="hidden" name="telcfg:command/Hangup" value="" id="uiPostHangup" disabled>
--- /dev/null
+++ usr/www/all/html/de/fon_config/fon_config_Dect_test.html
@@ -0,0 +1,19 @@
+<div id="content">
+<div class="backtitelkonfig"><div class="rundrt"><div class="rundlt"><div class="ecklb"><div class="eckrb"><div class="foretitel">
+<? echo $var:Txt1 ?>
+</div></div></div></div></div></div>
+<div class="backdialog"><div class="ecklm"><div class="eckrm"><div class="ecklb"><div class="eckrb"><div class="foredialog">
+<div id="uiViewTestStarting" style="display: none">
+<p class="mb5"><? echo $var:Txt2 ?></p>
+</div>
+<div id="uiViewTestStarted" style="display: none">
+<p class="mb5"><? echo $var:Txt3 ?></p>
+</div>
+<p class="pCenterTxt" id="uiViewWait"><span id="uiViewSpanWait"><? echo $var:Txt10 ?></span></p>
+</div></div></div></div></div></div>
+<div class="backdialog"><div class="ecklm"><div class="eckrm"><div class="rundrb"><div class="rundlb"><div class="forebuttons">
+<input type="button" onclick="uiDoOk()" value="<? echo $var:Txt13 ?>" class="Pushbuttonfett" id="uiOKBtn"style="display: none;">&nbsp;
+<input type="button" onclick="uiDoCheck()" value="<? echo $var:Txt12 ?>" class="Pushbutton" id="uiBackBtn"style="display: none;">&nbsp;&nbsp;
+<input type="button" onclick="uiDoCancel()" value="<? echo $var:txtCancel ?>" class="Pushbutton" id="uiCancelBtn" style="display: none;">
+</div></div></div></div></div></div>
+</div>
--- /dev/null
+++ usr/www/all/html/de/fon_config/fon_config_Dect_test.inc
@@ -0,0 +1,14 @@
+<? include ../html/de/global.inc ?>
+<? setvariable var:Txt1 "Verbindung zum Schnurlostelefon (DECT) testen" ?>
+<? setvariable var:Txt2 "Die FRITZ!Box prüft nun, ob das Schnurlostelefon (DECT) richtig angemeldet wurde." ?>
+<? setvariable var:Txt3 "Wenn das Schnurlostelefon (DECT) jetzt klingelt, ist es korrekt angemeldet." ?>
+<? setvariable var:Txt4 'Klicken Sie auf' ?>
+<? setvariable var:Txt5 '"Weiter >"' ?>
+<? setvariable var:Txt6 '. ' ?>
+<? setvariable var:Txt7 "Falls es nicht klingelt, klicken Sie auf" ?>
+<? setvariable var:Txt8 '"Informationen"' ?>
+<? setvariable var:Txt9 "Sie erhalten dann Hinweise, wie das Problen behoben werden kann." ?>
+<? setvariable var:Txt10 "Bitte haben Sie einen Augenblick Geduld .." ?>
+<? setvariable var:Txt11 "< Zurück" ?>
+<? setvariable var:Txt12 "Nein" ?>
+<? setvariable var:Txt13 "Ja" ?>
--- /dev/null
+++ usr/www/all/html/de/fon_config/fon_config_Dect_test.js
@@ -0,0 +1,57 @@
+<!-- ../fon_config/fc_fon_1.js -->
+<? include ../html/de/fon_config/fon_config_Dect_test.inc ?>
+<style type="text/css">
+<!--
+.pCenterTxt {text-align: center; padding: 10px 10px; color: #0066CC;}
+-->
+</style>
+<script type="text/javascript">
+<? include ../html/de/js/jsl.js ?>
+var g_txtFonring = "Klingelt das Telefon?";
+function uiDoOnLoad() {
+document.title = "<? print `$var:BoxName` ?>" + " " + "<? print `$var:Txt1` ?>";
+jslDisplay( "uiViewTestStarting",true);
+window.setTimeout("uiDoRing()", 4000);
+}
+function uiDoBack() {
+jslEnable("uiPostHangup");
+jslFormSubmitEx( "fon_config", "fon_config_Dect_1");
+}
+function uiDoOk() {
+jslEnable("uiPostHangup");
+jslFormSubmitEx("fon_config", "fon_config_Dect_name");
+}
+function uiDoCheck() {
+jslEnable("uiPostHangup");
+jslFormSubmitEx("fon_config", "fon_config_Dect_check");
+}
+function uiDoRing() {
+jslDisplay( "uiViewTestStarting",false);
+jslSetSpanText( "uiViewSpanWait", g_txtFonring);
+jslDisplay( "uiViewTestStarted", true);
+jslDisplay( "uiBackBtn",true);
+jslDisplay( "uiOKBtn", true);
+}
+function uiDoCancel() {
+if (!AskAssiCancel()) return;
+var FonAssiFromPageValue=jslGetValue("uiFonAssiFromPage");
+if (FonAssiFromPageValue== "decthandset"){
+jslSubmitFormEx("dect", "handset","handset");
+return;
+}else if(FonAssiFromPageValue== "dectsettings"){
+jslSubmitFormEx("dect", "setting","setting");
+return;
+}else if(FonAssiFromPageValue== "fonstartmenu"){
+jslGoTo("home", "fondevices");
+return;
+}else if(FonAssiFromPageValue== "fonerweitert"){
+jslGoTo("fon", "fondevices");
+return;
+}
+if ( jslGetValue("uiPostPageMaster") == "home") {
+jslGoTo("konfig", jslGetValue("uiPostPageMaster"));
+} else {
+jslGoTo("fon", jslGetValue("uiPostPageMaster"));
+}
+}
+</script>
--- usr/www/all/html/de/fon_config/fon_config_End.frm
+++ usr/www/all/html/de/fon_config/fon_config_End.frm
@@ -63,6 +63,12 @@
 <input type="hidden" name="telcfg:settings/NTHotDialList/Number$10" value="<? query telcfg:settings/NTHotDialList/Number$10 ?>" id="uiPostIsdnNumber$10" disabled>
 ` ?>
 <!-- ISDN Device List end -->
+<!-- DECT Device List -->
+<? repeat [ 0 5 ] `
+<input type="hidden" name="dect:settings/Handset$10/Subscribed" value="<? query dect:settings/Handset$10/Subscribed ?>" id="uiPostDectSubscribed$10" disabled>
+<input type="hidden" name="dect:settings/Handset$10/Name" value="<? query dect:settings/Handset$10/Name ?>" id="uiPostDectName$10" disabled>
+` ?>
+<!-- DECT Device List end -->
 <!-- end of neq ConfigSaved else -->
 ` ?>
 <input type="hidden" name="var:ISDNTKBackFlag" value="<? echo $var:ISDNTKBackFlag ?>" id="uiISDNTKBackFlag">
--- usr/www/all/html/de/fon_config/fon_config_End.js
+++ usr/www/all/html/de/fon_config/fon_config_End.js
@@ -560,9 +560,9 @@
 }
 }
 function FurtherPortsConfigurable() {
-var extensionNo = 1;
+var extensionNo = 2;
+extensionNo = 2;
 extensionNo = 2;
-extensionNo = 3;
 for (var i=0;i<extensionNo;i++) {
 if (jslGetValue("uiPostPort"+i+"Notation") == "") {return true;}
 }
@@ -652,4 +652,75 @@
 {
 return DisplayVarShowCallInNo();
 }
+function uiDisplayDectID(index) {
+var str="";
+str += (parseInt(index)+1);
+return str;
+}
+function uiDistributeDectMsns() {
+var varText = "<? echo `$var:ShowCallInNo` ?>";
+var ar_Reset = new Array(true,true,true,true,true);
+var arInCallNo = varText.split( ";", 10);
+for ( var i=0; i<(arInCallNo.length-1);i+=2) {
+var nNewDectPos = getDectMsnPos(arInCallNo[i], true);
+if ( nNewDectPos != (-1)) {
+var nDectID = parseInt(jslGetValue("uiDectID"));
+if ( uiIsDectMsn( arInCallNo[i]) == true) {
+var nNewSettings = uiNewHandsetSetting(nNewDectPos,nDectID);
+if ( nNewSettings != (-1)) {
+jslSetValue("uiPostDectHandsets"+nNewDectPos, String.fromCharCode((48+nNewSettings)));
+jslEnable( "uiPostDectHandsets"+nNewDectPos);
+}
+} else {
+jslSetValue( "uiPostDectMsn"+nNewDectPos, arInCallNo[i]);
+jslSetValue( "uiPostDectHandsets"+nNewDectPos, String.fromCharCode((48+Math.pow(2, nDectID))));
+jslEnable("uiPostDectMsn"+nNewDectPos);
+jslEnable("uiPostDectHandsets"+nNewDectPos);
+}
+ar_Reset[nNewDectPos] = false;
+}
+}
+for ( var j=0;j<5;j++) {
+if ( ar_Reset[j] == true) {
+var nBitValue = Math.pow(2, parseInt(jslGetValue("uiDectID")));
+if ( IsHandsetConfigured( j, nBitValue)) {
+var oldHandset = jslGetValue( "uiPostDectHandsets"+j).charCodeAt(0) - nBitValue;
+jslSetValue( "uiPostDectHandsets"+j, String.fromCharCode(oldHandset));
+jslEnable("uiPostDectHandsets"+j);
+}
+}
+}
+}
+function uiIsDectMsn( msn) {
+for ( var i=0;i<5;i++) {
+if ( msn == jslGetValue("uiPostDectMsn"+i)) return true;
+}
+return false;
+}
+function getDectMsnPos( wert, orNew) {
+for ( var i=0;i<5;i++) {
+if ( wert == jslGetValue("uiPostDectMsn"+i)) return i;
+}
+if ( orNew == true) {
+for ( var j=0;j<5;j++) {
+if ( jslGetValue("uiPostDectMsn"+j) == "") return j;
+}
+}
+return (-1);
+}
+function IsHandsetConfigured( nPos, wert) {
+var oldHandset = jslGetValue( "uiPostDectHandsets"+nPos).charCodeAt(0) - 48;
+if ( (oldHandset & wert) == wert) return true;
+return false;
+}
+function uiNewHandsetSetting( nPos, dectID) {
+var oldHandset = jslGetValue( "uiPostDectHandsets"+nPos).charCodeAt(0) - 48;
+var newHandset = Math.pow(2, dectID);
+if ( (oldHandset & newHandset) != newHandset) {
+newHandset += oldHandset;
+} else {
+newHandset = (-1);
+}
+return newHandset;
+}
 </script>
--- usr/www/all/html/de/fon_config/fon_config_fondevices.frm
+++ usr/www/all/html/de/fon_config/fon_config_fondevices.frm
@@ -101,3 +101,15 @@
 <? multiquery voipextension:settings/extension/list '
 <input type="hidden" name="voipextension:command/$1" value="delete" id="uiPostDelete$1" disabled/>
 ' ?>
+<? repeat [ 0 5 ] `
+<input type="hidden" name="dect:settings/Handset$0/Subscribed" value="<? query dect:settings/Handset$0/Subscribed ?>" id="uiPostHandset$0Subscribe" disabled>
+<input type="hidden" name="dect:settings/Handset$0/Type" value="<? query dect:settings/Handset$0/Type ?>" id="uiPostHandset$0Type" disabled>
+<input type="hidden" name="dect:settings/Handset$0/Name" value="<? query dect:settings/Handset$0/Name ?>" id="uiPostHandset$0Notation" disabled>
+` ?>
+<? repeat [ 0 4 ] `
+<input type="hidden" name="dect:settings/MSN$0/MSN" value="<? query dect:settings/MSN$0/MSN ?>" id="uiPostDectMsn$0" disabled>
+<input type="hidden" name="dect:settings/MSN$0/Handsets" value="<? querytext dect:settings/MSN$0/Handsets ?>" id="uiPostDectHandsets$0" disabled>
+` ?>
+<input type="hidden" name="dect:settings/RingOnAllMSNs" value="<? query dect:settings/RingOnAllMSNs ?>" id="uiPostDectRingAllMsns" disabled>
+<input type="hidden" name="dect:command/Unsubscribe" value="" id="uiPostUnsubscribeDect" disabled>
+<Input type="hidden" name="var:DectID" value="<? echo $var:DectID ?>" id="uiPostDectID">
--- usr/www/all/html/de/fon_config/fon_config_fondevices.js
+++ usr/www/all/html/de/fon_config/fon_config_fondevices.js
@@ -31,7 +31,9 @@
 var g_txt_Type_AB_Id = "Tam";
 var g_txt_Type_Fax_Id = "Fax";
 var g_txt_Type_Mini = "{?txtNumbers_js?}";
+var g_txt_Type_Dect = "Schnurlostelefon (DECT)";
 var g_txt_Type_Mini_Id = "Mini";
+var g_txt_Type_Dect = "Schnurlostelefon (DECT)";
 var g_mldNoFonDevUnconfig="{?3256:7232?}";
 var g_ShowNoDevices=false;
 function uiDoOnLoad() {
@@ -249,7 +251,13 @@
 g_ShowNoDevices=true;
 var strResult="<tr><td colspan=\"5\" style=\"text-align: center;\">{?3256:1180?}</td></tr>";
 var ReactOnAllNumbers=false;
-<? repeat [ 0 2 ] `
+for ( var j=0;j<6;j++) {
+if ((jslGetValue("uiPostHandset"+j+"Subscribe") == "1") && (jslGetValue("uiPostHandset"+j+"Notation") != "")) {
+jslDisplay( "uiDeviceFonDect"+j,true);
+g_FonDeviceFound = true;
+}
+}
+<? repeat [ 0 1 ] `
 if ("<? query telcfg:settings/MSN/Port$0/AllIncomingCalls ?>"=="1")
 ReactOnAllNumbers=true;
 ` ?>
--- /dev/null
+++ usr/www/all/html/de/help/hilfe_fon_dect_festnetzrufnummer.html
@@ -0,0 +1,12 @@
+<div class="Hilfe">
+<div class="backtitel"><div class="rundrt"><div class="rundlt"><div class="ecklb"><div class="eckrb"><div class="foretitel">Festnetzrufnummern</div></div></div></div></div></div>
+<div class="backdialog"><div class="ecklm"><div class="eckrm"><div class="ecklb"><div class="eckrb"><div class="foredialog">
+<p>Auf dieser Registerkarte tragen Sie die Rufnummern Ihres Festnetzanschlusses in die FRITZ!Box ein.</p>
+<ol>
+<li>Wählen Sie die Art Ihres Festnetzanschlusses aus.</li>
+<li>Tragen Sie Ihre ISDN-Rufnummern oder die Rufnummer Ihres analogen Anschlusses in die dafür vorgesehenen Felder ein.</li>
+<li>Klicken Sie auf die Schaltfläche &quot;Übernehmen&quot;, damit die Rufnummern in der FRITZ!Box eingetragen werden.</li>
+</ol>
+</div></div></div></div></div></div>
+<? include ../html/de/help/rback.html ?>
+</div>
--- /dev/null
+++ usr/www/all/html/de/help/hilfe_fon_dect_fon1isdn.html
@@ -0,0 +1,23 @@
+<div class="Hilfe">
+<div class="backtitel"><div class="rundrt"><div class="rundlt"><div class="ecklb"><div class="eckrb"><div class="foretitel">Interne Nummer</div></div></div></div></div></div>
+<div class="backdialog"><div class="ecklm"><div class="eckrm"><div class="ecklb"><div class="eckrb"><div class="foredialog">
+<p>Auf dieser Seite weisen Sie einem DECT-Telefon, das mit der FRITZ!Box verbunden ist, eine interne Nummer zu. Das Telefon, dem Sie die interne 
+Nummer zuweisen möchten, bestimmen Sie durch die Angabe im Feld &quot;Rufnummer des Telefons&quot;.</p>
+<h3>Nummer</h3>
+<p>Der hier angezeigte Wert ist die interne Nummer, die dem DECT-Telefon zugewiesen wird. Die Nummer wird automatisch von der FRITZ!Box vorgegeben 
+und kann nicht verändert werden.</p>
+<h3>Bezeichnung</h3>
+<p>Tragen Sie hier eine beliebige Bezeichnung für das DECT-Telefon ein, dem Sie die interne Nummer zuweisen möchten. Mit dieser Bezeichnung 
+wird das DECT-Telefon in den Listen anderer Menüs (z.B. &quot;Anrufliste&quot;, &quot;Wecker&quot;) angezeigt.</p>
+<h3>Rufnummer des Telefons</h3>
+<p>Wählen Sie hier eine Rufnummer aus, die Sie direkt am DECT-Telefon eingegeben haben. Mit dieser Auswahl legen Sie das DECT-Telefon fest, 
+dem Sie die interne Nummer zuweisen möchten. Hier werden nur Rufnummern zur Auswahl angeboten, die Sie bereits in die FRITZ!Box eingetragen 
+haben.</p>
+<p>Die automatisch von der FRITZ!Box vorgegebene interne Nummer steht ebenfalls in dieser Liste zur Auswahl. Die Auswahl der internen Nummer 
+als Rufnummer des Telefons ist dann sinnvoll, wenn die Rufnummer des Telefons auch an anderen Telefonen zugewiesen worden ist. Geben Sie in 
+diesem Fall auch direkt am DECT-Telefon die interne Nummer als Rufnummer ein. Damit stellen Sie sicher, dass nur dieses eine DECT-Telefon auf 
+die interne Nummer reagiert.</p>
+<p>Klicken Sie auf die Schaltfläche &quot;Übernehmen&quot;, um die Änderungen der Einstellungen zu übernehmen.</p>
+</div></div></div></div></div></div>
+<? include ../html/de/help/rback.html ?>
+</div>
--- /dev/null
+++ usr/www/all/html/de/help/hilfe_fon_dect.html
@@ -0,0 +1,25 @@
+<div class="Hilfe">
+<div class="backtitel"><div class="rundrt"><div class="rundlt"><div class="ecklb"><div class="eckrb"><div class="foretitel">DECT-Endgeräte</div></div></div></div></div></div>
+<div class="backdialog"><div class="ecklm"><div class="eckrm"><div class="ecklb"><div class="eckrb"><div class="foredialog">
+<p>Um die DECT-Endgeräte an der FRITZ!Box in Betrieb zu nehmen, sind folgende Schritte notwendig:</p>
+<ul>
+<li>Tragen Sie Ihre Internetrufnummern und Ihre Festnetzrufnummern in die FRITZ!Box ein.</li>
+<li>Weisen Sie den DECT-Endgeräten die Rufnummern zu.</li>
+</ul>
+<p><b>Rufnummern in die FRITZ!Box eintragen:</b><br>
+Internetrufnummern tragen Sie im Menü &quot;Telefonie / Internettelefonie&quot; ein. Festnetzrufnummern tragen Sie auf der Seite &quot;Festnetzrufnummern&quot; 
+in diesem Menü ein.</p>
+<h2>Hauptrufnummer</h2>
+<p>DECT-Endgeräte, an denen keine Rufnummer zugewiesen wurde, führen ausgehende Rufe über die im Feld &quot;Hauptrufnummer&quot; eingetragene Rufnummer. 
+Die erste Internetrufnummer, die in die FRITZ!Box eingtragen wird, wird automatisch zur Hauptrufnummer.</p>
+<h2>vorhandene Rufnummern</h2>
+<p>In der Liste &quot;vorhandene Rufnummern&quot; werden die Rufnummern angezeigt, die Sie bereits in die FRITZ!Box eingetragen haben. Diese Rufnummern 
+können an den DECT-Endgeräten als Mehrfachrufnummern (MSNs) angegeben werden.<br>
+<b>Hinweis:</b> Falls an den DECT-Endgeräten Rufnummern eingetragen sind, die in dieser Liste noch nicht aufgeführt sind, tragen Sie diese Rufnummern 
+ebenfalls in die FRITZ!Box ein. </p>
+<h2>Telefonbuch senden</h2>
+<p>Klicken Sie auf diese Schaltfläche, wenn Sie das Telefonbuch oder einzelne Einträge aus dem Telefonbuch zu einem Mobilteil übertragen möchten.</p>
+<p>Klicken Sie auf die Schaltfläche &quot;Übernehmen&quot;, um die Änderungen der Einstellungen zu übernehmen.</p>
+</div></div></div></div></div></div>
+<? include ../html/de/help/rback.html ?>
+</div>
--- /dev/null
+++ usr/www/all/html/de/help/hilfe_fon_editdect.html
@@ -0,0 +1,19 @@
+<div class="Hilfe">
+<div class="backtitel"><div class="rundrt"><div class="rundlt"><div class="ecklb"><div class="eckrb"><div class="foretitel">Mobilteile</div></div></div></div></div></div>
+<div class="backdialog"><div class="ecklm"><div class="eckrm"><div class="ecklb"><div class="eckrb"><div class="foredialog">
+<p>Bis zu sechs DECT-Telefone, können mit der FRITZ!Box verbunden werden. </p>
+<p>In der Tabelle werden Ihnen die DECT-Telefone angezeigt, die bereits mit der FRITZ!Box verbunden sind. über 
+die Schaltflächen am rechten Tabellenrand können Sie registrierte DECT-Telefone abmelden.</p>
+<p>Nur bei DECT-Telefonen mit dem Zusatzmerkmal &quot;Swissvoice/GAP&quot; können die erweiterten Einstellungen, u.a. für den Anrufbeantworter und die 
+Rufnummernzuordnung, vom Mobilteil aus vorgenommen werden.</p>
+<h4>Schaltfläche &quot;Mobilteil anmelden&quot;</h4>
+<p>Um ein neues DECT-Telefon an der FRITZ!Box anzumelden, klicken Sie auf die Schaltfläche &quot;Mobilteil anmelden&quot;. Am DECT-Telefon müssen Sie
+zur Registrierung die System-PIN (in der Werkseinstellung &quot;0000&quot;) eingeben.</p>
+<h4>Schaltfläche &quot;Mobilteile pagen&quot;</h4>
+<p>Über diese Schaltflöche können Sie alle mit der FRITZ!Box verbundene DECT-Telefonen durch einen internen Anruf lokalisieren.</p>
+<h4>Schaltfläche &quot;Datum und Uhrzeit setzen&quot;</h4>
+<p>Über diese Schaltfläche können Sie auf den angemeldeten DECT-Telefonen das aktuelle Datum und die Uhrzeit der FRITZ!Box setzen (z.B. nach einem 
+Akkuwechsel am Mobilteil).</p>
+</div></div></div></div></div></div>
+<? include ../html/de/help/rback.html ?>
+</div>
--- /dev/null
+++ usr/www/all/html/de/help/hilfe_fon_fon1dect.html
@@ -0,0 +1,19 @@
+<div class="Hilfe">
+<div class="backtitel"><div class="rundrt"><div class="rundlt"><div class="ecklb"><div class="eckrb"><div class="foretitel">Mobilteile</div></div></div></div></div></div>
+<div class="backdialog"><div class="ecklm"><div class="eckrm"><div class="ecklb"><div class="eckrb"><div class="foredialog">
+<p>Bis zu sechs DECT-Telefone, können mit der FRITZ!Box verbunden werden. </p>
+<p>In der Tabelle werden Ihnen die DECT-Telefone angezeigt, die bereits mit der FRITZ!Box verbunden sind. Über 
+die Schaltflächen am rechten Tabellenrand können Sie registrierte DECT-Telefone abmelden.</p>
+<p>Nur bei DECT-Telefonen mit dem Zusatzmerkmal &quot;Swissvoice/GAP&quot; können die erweiterten Einstellungen, u.a. für den Anrufbeantworter und die 
+Rufnummernzuordnung, vom Mobilteil aus vorgenommen werden.</p>
+<h4>Schaltfläche &quot;Mobilteil anmelden&quot;</h4>
+<p>Um ein neues DECT-Telefon an der FRITZ!Box anzumelden, klicken Sie auf die Schaltfläche &quot;Mobilteil anmelden&quot;. Am DECT-Telefon müssen Sie
+zur Registrierung die System-PIN (in der Werkseinstellung &quot;0000&quot;) eingeben.</p>
+<h4>Schaltfläche &quot;Mobilteile pagen&quot;</h4>
+<p>Über diese Schaltfläche können Sie alle mit der FRITZ!Box verbundene DECT-Telefonen durch einen internen Anruf lokalisieren.</p>
+<h4>Schaltfläche &quot;Datum und Uhrzeit setzen&quot;</h4>
+<p>Über diese Schaltfläche können Sie auf den angemeldeten DECT-Telefonen das aktuelle Datum und die Uhrzeit der FRITZ!Box setzen (z.B. nach einem 
+Akkuwechsel am Mobilteil).</p>
+</div></div></div></div></div></div>
+<? include ../html/de/help/rback.html ?>
+</div>
--- /dev/null
+++ usr/www/all/html/de/help/hilfe_fon_listdect.html
@@ -0,0 +1,21 @@
+<div class="Hilfe">
+<div class="backtitel"><div class="rundrt"><div class="rundlt"><div class="ecklb"><div class="eckrb"><div class="foretitel">Interne Nummern</div></div></div></div></div></div>
+<div class="backdialog"><div class="ecklm"><div class="eckrm"><div class="ecklb"><div class="eckrb"><div class="foredialog">
+<p>DECT-Telefonen, die mit der FRITZ!Box verbunden sind, können Sie interne Rufnummern zuweisen. </p>
+<p>Mit der internen Nummer </p>
+<ul>
+<li>können die DECT-Telefone, die mit der FRITZ!Box verbunden sind, sich gegenseitig anwählen</li>
+<li>können die DECT-Telefone in anderen Einstellungsoptionen, wie z. B. der &quot;Anrufliste&quot; gezielt ausgewählt werden.</li>
+</ul>
+<p></p>
+<p>Um einen Anruf zwischen zwei mit der FRITZ!Box verbundenen DECT-Telefonen herzustellen, wählen Sie **&lt;Nummer&gt;<br>
+<b>Beispiel: </b>Sie wollen von einem mit der FRITZ!Box verbundenen DECT-Telefon das DECT-Telefon mit der internen Nummer &quot;55&quot; anrufen. Wählen 
+Sie: **55</p>
+<p>Um eine interne Nummer einem DECT-Telefon zuzuweisen, klicken Sie auf die Schaltfläche &quot;Neue Nummer&quot;.</p>
+<p>In der Tabelle werden Ihnen die DECT-Telefone angezeigt, die schon über eine interne Nummer verfügen. Die Tabelleneinträge können Sie über 
+die Schaltflächen am rechten Tabellenrand verändern oder löschen.</p>
+<h4>Schaltfläche &quot;Neue Nummer&quot;</h4>
+<p>Über diese Schaltfläche weisen Sie den DECT-Telefonen interne Nummern zu.</p>
+</div></div></div></div></div></div>
+<? include ../html/de/help/rback.html ?>
+</div>
--- /dev/null
+++ usr/www/all/html/de/help/hilfe_fon_setupdect.html
@@ -0,0 +1,21 @@
+<div class="Hilfe">
+<div class="backtitel"><div class="rundrt"><div class="rundlt"><div class="ecklb"><div class="eckrb"><div class="foretitel">Rufnummernzuordnung</div></div></div></div></div></div>
+<div class="backdialog"><div class="ecklm"><div class="eckrm"><div class="ecklb"><div class="eckrb"><div class="foredialog">
+<p>DECT-Telefonen, die mit der FRITZ!Box verbunden sind, können Sie bis zu fünf Rufnummern (MSN A bis E) zuweisen. </p>
+<p>Rufnummern, die einem Mobilteil zugeordnet werden können, sind </p>
+<ul>
+<li>Internetrufnummern, die im Menü &quot;Internettelefonie&quot; eingerichtet wurden.</li>
+<li>Festnetzrufnummer(n) eines vorhandenen Analog- oder ISDN-Telefonanschlusses.</li>
+<li>Unter &quot;Interne Nummern&quot; eingerichtete interne Rufnummern der DECT-Telefone.</li>
+</ul>
+<p></p>
+<h4>Schaltfläche &quot;Neue Zuordnung&quot</h4>
+<p>Um eine Rufnummer einem DECT-Telefon zuzuweisen, klicken Sie auf die Schaltfläche &quot;Neue Zuordnung&quot;.</p>
+<p>In der Tabelle werden Ihnen die Rufnummern (MSN A bis E) angezeigt, die schon einem DECT-Telefon zugeordnet sind. Die Tabelleneinträge können Sie über 
+die Schaltflächen am rechten Tabellenrand verändern oder löschen.</p>
+<h4>Option &quot;Auf alle Rufnummern reagieren&quot;</h4>
+<p>Über diese Option weisen Sie die DECT-Telefone an, auf eingehende Anrufe an allen Rufnummern zu reagiern. Durch das Setzen dieser Option 
+werden bereits eingerichtete Rufnummernzuordnungen gelöscht.</p>
+</div></div></div></div></div></div>
+<? include ../html/de/help/rback.html ?>
+</div>
--- usr/www/all/html/de/home/buchsend.html
+++ usr/www/all/html/de/home/buchsend.html
@@ -14,10 +14,10 @@
 <select id="handset">
 <? setvariable var:handsetfound 0 ?>
 <? multiquery dect:settings/Handset/list(Subscribed,Type,Name) `
+<option value="$0"><script type="text/javascript">document.write("<? query dect:settings/Handset$0/Name ?>");</script></option>
 <? if eq $2 1 `
 <? if eq $3 1 `
 <? setvariable var:handsetfound 1 ?>
-<option value="$0"><script type="text/javascript">document.write("<? query dect:settings/Handset$0/Name ?>");</script></option>
 ` ?>
 ` ?>
 ` ?>
@@ -61,7 +61,7 @@
 <? include ../html/de/home/error.html ?>
 </div></div></div></div></div></div>
 <div class="backdialog"><div class="ecklm"><div class="eckrm"><div class="rundrb"><div class="rundlb"><div class="forebuttons">
-<input type="button" onclick="uiDoSend()" value="{?214:1032?}" class=Pushbutton <? if neq $var:handsetfound 1 `disabled` ?> >
+<input type="button" onclick="uiDoSend()" value="{?214:1032?}" class=Pushbutton >
 <input type="button" onclick="uiDoCancel()" value="{?txtCancel?}" class="Pushbutton" id="buttonCancel">
 <input type="button" onclick="uiDoHelp()" value="{?txtHelp?}" class=Pushbutton>
 </div></div></div></div></div></div>
--- /dev/null
+++ usr/www/all/html/de/home/dect0.frm
@@ -0,0 +1 @@
+<? include ../html/de/fon/dect0.frm ?>
--- /dev/null
+++ usr/www/all/html/de/home/dect0.html
@@ -0,0 +1 @@
+<? include ../html/de/fon/dect0.html ?>
--- /dev/null
+++ usr/www/all/html/de/home/dect0.inc
@@ -0,0 +1 @@
+<? include ../html/de/fon/dect0.inc ?>
--- /dev/null
+++ usr/www/all/html/de/home/dect0.js
@@ -0,0 +1 @@
+<? include ../html/de/fon/dect0.js ?>
--- /dev/null
+++ usr/www/all/html/de/home/fon1dect.frm
@@ -0,0 +1 @@
+<? include ../html/de/fon/fon1dect.frm ?>
--- /dev/null
+++ usr/www/all/html/de/home/fon1dect.html
@@ -0,0 +1 @@
+<? include ../html/de/fon/fon1dect.html ?>
--- /dev/null
+++ usr/www/all/html/de/home/fon1dect.inc
@@ -0,0 +1 @@
+<? include ../html/de/fon/fon1dect.inc ?>
--- /dev/null
+++ usr/www/all/html/de/home/fon1dect.js
@@ -0,0 +1 @@
+<? include ../html/de/fon/fon1dect.js ?>
--- usr/www/all/html/de/home/fon1Mini.frm
+++ usr/www/all/html/de/home/fon1Mini.frm
@@ -28,3 +28,4 @@
 <? include ../html/de/home/fonbuchBasis.frm ?>
 <Input type="hidden" name="telcfg:settings/Foncontrol/<? echo $var:MiniUser ?>/Phonebook" value="<? query telcfg:settings/Foncontrol/<? echo $var:MiniUser ?>/Phonebook ?>" id="uiPostUserPhonebook" disabled>
 ` ?>
+<input type="hidden" name="var:FromMenuDect" value="<? echo :FromMenuDect ?>" id="uiFromMenuDect">
--- usr/www/all/html/de/home/fonbuch.html
+++ usr/www/all/html/de/home/fonbuch.html
@@ -85,6 +85,12 @@
 </div>
 <? include ../html/de/home/error.html ?>
 </div></div></div></div></div></div>
+<div class="backdialog" <div class="ecklm"><div class="eckrm"><div class="ecklb"><div class="eckrb"><div class="foredialog">
+<p class="mb5">Das Telefonbuch kann an Schnurlostelefone gesendet werden.</p>
+<input type="button" value="Telefonbuch senden" onclick="uiDoSendBook()" class="Pushbutton" style="width:180px;">
+<div style="text-align: right;">
+</div>
+</div></div></div></div></div></div>
 <div class="backdialog"><div class="ecklm"><div class="eckrm"><div class="rundrb"><div class="rundlb"><div class="forebuttons">
 <input type="button" onclick="uiDoHelp()" value="{?txtHelp?}" class="Pushbutton">
 </div></div></div></div></div></div>
--- usr/www/all/html/de/home/fonbuch.js
+++ usr/www/all/html/de/home/fonbuch.js
@@ -619,4 +619,7 @@
 }
 return deviceName;
 }
+function uiDoSendBook() {
+jslGoTo("<? print $var:menu ?>", "buchsend");
+}
 </script>
--- usr/www/all/html/de/home/fondevices.frm
+++ usr/www/all/html/de/home/fondevices.frm
@@ -138,3 +138,18 @@
 <? multiquery voipextension:settings/extension/list '
 <Input type="hidden" name="voipextension:command/$1" value="delete" id="uiPostDelete$1" disabled>
 ' ?>
+<? repeat [ 0 5 ] `
+<input type="hidden" name="dect:settings/Handset$0/Subscribed" value="<? query dect:settings/Handset$0/Subscribed ?>" id="uiPostHandset$0Subscribe" disabled />
+<input type="hidden" name="dect:settings/Handset$0/Type" value="<? query dect:settings/Handset$0/Type ?>" id="uiPostHandset$0Type" disabled />
+<input type="hidden" name="dect:settings/Handset$0/Name" value="<? query dect:settings/Handset$0/Name ?>" id="uiPostHandset$0Notation" disabled />
+` ?>
+<? repeat [ 0 4 ] `
+<input type="hidden" name="dect:settings/MSN$0/MSN" value="<? query dect:settings/MSN$0/MSN ?>" id="uiPostDectMsn$0" disabled />
+<input type="hidden" name="dect:settings/MSN$0/Handsets" value="<? querytext dect:settings/MSN$0/Handsets ?>" id="uiPostDectHandsets$0" disabled />
+` ?>
+<input type="hidden" name="dect:settings/RingOnAllMSNs" value="<? query dect:settings/RingOnAllMSNs ?>" id="uiPostDectRingAllMsns" disabled />
+<input type="hidden" name="dect:command/Unsubscribe" value="" id="uiPostUnsubscribeDect" disabled />
+<Input type="hidden" name="var:DectID" value="<? echo $var:DectID ?>" id="uiPostDectID">
+<input type="hidden" name="var:FromMenuDect" value="<? echo :FromMenuDect ?>" id="uiFromMenuDect">
+<input type="hidden" name="dect:command/Unsubscribe" value="0" id="uiPostUnsubscribe" disabled>
+<input type="hidden" name="dect:command/PIN" value="" id="uiPostDectPIN" disabled>
--- usr/www/all/html/de/home/fondevices.html
+++ usr/www/all/html/de/home/fondevices.html
@@ -18,6 +18,7 @@
 <ul class="tabs">
 <li class="tabs_on"><div class="activtab">{?1947:7480?}</div></li>
 <li><a href="javascript:uiDoMsn()">{?gFestNetz?}</a></li>
+<li><a href="javascript:uiDoEditDevice( 0, 0, 0)">Nebenstelle 1</a></li> <li><a href="javascript:uiDoEditDevice( 0, 1, 0)">Nebenstelle 2</a></li> <li><a href="javascript:uiDoEditDevice( 1, 0, 11)">S0 Buss Int.</a></li>
 </ul>
 ` ?>
 <div class="backdialog"><div class="ecklm"><div class="eckrm"><div class="ecklb"><div class="eckrb"><div class="foredialog">
--- /dev/null
+++ usr/www/all/html/de/home/fondevices.inc
@@ -0,0 +1,4 @@
+<? setvariable var:Text27 'DECT-Handteile' ?>
+<? setvariable var:Text30 'Name' ?>
+<? setvariable var:TextDectPin 'DECT-Basisstation PIN' ?>
+<? setvariable var:TextDectSetPin 'PIN setzen' ?>
--- usr/www/all/html/de/home/fondevices.js
+++ usr/www/all/html/de/home/fondevices.js
@@ -33,7 +33,9 @@
 var g_txt_Type_AB_Id = "Tam";
 var g_txt_Type_Fax_Id = "Fax";
 var g_txt_Type_Mini = "{?txtNumbers_js?}";
+var g_txt_Type_Dect = "Schnurlostelefon (DECT)";
 var g_txt_Type_Mini_Id = "Mini";
+var g_txt_Type_Dect = "Schnurlostelefon (DECT)";
 var g_ShowNoDevices=false;
 function uiDoOnLoad() {
 document.title ="{?6773:3262?}";
@@ -292,7 +294,13 @@
 g_ShowNoDevices=true;
 var strResult="<tr><td colspan=\"6\" style=\"text-align: center;\">{?6773:5641?}</td></tr>";
 var ReactOnAllNumbers=false;
-<? repeat [ 0 2 ] `
+for ( var j=0;j<6;j++) {
+if ((jslGetValue("uiPostHandset"+j+"Subscribe") == "1") && (jslGetValue("uiPostHandset"+j+"Notation") != "")) {
+jslDisplay( "uiDeviceFonDect"+j,true);
+g_FonDeviceFound = true;
+}
+}
+<? repeat [ 0 1 ] `
 if ("<? query telcfg:settings/MSN/Port$0/AllIncomingCalls ?>"=="1")
 ReactOnAllNumbers=true;
 ` ?>
@@ -825,4 +833,95 @@
 var ppWindow = window.open(url, "Zweitfenster", "width=775,height=400,statusbar,resizable=yes,scrollbars=yes");
 ppWindow.focus();
 }
+function RingToAll( nValue) {
+for ( var i=0;i<5;i++) {
+if ( IsHandsetConfigured( i, nValue) == false) return false;
+}
+return true;
+}
+function IsHandsetConfigured( nPos, wert) {
+var oldHandset = jslGetValue( "uiPostDectHandsets"+nPos).charCodeAt(0) - 48;
+if ( (oldHandset & wert) == wert) return true;
+return false;
+}
+function DectDeviceInfoEntry ( UserNId, FonControlUserId, isSubscribed) {
+this.nUserNId = UserNId;
+this.nFonControlUserId = FonControlUserId;
+this.bisSubscribed = isSubscribed;
+}
+var g_DectDeviceInfoList= new Array();
+var g_DectDeviceInfoListCnt=0;
+function AddDectDeviceInfo(dectID, isSubscribed, UserId)
+{
+g_DectDeviceInfoList[dectID]= new DectDeviceInfoEntry( dectID,UserId,isSubscribed);
+g_DectDeviceInfoListCnt++;
+}
+function GetDectDeviceNId(FonControlUserId)
+{
+for ( var j=0; j<g_DectDeviceInfoListCnt; j++) {
+if(g_DectDeviceInfoList[j].nFonControlUserId==FonControlUserId)
+return g_DectDeviceInfoList[j].nUserNId;
+}
+return null;
+}
+function uiDoDeleteDectDevice(id)
+{
+if (!confirm(g_mldDelete)) return;
+nId=GetDectDeviceNId(id);
+if(nId==null)
+{
+}
+else
+{
+var nSubscribedDeviceCount = 0;
+<? multiquery dect:settings/Handset/list(Subscribed) `
+if ( "$2" == "1") nSubscribedDeviceCount++;
+` ?>
+if (nSubscribedDeviceCount > 0)
+nSubscribedDeviceCount--;
+jslSetValue("uiDectDeviceCount", nSubscribedDeviceCount);
+jslSetValue( "uiPostUnsubscribe", nId);
+jslEnable( "uiPostUnsubscribe");
+jslSubmitFormEx(g_menu, "fondevices", "fondevices");
+}
+}
+function uiOnDectSetPin(){
+pin=jslGetValue("uiPinInput");
+if (pin.length != 4 || !valIsZahl(pin) ) {alert(g_mldPin); return;}
+jslCopyValue("uiPostDectPIN", "uiPinInput");
+jslEnable("uiPostDectPIN")
+jslFormSubmitEx("fon", "fondevices");
+}
+function uiDoEditDevice( technik, portNo, deviceType) {
+jslSetValue("uiPostPageMaster", "fondevices");
+if (technik == "1") {
+jslSetValue("uiPostIsdnNr", portNo);
+jslSetValue("uiPostParent", "fondevices");
+if ( deviceType == 11) {
+jslSetValue( "uiShowIsdnDefault", "1")
+jslSubmitFormEx(g_menu, "isdn", "fondevices");
+} else {
+jslSetValue( "uiShowIsdnDefault", "0")
+jslSubmitFormEx(g_menu, "fon1isdn", "fondevices");
+}
+} else if ( technik == "2") {
+jslSetValue("uiPostDectID", portNo);
+jslSetValue("uiPostParent", "fondevices");
+jslSubmitFormEx(g_menu, "fon1Dect", "fondevices");
+} else if ( technik == "5") {
+jslSetValue("uiPostParent", "fondevices");
+jslSubmitFormEx(g_menu, "fon1fxi", "fondevices");
+} else {
+jslSetValue("uiPostFonNr", portNo);
+switch ( deviceType) {
+case 0:
+jslSetValue("uiPostFonDeviceKind", g_txt_Type_Fon);break;
+case 1:
+jslSetValue("uiPostFonDeviceKind", g_txt_Type_AB);break;
+case 2:
+jslSetValue("uiPostFonDeviceKind", g_txt_Type_Fax);break;
+}
+jslSubmitFormEx(g_menu, "fon1", "fondevices");
+}
+}
 </script>
--- /dev/null
+++ usr/www/all/html/de/home/foneditdect.frm
@@ -0,0 +1 @@
+<? include ../html/de/fon/foneditdect.frm ?>
--- /dev/null
+++ usr/www/all/html/de/home/foneditdect.html
@@ -0,0 +1 @@
+<? include ../html/de/fon/foneditdect.html ?>
--- /dev/null
+++ usr/www/all/html/de/home/foneditdect.inc
@@ -0,0 +1 @@
+<? include ../html/de/fon/foneditdect.inc ?>
--- /dev/null
+++ usr/www/all/html/de/home/foneditdect.js
@@ -0,0 +1 @@
+<? include ../html/de/fon/foneditdect.js ?>
--- /dev/null
+++ usr/www/all/html/de/home/fonlistdect.frm
@@ -0,0 +1 @@
+<? include ../html/de/fon/fonlistdect.frm ?>
--- /dev/null
+++ usr/www/all/html/de/home/fonlistdect.html
@@ -0,0 +1 @@
+<? include ../html/de/fon/fonlistdect.html ?>
--- /dev/null
+++ usr/www/all/html/de/home/fonlistdect.inc
@@ -0,0 +1 @@
+<? include ../html/de/fon/fonlistdect.inc ?>
--- /dev/null
+++ usr/www/all/html/de/home/fonlistdect.js
@@ -0,0 +1 @@
+<? include ../html/de/fon/fonlistdect.js ?>
--- /dev/null
+++ usr/www/all/html/de/home/fonsetupdect.frm
@@ -0,0 +1 @@
+<? include ../html/de/fon/fonsetupdect.frm ?>
--- /dev/null
+++ usr/www/all/html/de/home/fonsetupdect.html
@@ -0,0 +1 @@
+<? include ../html/de/fon/fonsetupdect.html ?>
--- /dev/null
+++ usr/www/all/html/de/home/fonsetupdect.inc
@@ -0,0 +1 @@
+<? include ../html/de/fon/fonsetupdect.inc ?>
--- /dev/null
+++ usr/www/all/html/de/home/fonsetupdect.js
@@ -0,0 +1 @@
+<? include ../html/de/fon/fonsetupdect.js ?>
--- usr/www/all/html/de/home/home.html
+++ usr/www/all/html/de/home/home.html
@@ -33,6 +33,11 @@
 <td><div id="dsl_info"></div></td>
 </tr>
 <tr>
+<td class="tdName"><script type="text/javascript">document.write(DectStateTitle(true));</script></td>
+<td class="tdLed"><script type="text/javascript">document.write(DectLed());</script></td>
+<td><script type="text/javascript">document.write(DectStateDisplay());</script></td>
+</tr>
+<tr>
 <td class="tdName"><div id="wlan_title"><a href="">{?272:6028?}</a></div></td>
 <td class="tdLed"><div id="wlan_led"><script type="text/javascript">document.write(StateLed());</script></div></td>
 <td><div id="wlan_info"></div></td>
--- usr/www/all/html/de/home/home.js
+++ usr/www/all/html/de/home/home.js
@@ -85,6 +85,7 @@
 var g_Fon50 = "{?895:9721?}";
 var g_FonAll = "{?895:8055?}";
 var g_tamActive = 0;
+var mCount = "<? query telcfg:settings/Foncontrol ?>";
 var g_tamDisplay = 0;
 <? repeat [ 0 4 ] `
 if ("<? query tam:settings/TAM$0/Active ?>" == "1") {
@@ -1072,10 +1073,43 @@
 case "8": str += "{?895:2671?}"; break;
 case "9": str += "{?895:4401?}"; break;
 case "11": str += "{?895:8963?}"; break;
+case "12": str += "Bei aktiviertem DECT"; break;
 case "13": str += "{?895:2868?}"; break;
 }
 return str + ".";
 }
+function DectStateTitle(asLink) {
+var str = "";
+if (asLink) str += "<a href=\"javascript:jslGoTo('dect', 'setting');\">";
+str += "DECT";
+if (asLink) str += "</a>";
+return str;
+}
+function DectLed() {
+var str = "<img src=\"../html/de/images/led_gray.gif\">";
+<? if eq '<? query dect:settings/enabled ?>' '1' `
+str = "<img src=\"../html/de/images/led_green.gif\">";
+` ?>
+return str;
+}
+
+function DectStateDisplay() {
+var g_countDect2 = 0;
+<? if eq '<? query dect:settings/enabled ?>' '0' `
+return "aus";
+` ?>
+//g_countDect2
+<? multiquery dect:settings/Handset/list(Subscribed) `
+if ( "$2" == "1") g_countDect2++;
+` ?>
+var str = new Array(" Schnurlostelefon"," angemeldet");
+switch (g_countDect2)
+{
+case 0: return "an, kein" + str.join("");
+case 1: return "an, ein" + str.join("");
+default: return "an, "+g_countDect2+str.join("e");
+}
+}
 function RufumleitungDisplay() {
 isAllIncoming=0;
 <? multiquery telcfg:settings/CallerIDActions/list(CallerID) `
--- usr/www/all/html/de/js/basis.js
+++ usr/www/all/html/de/js/basis.js
@@ -167,7 +167,7 @@
 var menu = readCookie("menu");
 var page = readCookie("page");
 if (menu == "konfig") {
-jslGoTo("konfig", "home");
+jslGoTo("enhsettings", "enhsettings");
 }
 else if (menu == "software") {
 jslGoTo("software", "extern");
@@ -176,7 +176,7 @@
 jslGoTo("enhsettings", "enhsettings");
 }
 else {
-jslGoTo("konfig", "home");
+jslGoTo("enhsettings", "enhsettings");
 }
 }
 function GoToSitemap()
--- usr/www/all/html/de/konfig/update_OnClick_1.js
+++ usr/www/all/html/de/konfig/update_OnClick_1.js
@@ -13,7 +13,7 @@
 function uiDoOnLoad() {
 document.title = "{?257:8680?}";
 SetSpanText("uiStatus", " ");
-Tabs(0);
+Tabs(1);
 <? if eq $var:OEM freenet `
 var usePstn = "<? query telcfg:settings/UsePSTN ?>";
 if (usePstn == "0") alert(g_mldfreenet);
--- /dev/null
+++ usr/www/all/html/de/menus/klingelsperre_mimi.frm
@@ -0,0 +1 @@
+<input type="hidden" name="var:FromMenuDect" value="<? echo :FromMenuDect ?>" id="uiFromMenuDect">
--- /dev/null
+++ usr/www/all/html/de/menus/menu2_dect.html
@@ -0,0 +1,13 @@
+<? include ../html/de/menus/menu2_$var:menu.inc ?>
+<li class="LMenuitem"><img class="LMenuPfeil" src="<? echo $var:aktivpfeil ?>"><a href="javascript:jslGoTo('dect','setting')">DECT</a><span class="PTextOnly">DECT</span></li>
+<!-- wlan:settings/ap_enabled = '<? query wlan:settings/ap_enabled ?>' -->
+<? setvariable var:showDect 0 ?>
+<? if eq <? query dect:settings/enabled ?> 1 '<? setvariable var:showDect 1 ?>' ?>
+<? setvariable var:classsetting 'LSubitem' ?>
+<? if eq $var:pagename setting `<? setvariable var:classsetting 'LSubitemaktiv' ?>` ?>
+<? setvariable var:classhandset 'LSubitem' ?>
+<? if eq $var:pagename handset `<? setvariable var:classhandset 'LSubitemaktiv' ?>` ?>
+<? if eq $var:pagename fon1NewDect `<? setvariable var:classhandset 'LSubitemaktiv' ?>` ?>
+<? if eq $var:showDect 0 `
+<li class="$var:classsetting"><img class="LMenuPfeil" src="$var:subpfeil"><a href="javascript:jslGoTo('dect','setting')">DECT-Einstellungen</a><span class="PTextOnly">DECT-Einstellungen</span></li>
+` ?>
--- usr/www/all/html/de/menus/menu2_fon.html
+++ usr/www/all/html/de/menus/menu2_fon.html
@@ -58,6 +58,13 @@
 ` ?>
 <li class="<? echo $var:classname ?>"><a href="javascript:jslGoTo('fon','fondevices')">{?txtDevices?}</a><span class="PTextOnly">{?txtDevices?}</span></li>
 <? setvariable var:classname 'LSubitem' ?>
+<? if eq $var:pagename dect0 `<? setvariable var:classname 'LSubitemaktiv' ?>` ?>
+<? if eq $var:pagename foneditdect `<? setvariable var:classname 'LSubitemaktiv' ?>` ?>
+<? if eq $var:pagename fonsetupdect `<? setvariable var:classname 'LSubitemaktiv' ?>` ?>
+<? if eq $var:pagename fonlistdect `<? setvariable var:classname 'LSubitemaktiv' ?>` ?>
+<? if eq $var:pagename fon1isdn `<? setvariable var:classname 'LSubitemaktiv' ?>` ?>
+<li class="<? echo $var:classname ?>"><img class="LMenuPfeil" src="<? echo $var:subpfeil ?>"><a href="javascript:jslGoTo('fon','dect0')">DECT-Handteile</a><span class="PTextOnly">DECT-Handteile</span></li>
+<? setvariable var:classname 'LSubitem' ?>
 <? if eq $var:pagename siplist `<? setvariable var:classname 'selected' ?>` ?>
 <? if eq $var:pagename sip1 `<? setvariable var:classname 'selected' ?>` ?>
 <? if eq $var:pagename sipoptionen `<? setvariable var:classname 'selected' ?>` ?>
--- /dev/null
+++ usr/www/all/html/de/menus/menu2.inc
@@ -0,0 +1 @@
+<? setvariable var:TextMenuDECT "DECT" ?>
--- usr/www/all/html/de/menus/menu2_konfig.html
+++ usr/www/all/html/de/menus/menu2_konfig.html
@@ -54,6 +54,17 @@
 ` `
 <li class="LMenuitem"><img class="LMenuPfeil" src="<? echo $var:pfeil ?>"><a href="javascript:jslGoTo('wlan','wlan')">{?txtWlan?}</a><span class="PTextOnly">{?txtWlan?}</span></li>
 ` ?>
+<li class="LMenuitem"><img class="LMenuPfeil" src="<? echo $var:aktivpfeil ?>"><a href="javascript:jslGoTo('dect','setting')">DECT</a><span class="PTextOnly">DECT</span></li>
+<!-- wlan:settings/ap_enabled = '<? query wlan:settings/ap_enabled ?>' -->
+<? setvariable var:showDect 1 ?>
+<? if eq <? query dect:settings/enabled ?> 1 '<? setvariable var:showDect 1 ?>' ?>
+<? setvariable var:classsetting 'LSubitem' ?>
+<? if eq :pagename setting `<? setvariable var:classsetting 'LSubitemaktiv' ?>` ?>
+<? setvariable var:classhandset 'LSubitem' ?>
+<? if eq :pagename handset `<? setvariable var:classhandset 'LSubitemaktiv' ?>` ?>
+<? if eq :showDect 0 `
+<li class="$var:classsetting"><img class="LMenuPfeil" src="$var:subpfeil"><a href="javascript:jslGoTo('dect','setting')">DECT-Einstellungen</a><span class="PTextOnly">DECT-Einstellungen</span></li>
+` ?>
 <? if eq `$var:menu` 'system' `
 <? include ../html/de/menus/menu2_system.html ?>
 ` `
--- /dev/null
+++ usr/www/all/html/de/menus/menu2_konfig.inc
@@ -0,0 +1,2 @@
+<? setvariable var:TextSetting "setting" ?>
+<? setvariable var:TextHandset "handset" ?>
--- usr/www/all/html/de/menus/menu2_system.html
+++ usr/www/all/html/de/menus/menu2_system.html
@@ -60,5 +60,4 @@
 <? setvariable var:classname 'LSubitem' ?>
 <? if eq $var:pagename timeZone `<? setvariable var:classname 'selected' ?>` ?>
 <? if eq $var:OEM avme `
-<li class="<? echo $var:classname ?>"><a href="javascript:jslGoTo('system','timeZone')">{?732:2150?}</a><span class="PTextOnly">{?732:2290?}</span></li>
 ` ?>
--- usr/www/avm/menus/menu_show.lua
+++ usr/www/avm/menus/menu_show.lua
@@ -165,7 +165,7 @@
 end
 local dect_enabled = box.query('dect:settings/enabled') == "1"
 local dect_with_mtd = dect_enabled and any_avm_handset()
-menu.exists_submenu['dect'] = config.DECT or config.DECT2
+menu.exists_submenu['dect'] = false
 menu.show_page["/dect/handset.lua"] = dect_enabled
 local show_dect_moni = false
 if dect_enabled then
@@ -205,7 +205,8 @@
 menu.show_page["/system/ring_block.lua"] = config.FON or box.query("mini:settings/enabled") == "1"
 menu.exists_page["/system/imexport.lua"] = config.STOREUSRCFG
 menu.show_page["/system/update_file.lua"] = expert_mode
-menu.exists_page["/system/timezone.lua"] = box.query("env:status/OEM") == 'avme'
+menu.show_page["/system/update.lua"] = false
+menu.exists_page["/system/timezone.lua"] = false
 menu.exists_page["/system/language.lua"] = config.MULTI_LANGUAGE
 menu.show_page["/fon_num/dial.lua"]=config.CAPI_TE or config.CAPI_POTS or config.AB_COUNT > 0
 menu.show_page["/fon_num/dialbuch.lua"]=config.CAPI_TE or config.CAPI_POTS or config.AB_COUNT > 0
--- usr/www/avm/tools/update_result.html
+++ usr/www/avm/tools/update_result.html
@@ -14,7 +14,7 @@
 function uiDoOnMainFormSubmit() {
 jxl.setHtml("uiStatus", "{?197:584?}");
 jxl.disable("uiUpdate");
-jxl.disable("uiReboot");
+jxl.disable("uiInstall");
 jxl.setStyle("uiMainForm", "cursor", "wait");
 return true;
 }
